webpackJsonp([1],{"+URT":function(t,e){},"+fTz":function(t,e){},"+kNH":function(t,e){},"+skl":function(t,e){},0:function(t,e){},"05xs":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABb0lEQVQ4T6XTPUjWURTH8Y9TNOjUUDkIYhBRkaCoCUH0Qlu1FDQGYTiFYYPoJC1F1JKDRFsRRRA19bZWQ9GLIEHkZlrZUkGbyJFz4fLnceouh3tevvee3z23zX+uthb1W3ARfejN+Hu8xTWs1DVNwAnM4CGuYwFbMYBjOI5RPCqQGnAGV3EIn7EZpzLxPv5hJ15iHHcjVgBxylccwSu04x2eJyD80dJv7E9/D5YK4DK24WwWnMNhnM79gyyazf1tLGOiAOYQRW8yYUfaL2mf4B7u5H4Qt7C7AP5gO8I21zQO4gBWM9iBxWi1AKK3APxtVA8jBNyHn1UsNApARwF8xEjVQsmdwiZMNsDRQuixtwDimp2ViCW/qUXxh4jfAtx8xlD+dXVaXD3Wh8o3hBfoxvfmIF3BUcxnwY20F9LuwjNcag5SOSBG+SYe42kO1Q905fSdxHnEs66vjT7TGPqxJ/M+VZ/pVy1oK0CLUdjYtQbB2EgR3X4UvwAAAABJRU5ErkJggg=="},"1AOM":function(t,e){},"1dBr":function(t,e){},"1y0a":function(t,e){},"22BG":function(t,e){},"25O2":function(t,e){},"2KKJ":function(t,e){},"2ybu":function(t,e){},"3EoK":function(t,e){},"3R+X":function(t,e){},"3uiq":function(t,e,a){t.exports=a.p+"static/img/listimg.4c15cb5.png"},"44HI":function(t,e){t.exports={navList:{list1:"系统概况",list2:"主机管理"}}},"4c6V":function(t,e){},"5K8q":function(t,e){},"6nRs":function(t,e){},"8/HH":function(t,e){},"8EU1":function(t,e){},"93KX":function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"sqlMonitoring "})},staticRenderFns:[]};e.a=s},"9KhJ":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAACPElEQVRIS92W4U0cMRCF31QQOgipgHQAV0GSCgIV5KggXAUJFQQqCFQQqACuArgOSAWDvpUHeRev18shIWHp/tza8+bNezO26Y2WvRGuJoHdfUfST0mfG5O8lbQys4fa/hbgpaRfjaCxDeCTbYEJAOOW9V/Sb36vwbgV+FzSiZndk2GSiErBvvsvX9VSuzu6cvigQvc6AV7FHndHHqqEPxZm9vQt9jwDTpl+IZik3QogZT00s4sMkARJNDfisZlR/nHGg0xjIwAfCgl8G4AS/MdIojA+ykv+xNjdzyR9TwfDJPzHb78QsMfE3ceAI3HaC/CuQh3w4NClpGVmkmYm7o40SBQECL9IHonOAPzM0ua7xOjczA5zdklzWGOUsYWbc3PlCXTmcnfi/pEE808AR4nXZtY6nVp6mkru5rq6O8kh2wpgeuyjpJ5ZmiLP3OTuuP6fpGuAPZ0v9tvM2NXtGbAAZqjvwVhSp9PUuHtpMpnOm1xjQFeS/qZJdJoNhjALkrSuCzPLY2DOmzSULoeupse+pshoj/W7KiR3Mwr5lQZKKaGuddJZtA3zLqKPa1dfb+qk9iNB5JlaVJC9tFGAnprZMp9ctVtow8HQPtNqCpikAYwZsGaYEKd3SRQCPrtfkzPxQW2glBLqmMaHIXD0Gd9L9yuXQPVlUUDsxakBE3g4Ahl3XHdzWY4+gaYeAlSA4V57CNR0ng88w0CvDtz61no/wEww2mabNXrjtZjrpca6Kr0ui+20DbW5Zx8BbiwaOIwz5C4AAAAASUVORK5CYII="},"9xmD":function(t,e){},B1Uj:function(t,e){},BTsv:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyODE1NEFFM0FGNjIxMUU4OUNBMzg3NzJDQ0EwMTZFOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyODE1NEFFNEFGNjIxMUU4OUNBMzg3NzJDQ0EwMTZFOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI4MTU0QUUxQUY2MjExRTg5Q0EzODc3MkNDQTAxNkU4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI4MTU0QUUyQUY2MjExRTg5Q0EzODc3MkNDQTAxNkU4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+a5IiAwAAAxJJREFUeNq8l8tLVUEcx7160xKVUss00rTItALNqDYhmFLQgxYtzNpEi4JoUdSqf0GIUClqURCugjY9Nj0JoodpRS+0l0UilpJkqSV6+/zge2i6navHS/qDD3fmnJnfd+bM/H4zNxSJRBICWCJUwlYogUxI0buf0Acv4TLcgbGJHIYCCJfCLqiG1RqEn5lYC9yAZg0kbuE1cAh2QFjP3kI79EosA4qgTO9H4QIch4cxPZtwDIrhUuSPfYKzUAeFEIYkyIfNUA8vnPbWd2ks/7FE50ATDMtJJxyEZL3PhiIocJ4Z2+GB+ljfBpgdVNhmUQN9ctAP+/UuBSrhBFyFRlgU1b/Gmbn5qJbPCYXz4LTzyRr1zN7thQ/wC8bgto9wogY6qv6nIDeIcDl0qNOAZmDPN0Jr5G+zQVRBGqzQelvb5dCiNuarLFon7LPf5mmXmj2HTpXXOzvXszxogH74CifhI3yGewo/85UdLeInnAVJKr+DYZXn+sRwWHFu9g0uqjwI7xVuSX7CfskgHJUUPPsxQaKxuP7uRani2UsSM4IID0R9Si813oeucYQtWbSpPBNyHf8DQYR7nYalWvMEpcJG6Pbp8xTOwxvVZyvrhfQVeoOscY9ybhXMhw2aiR0EZ7R+tTooRpWTbVPd8tIwlMNa50v1BEmZGXBEsWr2Whkp5LTJgpWwBFKj+lfAFfUdgcOQHiSOTaAEnjjxehc2KTnESrPWrxTOSdDssXJ+4FxtAjuhWw4sSz2DY7DYp719gT1wEwbVx/rWxhrseMfiLDgAR50NZuv8SvHdrTW2+C6AYv16+6QemmBossdigk4Wy7uPIv/akDM716ztvlinUpAZe5ak28cWqNDMMqPa2JfogFZdf65NdP0JBbxzeUlhncRXQZ2eNyvc2hQ6w0GcTUbYtWVaa6/cPlkHiXGIWoLIceo58Yw8HuGFunV6thvyp0O4UPdrz7Y55/eUCidDulNP17MpF7YwGXHqI0H+OfwPYb/NNi2byxJKmlNPda5KgS0ch/AXuA4LVO/S5W5S9luAAQBJ2/QhCn8y6QAAAABJRU5ErkJggg=="},C4UI:function(t,e){},"C86/":function(t,e){t.exports={navList:{list1:"System overview",list2:"Host management"}}},"CB/e":function(t,e){},CdQK:function(t,e){},Cwwp:function(t,e){},DJW6:function(t,e){},DLM2:function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),i=a.n(s);e.a={data:function(){return{arkdb_deploy_tips:"",active:0,architecture_type:0,task_name:"",deploy_port:"",replication_user:"",replication_password:"",init_grant:"",namespace:"",version:"5.7",base_dir:"",ipAddress:"",ipMaster:"",optionIps:[],slaves:[],pxc:[],template:"",MysqlList:[],parameterInfo:"",MemoryList:[{label:1,value:"G"},{label:2,value:"M"},{label:3,value:"KB"},{label:4,value:"B"}],options:[{value:"5.7",label:"5.7"}],isOffAndOn:[{value:"ON",label:"ON"},{value:"OFF",label:"OFF"}],MemoryLable:1,value6:"G",pool_size:""}},mounted:function(){this.getIps(),this.getMysqlList("1","MySQL5.7");var t=0,e=document.getElementsByName("li");for(t=0;t<e.length;t++)e[t].onclick=function(){for(t=0;t<e.length;t++)e[t].classList.remove("li");this.classList.add("li")}},methods:{getIps:function(){this.$http.get("/acmeCloud/host/allhosts").then(function(t){var e=t.body;0==e.status&&(this.optionIps=e.data,this.masterIps=e.data)})},addInstall:function(e){var a;if(0==e){var s=!1;if(""==this.task_name?(taskName.innerHTML="任务名称不能为空",s=!0):taskName.innerHTML="",""==this.ipAddress?(ipAddress.innerHTML="IP地址不能为空",s=!0):ipAddress.innerHTML="",""==this.deploy_port?(deployPort.innerHTML="端口号不能为空",s=!0):deployPort.innerHTML="",""==this.base_dir?(baseDir.innerHTML="安装路径不能为空",s=!0):baseDir.innerHTML="",s)return void t(window).scrollTop(0);a={task_name:this.task_name,architecture_type:this.architecture_type,deploy_port:this.deploy_port,version:this.version,replication_user:this.replication_user,replication_password:this.replication_password,namespace:this.namespace,base_dir:this.base_dir,deploy_ips:{master:this.ipAddress,slaves:this.slaves},parameter:this.parameterInfo}}else if(1==e){s=!1;if(""==this.task_name?(taskName.innerHTML="任务名称不能为空",s=!0):taskName.innerHTML="",""==this.ipMaster?(masterAddress.innerHTML="Master地址不能为空",s=!0):masterAddress.innerHTML="",""==this.slaves?(slavesAddress.innerHTML="Slave地址不能为空",s=!0):slavesAddress.innerHTML="",""==this.deploy_port?(deployPort.innerHTML="端口号不能为空",s=!0):deployPort.innerHTML="",""==this.replication_user?(replicationUser.innerHTML="用户不能为空",s=!0):replicationUser.innerHTML="",""==this.replication_password?(replicationPassword.innerHTML="密码不能为空",s=!0):replicationPassword.innerHTML="",""==this.base_dir?(baseDir.innerHTML="安装路径不能为空",s=!0):baseDir.innerHTML="",s)return void t(window).scrollTop(0);a={task_name:this.task_name,architecture_type:this.architecture_type,deploy_port:this.deploy_port,replication_user:this.replication_user,replication_password:this.replication_password,version:this.version,namespace:this.namespace,base_dir:this.base_dir,deploy_ips:{master:this.ipMaster,slaves:this.slaves},parameter:this.parameterInfo}}else if(2==e){s=!1;if(""==this.task_name?(taskName.innerHTML="任务名称不能为空",s=!0):taskName.innerHTML="",""==this.namespace?(nameSpace.innerHTML="namespace名称不能为空",s=!0):nameSpace.innerHTML="",""==this.pxc?(PXC.innerHTML="Galera Cluster地址列表不能为空",s=!0):PXC.innerHTML="",""==this.deploy_port?(deployPort.innerHTML="端口号不能为空",s=!0):deployPort.innerHTML="",""==this.base_dir?(baseDir.innerHTML="安装路径不能为空",s=!0):baseDir.innerHTML="",s)return void t(window).scrollTop(0);if(""==this.task_name||""==this.deploy_port||""==this.namespace||""==this.pxc||""==this.base_dir)return taskName.innerHTML="任务名称不能为空",nameSpace.innerHTML="namespace名称不能为空",PXC.innerHTML="Galera Cluster不能为空",deployPort.innerHTML="端口号不能为空",baseDir.innerHTML="安装路径不能为空",void t(window).scrollTop(0);for(var n=new Array,l=0;l<this.pxc.length-1;l++)n[l]=this.pxc[l+1];a={task_name:this.task_name,architecture_type:this.architecture_type,deploy_port:this.deploy_port,replication_user:this.replication_user,replication_password:this.replication_password,version:this.version,base_dir:this.base_dir,namespace:this.namespace,deploy_ips:{master:this.pxc[0],slaves:n},parameter:this.parameterInfo}}a.parameter.innodb_buffer_pool_size=this.format_data_by_unit(a.parameter.innodb_buffer_pool_size,this.value6).toString(),this.$http.post("/acmeCloud/deploy/mysql/install",i()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?this.$router.replace({path:"listDetails?task_id="+e.data}):(2001==e.status&&alert("参数错误"),2002==e.status&&alert("参数为空"),2003==e.status&&alert("解析错误"),2001==e.status&&alert("数据库错误"))},function(t){})},getMysqlList:function(t,e){var a="?template_type="+t+"&version="+e;this.$http.get("/acmeCloud/parameter/list"+a).then(function(t){var e=t.body;0==e.status&&(this.MysqlList=e.data,e.data.length>0&&(this.templateInfo(e.data[0].template_id),this.template=e.data[0].template_id))})},format_data_unit:function(t){switch(!0){case t/1024/1024/1024>=1:return this.value6="G",t/1024/1024/1024;case init_data/1024/1024>=1:return this.value6="M",t/1024/1024;case init_data/1024>=1:return this.value6="KB",t/1024;default:return this.value6="B",t}},format_data_by_unit:function(t,e){switch(t=parseInt(t),e){case 1:return t*Math.pow(1024,3);case 2:return t*Math.pow(1024,2);case 3:return t*Math.pow(1024,1);case 4:default:return t}},templateInfo:function(t){var e="?template_id="+t;this.$http.get("/acmeCloud/parameter/info/map"+e).then(function(t){var e=t.body;0==e.status&&(this.parameterInfo=e.data,this.parameterInfo.innodb_buffer_pool_size=this.format_data_unit(this.parameterInfo.innodb_buffer_pool_size))})}}}}).call(e,a("7t+N"))},G4Al:function(t,e){},Gvv4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENkVGNTQ1M0FGNTUxMUU4QkNEMkQ2ODhEQkU2NEQxOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENkVGNTQ1NEFGNTUxMUU4QkNEMkQ2ODhEQkU2NEQxOSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ2RUY1NDUxQUY1NTExRThCQ0QyRDY4OERCRTY0RDE5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ2RUY1NDUyQUY1NTExRThCQ0QyRDY4OERCRTY0RDE5Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+GeZKTAAAAVJJREFUeNpifPnyJQMJwAWINYCYGYjvAvEeMTGxH8RoZCTSojQgLgJidTTx50A8BWhZGzUsmgDE+QTUrAdaFoRPARMBA3KIsAQEAl+9ejWDXB/xAfFHBtKAFNBnz0n1USwD6SCDnKDTJcMic3IsYiXDImZyLHpLhkWvyLFoLRkWLSU3Hx0CYlsiLXkOTHFS5OajQCAmpuj4DcRelGTYt9CU9IGQJUDfXKCkCMoD4hhoUufAoeYvEF8F4s1A3Aa08BspFhkB8UogViExMbwD4kSgZZuICbo4ID5LhiUgIATEG4HlXi0hH4UD8QoG6oASoM96sVkkDcRPGKgLrIGWHUMPupUM1Adr0OPIFWQ7DSySBMZXHrJFeQy0A5mwOOIH0s+AmIuGlumDfGRBY0vA9RTIIjkG2gMZkEWSdLBIigVILIOWY6Aa9T+VLWCEloWrAQIMAI1qVkDhe/NzAAAAAElFTkSuQmCC"},I0CY:function(t,e){},JRrD:function(t,e){},Jc4h:function(t,e){},K8yz:function(t,e){},Keu8:function(t,e){},KiZc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBMTk2QjY5M0FGNTUxMUU4OUYyNzk4NkE2Rjk2QzhGQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBMTk2QjY5NEFGNTUxMUU4OUYyNzk4NkE2Rjk2QzhGQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkExOTZCNjkxQUY1NTExRTg5RjI3OTg2QTZGOTZDOEZCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkExOTZCNjkyQUY1NTExRTg5RjI3OTg2QTZGOTZDOEZCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+WB2PFAAAAXxJREFUeNrklT1Lw0AYgC+29VsKuvk5CjoJ0qmT4F/waxIdnfQPuDqJ4CA4FF3EwUUHFzfRLoIi6KDgJigIIrYYqtT4HLyBI0StCTkFDx7y9pq8T967e4njed6dUqpV2RllB+ELQZMloauFJdsVWhXWxUzgwQ6c1f4EFXrRxyHoHJ1QgPdv7i/FEZYhJ0KfKbhKSngekPkMwEYSwk0R1EMe+kOqvQgKox6aKpxK3AzzsAtjxj1bcBvl0LgwAauBubxU0gs3Mv8M66DbbTwkd01LOieJG2HFSNwu80NQDTxzAvdR9nBR3tbflwZYgH2JlVRf6/hSuAxpSZoxYv0CfXLV80txha7sQ8qQ6d9r0BE4iW1wEFd4bCxXSpbVH9vQbQiH4Smu8AEmoQVm4TXw/5E0dw8Uf9i7pc++Fo+wB6PQFdKH19JjI3/+8/Q/hJ6yOLRwmmvGku/NsVyg+lXhIBQS8szApQ7SxmQWcgkJs35gCiv62CYkrPjBhwADAM8Vy2K4glErAAAAAElFTkSuQmCC"},KnoH:function(t,e,a){"use strict";var s=a("v/9F"),i=a.n(s),n=a("hOTw");var l=function(t){a("yDeO")},o=a("VU/8")(i.a,n.a,!1,l,null,null);e.default=o.exports},LEUM:function(t,e){},M1pC:function(t,e){},MTHw:function(t,e){},MdKL:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAYAAAARfGZ1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5MTBEQzVDM0FGNTUxMUU4QkZFMkJENjY5QzVGNTUzMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5MTBEQzVDNEFGNTUxMUU4QkZFMkJENjY5QzVGNTUzMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjkxMERDNUMxQUY1NTExRThCRkUyQkQ2NjlDNUY1NTMwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjkxMERDNUMyQUY1NTExRThCRkUyQkQ2NjlDNUY1NTMwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+E218xQAAAU5JREFUeNpi/P//PwMQJAFxFBDLAvF/KCYEGKH4MRAvBuKFGCqAhvv/pw4IBTkUGYOIw1Qy/Aa64UwM1AOs6AIgw39RyfCvUDoXiGNADBYsij4C8VVopDJikYeJqwGxCJL4XygdD8TGQCwJCps9aGE3Ez3scOA6NH0XoOLzofy/LFhc5w910T88LgcFpymO4IGFxl9swSIOxEFUiIMf1EwtDNhSC80AC5asfgWIN+EoAsyA2JUUw9HBWSCuxqE+lVTD0VMEKJ164XC5KKnBwkCpIQMSoUx4XE9O4mBADk6Q4RxUMpwTSjMjG76GSoYvQbOEAVYIzQHin2RWEj+AeDpSgbYBKv4JuZSTAGINIBYjslTEhRfCDEeOzBdQLAXE4UD8h8jgYANiYaTcbggV58KWUkA5cAEV4uAXI7RpgQ6WArEfmYaCDPwGxPkAAQYAGtHJPhgw3gAAAAAASUVORK5CYII="},MhIW:function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),i=a.n(s);e.a={data:function(){return{userdetail:[],connect_active:"active",account_active:"",innodb_active:"",lock_active:"",tablist:[],show_alert:!1,change_result:!1,remark_change:!0,change_remark_instance:"暂无备注",list_name:"base",configlist:[],connectlist:[],accontlist:[],innodblist:[],locklist:[]}},created:function(){this.get_status()},directives:{focus:{inserted:function(t){t.focus()}}},mounted:function(){this.list_url("baseinfo"),this.get_session(),this.get_account(),this.get_innoDB(),this.dead_lock(),this.mangement("session")},methods:{dead_lock:function(){this.$http.get("/acmeCloud/MySQLInstance/deadlock?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port).then(function(t){var e=t.body;0==e.status&&(this.locklist=e.data)})},get_innoDB:function(){this.$http.get("/acmeCloud/MySQLInstance/innodbstatus?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port).then(function(t){var e=t.body;0==e.status&&(this.innodblist=e.data)})},get_account:function(){this.$http.get("/acmeCloud/MySQLInstance/account?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port).then(function(t){var e=t.body;0==e.status&&(this.accontlist=e.data)})},get_status:function(){this.$route.query.connect&&(this.base_active="",this.connect_active="active"),this.$route.query.lock&&(this.base_active="",this.lock_active="active"),this.$route.query.innodb&&(this.base_active="",this.innodb_active="active"),this.$route.query.account&&(this.base_active="",this.account_active="active")},get_session:function(){this.$http.get("/acmeCloud/MySQLInstance/session?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port).then(function(t){t.body.status})},change_remark:function(){this.remark_change=!this.remark_change,this.tablist.remark=null,this.change_remark_instance=""},remark_modify:function(e){var a=this;if(2==e)this.remark_change=!0;else{var s={instance_name:a.$route.query.name,remark:t.trim(a.change_remark_instance)};a.$http.post("/acmeCloud/MySQLInstance/remark/modify?",i()(s),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){var s=e.body;a.tablist.remark=t.trim(a.change_remark_instance),a.remark_change=!0,0==s.status&&(a.show_alert=!0,setTimeout(function(){a.show_alert=!1},1e3))})}},get_info:function(){this.$http.get("/acmeCloud/MySQLInstance/statistics?instanceName="+this.$route.query.name).then(function(t){var e=t.body;if(0==e.status){var a=e.data;this.$echarts.init(document.getElementById("color_cheart")).setOption({tooltip:{show:!0},title:{text:"实例："+this.$route.query.name,textStyle:{color:"#fff"},top:10,left:10},xAxis:{type:"category",data:["TPS","QPS","LSN","扫描行","cpu","网络吞吐","复制延迟"],show:!0,axisLine:{show:!1},splitLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"#04C7D9"},padding:[15,10,15,10],borderRadius:55,backgroundColor:"#142B38"}},yAxis:{type:"value",show:!0,splitLine:{show:!0,lineStyle:{color:"#193040",width:2}},axisLine:{show:!1},axisLabel:{color:"#294556"},axisTick:{}},series:[].concat({type:"pictorialBar",itemStyle:{normal:{color:function(t){return[{type:"linear",x:1,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#44A1BC"},{offset:1,color:"#7B54DB"}],itemStyle:{color:"#fff",fontSize:22},globalCoord:!1},{type:"linear",x:1,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#76C266"},{offset:1,color:"#D2A72E"}],globalCoord:!1},{type:"linear",x:1,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#A14BB0"},{offset:1,color:"#9B8375"}],globalCoord:!1},{type:"linear",x:1,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#11D8AF"},{offset:1,color:"#1FA2D6"}],globalCoord:!1},"#D2A72E",{type:"linear",x:1,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#E05138"},{offset:1,color:"#B335AE"}],globalCoord:!1},{type:"linear",x:1,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#F33A39"},{offset:1,color:"#EE832B"}],globalCoord:!1}][t.dataIndex]},label:{show:!1}}},symbolMargin:"60%",data:[{value:a.instance_tps,symbolRepeat:!0,symbolSize:[40,20]},{value:a.instance_qps,symbolRepeat:!0,symbolSize:[40,20]},{value:a.instance_lsn,symbolRepeat:!0,symbolSize:[40,20]},{value:a.instance_rows,symbolRepeat:!0,symbolSize:[40,20]},{value:a.instance_cpu,symbolRepeat:!0,symbolSize:[40,20]},{value:a.instance_net_inout,symbolRepeat:!0,symbolSize:[40,20]},{value:a.instance_behind_master,symbolRepeat:!0,symbolSize:[40,20]}],symbol:"Rect"})})}})},list_url:function(t){this.$http.get("/acmeCloud/MySQLInstance/"+t+"?instanceName="+this.$route.query.name).then(function(t){var e=t.body;0==e.status&&(this.tablist=e.data)})},mangement:function(t){this.$http.get("/acmeCloud/MySQLInstance/"+t+"?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port).then(function(t){var e=t.body;0==e.status&&(this.userdetail=e.data)})}}}}).call(e,a("7t+N"))},Mv1o:function(t,e,a){"use strict";var s=a("CB/e"),i=a.n(s),n=a("93KX");var l=function(t){a("V9vv")},o=a("VU/8")(i.a,n.a,!1,l,null,null);e.default=o.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={data:function(){return{is_login:this.$cookies.get("is_login")}},mounted:function(){this.judge(),console.log(this.$cookies.get("is_login"))},methods:{judge:function(){var t=location.href.indexOf("/register");0!=this.is_login&&null!=this.is_login||-1!=t||this.$router.push({path:"/login"})},download_show:function(){this.$router.replace({path:"/download"})}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{background:"#232f3f",height:"100%"},attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},l=a("VU/8")(i,n,!1,null,null,null).exports,o=a("/ocq"),r=a("8+8L"),c=a("ppUw"),_=a.n(c),d=a("NYxO"),u=a("mzkE"),v={mounted:function(){var t=document.getElementsByName("font"),e=0;for(e=0;e<t.length;e++)t[e].onclick=function(){for(e=0;e<t.length;e++)t[e].classList.remove("words");this.classList.add("words")};var a=0,s=document.getElementsByTagName("span");for(a=0;a<s.length;a++)s[a].onclick=function(){for(a=0;a<s.length;a++)s[a].classList.remove("words");this.classList.add("words")};var i=0,n=document.getElementsByName("libg");for(i=0;i<n.length;i++)n[i].onclick=function(){for(i=0;i<n.length;i++)n[i].classList.remove("libg");this.classList.add("libg")};this.check_collapse()},methods:{check_collapse:function(){if(sessionStorage.getItem("collapse_body_index")){for(var t=document.getElementsByTagName("span"),e=0;e<t.length;e++)t[e].classList.remove("words");document.getElementsByName("span_words")[sessionStorage.getItem("collapse_body_index")].classList.add("words"),document.getElementsByName("collapse_body")[sessionStorage.getItem("collapse_body_index")].classList.add("in");for(var a=document.getElementsByName("libg"),s=document.getElementsByName("font"),i=0;i<a.length;i++)a[i].classList.remove("libg");a[sessionStorage.getItem("collapse_index")].classList.add("libg"),s[sessionStorage.getItem("collapse_index")].classList.add("words")}},active_banner:function(t,e){sessionStorage.setItem("collapse_index",t),void 0==e||sessionStorage.setItem("collapse_body_index",e)}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"home_main"},[s("nav",{staticClass:"nav navbar-nav",staticStyle:{width:"12%",background:"#232f3f","border-radius":"0","margin-top":"56px"}},[s("div",{staticClass:"panel-group",staticStyle:{background:"#232f3f"},attrs:{id:"accordion"}},[s("div",{staticClass:"panel panel-default",staticStyle:{border:"none"}},[s("div",{staticClass:"panel-collapse collapse",attrs:{id:"Three"}}),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseCenter",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{staticClass:"libg",attrs:{name:"libg"},on:{click:function(e){t.active_banner(0,0)}}},[s("router-link",{attrs:{to:"hostInput"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      录入\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(1,0)}}},[s("router-link",{attrs:{to:"entryList"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      录入列表\n                    ")])])],1)])])]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseDeploy",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(2,1)}}},[s("router-link",{attrs:{to:"parameter"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      参数配置\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(3,1)}}},[s("router-link",{attrs:{to:"mysqlDeploy"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      MySQL部署\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(4,1)}}},[s("router-link",{attrs:{to:"deploymentList"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      部署列表\n                    ")])])],1)])])]),t._v(" "),t._m(2),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseOne",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(5,2)}}},[s("router-link",{attrs:{to:"hostList"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      主机列表\n                    ")])])],1)])])]),t._v(" "),t._m(3),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseTwo",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(6,3)}}},[s("router-link",{attrs:{to:"clusterlist"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      集群列表\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(7,3)}}},[s("router-link",{attrs:{to:"instancelist"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      实例列表\n                    ")])])],1)])])]),t._v(" "),t._m(4),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseEight",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(8,4)}}},[s("router-link",{attrs:{to:"slowquerylist"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      慢查询列表\n                    ")])])],1)])])]),t._v(" "),t._m(5),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseFour",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(9,5)}}},[s("router-link",{attrs:{to:"insConfiguration"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      巡检配置\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(10,5)}}},[s("router-link",{attrs:{to:"hostInspection"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      主机巡检\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(11,6)}}},[s("router-link",{attrs:{to:"sqlInspection"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      MySQL巡检\n                    ")])])],1)])])]),t._v(" "),t._m(6),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseFive",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(12,6)}}},[s("router-link",{attrs:{to:"backupList"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      备份列表\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(13,6)}}},[s("router-link",{attrs:{to:"backupStrategy"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      备份策略\n                    ")])])],1)])])]),t._v(" "),t._m(7),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseRestore",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(14,7)}}},[s("router-link",{attrs:{to:"restoreTemplate"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      还原模板\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(15,7)}}},[s("router-link",{attrs:{to:"deployRestore"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      部署还原\n                    ")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(16,7)}}},[s("router-link",{attrs:{to:"restoreList"}},[s("p",{staticStyle:{"font-size":"12px"},attrs:{name:"font"}},[t._v("\n                      还原列表\n                    ")])])],1)])])]),t._v(" "),t._m(8),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseSync",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(17,8)}}},[s("router-link",{attrs:{to:"createSynchronization"}},[s("p",{attrs:{name:"font"}},[t._v("创建同步")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(18,8)}}},[s("router-link",{attrs:{to:"synchronList"}},[s("p",{attrs:{name:"font"}},[t._v("同步列表")])])],1)])])]),t._v(" "),t._m(9),t._v(" "),s("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapseSix",name:"collapse_body"}},[s("div",{staticClass:"panel-body"},[s("ul",[s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(19,9)}}},[s("router-link",{attrs:{to:"personalInformation"}},[s("p",{attrs:{name:"font"}},[t._v("个人信息")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(20,9)}}},[s("router-link",{attrs:{to:"addUser"}},[s("p",{attrs:{name:"font"}},[t._v("添加用户")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(21,9)}}},[s("router-link",{attrs:{to:"userList"}},[s("p",{attrs:{name:"font"}},[t._v("用户列表")])])],1),t._v(" "),s("li",{attrs:{name:"libg"},on:{click:function(e){t.active_banner(22,9)}}},[s("router-link",{attrs:{to:"roles"}},[s("p",{attrs:{name:"font"}},[t._v("权限说明")])])],1)])])]),t._v(" "),s("div",{staticClass:"panel-heading"},[s("h5",{staticClass:"panel-title"},[s("a",{attrs:{"data-toggle":"collapse",href:"#Three","data-parent":"#accordion"},on:{click:function(e){t.active_banner(23,10)}}},[s("router-link",{attrs:{to:"productPlanning"}},[s("img",{staticClass:"left_img",attrs:{src:a("j+AZ"),alt:""}}),s("span",{attrs:{name:"span_words"}},[t._v("产品规划")])])],1)])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseCenter","data-parent":"#accordion",name:"collapse"}},[e("img",{staticClass:"left_img",attrs:{src:a("MdKL"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("录入中心")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseDeploy","data-parent":"#accordion",name:"collapse"}},[e("img",{staticClass:"left_img",attrs:{src:a("tmuA"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("部署中心")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseOne","data-parent":"#accordion"}},[e("img",{staticClass:"left_img",attrs:{src:a("KiZc"),alt:""}}),e("span",{staticClass:"words",attrs:{name:"span_words"}},[this._v("主机管理")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseTwo","data-parent":"#accordion"}},[e("img",{staticClass:"left_img",attrs:{src:a("NfTc"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("MySQL管理")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseEight","data-parent":"#accordion"}},[e("img",{staticClass:"left_img",attrs:{src:a("s+BZ"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("慢查询")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseFour","data-parent":"#accordion"}},[e("img",{staticClass:"left_img",attrs:{src:a("BTsv"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("系统巡检")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseFive","data-parent":"#accordion"}},[e("img",{staticClass:"left_img",attrs:{src:a("xIOO"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("备份中心")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseRestore","data-parent":"#accordion"}},[e("img",{staticClass:"left_img",attrs:{src:a("zT7/"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("还原中心")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseSync","data-parent":"#accordion"}},[e("img",{staticClass:"left_img",attrs:{src:a("9KhJ"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("数据同步")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h5",{staticClass:"panel-title"},[e("a",{attrs:{"data-toggle":"collapse",href:"#collapseSix","data-parent":"#accordion"}},[e("img",{staticClass:"left_img",attrs:{src:a("Gvv4"),alt:""}}),e("span",{attrs:{name:"span_words"}},[this._v("用户管理")])])])])}]};var p=a("VU/8")(v,m,!1,function(t){a("5K8q")},null,null).exports,h={data:function(){return{}},mounted:function(){this.draw(),this.colony(),this.nodes(),this.backups(),this.deploy()},methods:{jumpList:function(){this.$router.push({path:"hostList"})},jumpMannagement:function(){this.$router.push({path:"management"})},jumpInstance:function(){this.$router.push({path:"instancelist"})},draw:function(){var t=0,e=100,a=this.$echarts.init(document.getElementById("conOne"));this.$http.get("/acmeCloud/system/host/total").then(function(s){var i=s.body;0==i.status&&(t=i.data,e=t*Math.ceil(10*Math.random()),a.setOption({title:{show:!0,text:t,x:"center",y:"center",textStyle:{fontSize:"35",color:"#000",fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{d}%",show:!1},legend:{orient:"vertical",x:"left",show:!1},series:{name:"",type:"pie",radius:["70%","75%"],avoidLabelOverlap:!0,hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:t,name:"",itemStyle:{normal:{color:"#32F02D"}}},{value:e-t,name:"",itemStyle:{normal:{color:"#88A686"}}}]}}))},function(t){})},colony:function(){var t=0,e=100,a=this.$echarts.init(document.getElementById("conTwo"));this.$http.get("/acmeCloud/system/cluster/total").then(function(s){var i=s.body;0==i.status&&(t=i.data,e=t*Math.floor(10*Math.random()+1),a.setOption({title:{show:!0,text:t,x:"center",y:"center",textStyle:{fontSize:"35",color:"#000",fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{d}%",show:!1},legend:{orient:"vertical",x:"left",show:!1},series:{name:"",type:"pie",radius:["70%","75%"],avoidLabelOverlap:!0,hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:t,name:"",itemStyle:{normal:{color:"#F5DD1A"}}},{value:e-t,name:"",itemStyle:{normal:{color:"#C1BB85"}}}]}}))},function(t){})},nodes:function(){var t=0,e=100,a=this.$echarts.init(document.getElementById("conThree"));this.$http.get("/acmeCloud/system/instance/total").then(function(s){var i=s.body;0==i.status&&(t=i.data,e=t*Math.floor(10*Math.random()+1),a.setOption({title:{show:!0,text:t,x:"center",y:"center",textStyle:{fontSize:"35",color:"#000",fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{d}%",show:!1},legend:{orient:"vertical",x:"left",show:!1},series:{name:"",type:"pie",radius:["70%","75%"],avoidLabelOverlap:!0,hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:t,name:"",itemStyle:{normal:{color:"#E5004F"}}},{value:e-t,name:"",itemStyle:{normal:{color:"#BF758E"}}}]}}))},function(t){})},backups:function(){var t=0,e=100,a=0,s=100,i=this.$echarts.init(document.getElementById("beifeng")),n=0,l=100;this.$http.get("/acmeCloud/system/backup/status").then(function(o){var r=o.body;0==r.status&&(t=r.data.backup_task_complete_total,e=r.data.backup_task_complete_percentage,a=r.data.backup_task_running_total,s=r.data.backup_task_running_percentage,n=r.data.backup_task_error_total,l=r.data.backup_task_error_percentage,i.setOption({title:{text:"备份",textStyle:{color:"#000"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{x:"center",y:"bottom",data:["已完成","异常","进行中"],textStyle:{fontSize:16,color:"#000"}},series:[{name:"概况",type:"pie",hoverAnimation:!1,clockwise:!1,startAngle:160,radius:["25%","30%"],labelLine:{normal:{show:!0,length:20,length2:20}},label:{normal:{formatter:"{b}: {c} ({d}%) ",textStyle:{fontSize:15}}},data:[{value:t,name:"已完成",itemStyle:{normal:{color:"#22AC38"}}},{value:e,name:"总额",itemStyle:{normal:{color:"#AAAAAA"}},label:{normal:{show:!1}},labelLine:{normal:{show:!1,lineStyle:{color:"#395166"}}}}]},{name:"概况",type:"pie",clockwise:!1,startAngle:95,hoverAnimation:!1,radius:["5%","10%"],label:{normal:{formatter:"{b}: {c} ({d}%) ",textStyle:{fontSize:15}}},labelLine:{normal:{show:!0,length:30,length2:30}},data:[{value:n,name:"异常",itemStyle:{normal:{color:"#F39800"}}},{value:l,name:"总额",itemStyle:{normal:{color:"#AAAAAA"}},label:{normal:{show:!1}},labelLine:{normal:{show:!1,lineStyle:{color:"#395166"}}}}]},{name:"概况",type:"pie",hoverAnimation:!1,radius:["40%","45%"],startAngle:135,labelLine:{normal:{show:!0,length:20,length2:10}},label:{normal:{formatter:"{b}: {c} ({d}%) ",textStyle:{fontSize:15}}},data:[{value:a,name:"进行中",itemStyle:{normal:{color:"#01B7EE"}}},{value:s,name:"总额",itemStyle:{normal:{color:"#AAAAAA"}},label:{normal:{show:!1}},labelLine:{normal:{show:!1,lineStyle:{color:"#395166"}}}}]}]}))},function(t){})},deploy:function(){this.$echarts.init(document.getElementById("bushu")).setOption({title:{text:"部署",textStyle:{color:"#000"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{x:"center",y:"bottom",data:["已完成","异常","进行中"],textStyle:{fontSize:16,color:"#000"}},series:[{name:"概况",type:"pie",hoverAnimation:!1,clockwise:!1,startAngle:45,radius:["25%","30%"],labelLine:{normal:{show:!0,length:20,length2:20}},label:{normal:{formatter:"{b}: {c} ({d}%) "}},data:[{value:5,name:"已完成",itemStyle:{normal:{color:"#22AC38"}}},{value:10,name:"总额",itemStyle:{normal:{color:"#AAAAAA"}},label:{normal:{show:!1}},labelLine:{normal:{show:!1,lineStyle:{color:"#395166"}}}}]},{name:"概况",type:"pie",clockwise:!1,startAngle:95,hoverAnimation:!1,radius:["5%","10%"],label:{normal:{formatter:"{b}: {c} ({d}%) "}},labelLine:{normal:{show:!0,length:30,length2:35}},data:[{value:5,name:"异常",itemStyle:{normal:{color:"#F39800"}}},{value:10,name:"总额",itemStyle:{normal:{color:"#AAAAAA"}},label:{normal:{show:!1}},labelLine:{normal:{show:!1,lineStyle:{color:"#395166"}}}}]},{name:"概况",type:"pie",hoverAnimation:!1,radius:["40%","45%"],labelLine:{normal:{show:!0,length:20,length2:10}},label:{normal:{formatter:"{b}: {c} ({d}%) "}},data:[{value:5,name:"进行中",itemStyle:{normal:{color:"#01B7EE"}}},{value:20,name:"总额",itemStyle:{normal:{color:"#AAAAAA"}},label:{normal:{show:!1}},labelLine:{normal:{show:!1,lineStyle:{color:"#395166"}}}}]}]})}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"system common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"statistics"},[a("div",{staticClass:"statisticsCon"},[a("ul",[a("li",{staticStyle:{"margin-left":"3.5%"},on:{click:function(e){t.jumpList()}}},[a("p",[t._v("服务器数量")]),t._v(" "),a("div",{staticStyle:{width:"230px",height:"230px",margin:"0 auto"},attrs:{id:"conOne"}})]),t._v(" "),a("li",{staticClass:"kon",on:{click:function(e){t.jumpMannagement()}}},[a("p",[t._v("集群数量")]),t._v(" "),a("div",{staticStyle:{width:"230px",height:"230px",margin:"0 auto"},attrs:{id:"conTwo"}})]),t._v(" "),a("li",{staticClass:"kon",on:{click:function(e){t.jumpInstance()}}},[a("p",[t._v("节点数量")]),t._v(" "),a("div",{staticStyle:{width:"230px",height:"230px",margin:"0 auto"},attrs:{id:"conThree"}})])])])]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v("系统概况")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("系统概况")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("监控信息")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"monitoringBox"},[s("div",{staticClass:"monitoringCon"},[s("div",{staticClass:"monBox"},[s("div",{staticClass:"monitoringList1"},[s("ul",[s("li",{staticStyle:{float:"left"}},[s("p",[t._v("监控信息")]),t._v(" "),s("p",[t._v("告警信息")]),t._v(" "),s("p",[t._v("未监控")])]),t._v(" "),s("li",{staticStyle:{float:"right"}},[s("p",[t._v("慢查询")]),t._v(" "),s("p",[t._v("总数量：")]),t._v(" "),s("p",[t._v("幅度 ："),s("span",[t._v("30%↑")])])])])]),t._v(" "),s("div",{staticClass:"monitoringImg"},[s("img",{attrs:{src:a("3uiq"),alt:""}})]),t._v(" "),s("div",{staticClass:"monitoringList2"},[s("ul",[s("li",{staticStyle:{float:"left","padding-top":"10px"}},[s("p",{staticClass:"title"},[t._v("高可用")]),t._v(" "),s("div",{staticClass:"sign"},[s("table",[s("tr",[s("td",{staticStyle:{width:"20%"}},[s("div",{staticClass:"sign1",staticStyle:{float:"left"}})]),t._v(" "),s("td")])]),t._v(" "),s("table",[s("tr",[s("td",{staticStyle:{width:"20%"}},[s("div",{staticClass:"sign2",staticStyle:{float:"left"}})]),t._v(" "),s("td")])]),t._v(" "),s("table",[s("tr",[s("td",{staticStyle:{width:"20%"}},[s("div",{staticClass:"sign3",staticStyle:{float:"left"}})]),t._v(" "),s("td")])])]),t._v(" "),s("div",{staticClass:"sign2"}),t._v(" "),s("div",{staticClass:"sign3"})]),t._v(" "),s("li",{staticStyle:{float:"right","padding-top":"10px"}},[s("p",{staticClass:"title"},[t._v("巡检")]),t._v(" "),s("table",[s("tr",[s("td",[s("div",{staticStyle:{width:"10px",height:"10px","border-radius":"50%",background:"#1BF62A",float:"left"}})]),t._v(" "),s("td",{staticStyle:{"font-size":"15px"}},[t._v("正常：")])])]),t._v(" "),s("table",[s("tr",[s("td",[s("div",{staticStyle:{width:"10px",height:"10px","border-radius":"50%",background:"#E3014F",float:"left"}})]),t._v(" "),s("td",{staticStyle:{"font-size":"15px"}},[t._v("高危：")])])])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("任务信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"task"},[e("div",{staticClass:"taskCon"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row",staticStyle:{height:"300px"}},[e("div",{staticClass:"col-md-5"},[e("div",{staticStyle:{background:"rgba(255,255,255,0.03)","border-radius":"8px"}},[e("div",{staticStyle:{width:"370px",height:"322px",padding:"10px",margin:"0 auto"},attrs:{id:"beifeng"}})])]),this._v(" "),e("div",{staticClass:"col-md-5",staticStyle:{"margin-left":"13.5%"}},[e("div",{staticStyle:{background:"rgba(255,255,255,0.03)","border-radius":"8px"}},[e("div",{staticStyle:{width:"370px",height:"322px",padding:"10px",margin:"0 auto"},attrs:{id:"bushu"}})])])])])])])}]};var g=a("VU/8")(h,f,!1,function(t){a("v+J0")},null,null).exports,b={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"agentconfigure"})},staticRenderFns:[]};var y=a("VU/8")({},b,!1,function(t){a("1y0a")},null,null).exports,C={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"intoLog"})},staticRenderFns:[]};var k=a("VU/8")({},C,!1,function(t){a("1dBr")},null,null).exports,w=a("mvHQ"),x=a.n(w),S={data:function(){return{template_type:"",sqlInstallList:[]}},mounted:function(){this.getMysqlList("2")},methods:{getMysqlList:function(t){var e="?template_type="+t;this.$http.get("/acmeCloud/parameter/list"+e).then(function(t){var e=t.body;0==e.status&&(this.sqlInstallList=e.data)})},deleteTemplate:function(t){var e={template_id:t};this.$http.post("/acmeCloud/parameter/delete",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("删除成功!"),this.getMysqlList("2")):alert("删除失败，请稍后再试!")},function(t){})}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"installConfiguration"},[a("div",{staticClass:"installBox"},[a("div",{staticClass:"installCon"},[t._m(0),t._v(" "),a("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:"mysql"}},[a("div",{staticClass:"newsTemplate"},[a("div",{staticClass:"btn"},[a("router-link",{attrs:{to:"installNew"}},[t._v(" 新建模板")])],1)]),t._v(" "),a("div",{staticClass:"newsTemplateCon"},[a("ul",t._l(t.sqlInstallList,function(e){return a("li",[a("div",{staticClass:"conOne"},[a("p",{on:{click:function(a){t.deleteTemplate(e.template_id)}}},[a("a",{staticStyle:{color:"red"}},[t._v("删除")])])]),t._v(" "),a("div",{staticClass:"conTwo"},[a("router-link",{attrs:{to:{path:"installdetails",query:{template_id:e.template_id}}}},[a("p",{staticStyle:{"font-size":"22px"}},[t._v(t._s(e.template_name))])])],1),t._v(" "),a("div",{staticClass:"conThree"},[a("p",{staticStyle:{"margin-top":"40px"}},[t._v("备注："+t._s(e.remark))]),t._v(" "),a("p",{staticStyle:{"margin-top":"10px"}},[t._v("更新时间："+t._s(e.update_time))])])])}))]),t._v(" "),a("div",{staticStyle:{clear:"both"}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs",staticStyle:{height:"50px","border-bottom":"1px solid #647E95"},attrs:{id:"myTab"}},[e("li",{staticClass:"active"},[e("a",{attrs:{href:"#mysql","data-toggle":"tab"}},[this._v("\n              MySQL-INSTALL\n            ")])])])}]};var N=a("VU/8")(S,A,!1,function(t){a("3EoK")},null,null).exports,L={data:function(){return{template_id:"",template_name:"",remark:"",operator:"",create_time:"",update_time:"",version:"",updateTemplateName:"",updateTemplateRemark:"",baseInfoList:"",infoList:[],isUpName:-1,isUpRemark:-1,isUpParam:-1,upParamName:"123",upParamValue:""}},mounted:function(){this.$route.query.template_id&&(this.template_id=this.$route.query.template_id),this.baseInfo(this.template_id),this.templateInfo(this.template_id)},methods:{upParam:function(t,e){this.isUpParam=t,this.upParamValue=e},rvNameAndValue:function(t){this.upParamValue=t},modifyParam:function(){var t={template_id:this.template_id,parameter_template_list:this.infoList};this.$http.post("/acmeCloud/parameter/info/batch/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.templateInfo(this.template_id)):alert("修改失败!")},function(t){})},saveParamNameAndVl:function(t,e){this.isUpParam=0;var a={template_id:this.template_id,parameter_name:t,parameter_value:e};this.$http.post("/acmeCloud/parameter/info/single/modify",x()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.templateInfo(this.template_id)):alert("修改失败!")},function(t){})},updateUserName:function(){var t={templateId:this.template_id,templateName:this.template_name};this.$http.post("/acmeCloud/parameter/info/name/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),location.reload()):alert("修改失败!")},function(t){})},updateRemark:function(){var t={templateId:this.template_id,remark:this.remark};this.$http.post("/acmeCloud/parameter/info/remark/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),location.reload()):alert("修改失败!")},function(t){})},baseInfo:function(t){var e="?templateId="+t;this.$http.get("/acmeCloud/parameter/baseinfo"+e).then(function(t){var e=t.body;0==e.status&&(this.template_id=e.data.template_id,this.template_name=e.data.template_name,this.remark=e.data.remark,this.operator=e.data.operator,this.version=e.data.version,this.create_time=e.data.create_time,this.update_time=e.data.update_time)})},templateInfo:function(t){var e="?templateId="+t;this.$http.get("/acmeCloud/parameter/info"+e).then(function(t){var e=t.body;0==e.status&&(this.infoList=e.data)})},blurFn:function(){var t=document.getElementsByTagName("input");""==t[0].value?(ts0.innerHTML="内容不能为空",ts0.style.color="red"):/^[\u4e00-\u9fa5]{3,8}$/.test(t[0].value)?(ts0.innerHTML="",ts0.style.color="green"):(ts0.innerHTML="格式错误",ts0.style.color="red",t[0].value="")}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"installdetails"},[a("div",{staticClass:"detailsBox"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"boxCon"},[a("div",{staticClass:"boxConbox"},[a("table",[a("tr",[a("td",{staticStyle:{width:"15%"}},[t._v("模板名称：")]),t._v(" "),"template_name"!=t.isUpName?a("td",{staticStyle:{width:"36%",color:"#BFC1C6"}},[t._v(t._s(t.template_name))]):t._e(),t._v(" "),"template_name"==t.isUpName?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.template_name,expression:"template_name"}],staticStyle:{width:"250px",height:"34px","line-height":"34px",border:"1px solid #24C4D4",background:"none"},attrs:{type:"text"},domProps:{value:t.template_name},on:{input:function(e){e.target.composing||(t.template_name=e.target.value)}}}),t._v(" "),a("button",{staticStyle:{width:"80px",height:"34px","line-height":"34px",background:"none",border:"1px solid #24C4D4"},on:{click:function(e){t.updateUserName()}}},[t._v("\n                确定\n              ")])]):t._e(),t._v(" "),"template_name"!=t.isUpName?a("td",[a("button",{staticStyle:{width:"110px",height:"34px","line-height":"34px",border:"1px solid #15D0B2",background:"none","border-radius":"20px"},on:{click:function(e){t.isUpName="template_name"}}},[t._v("\n                修改名称\n              ")])]):t._e()]),t._v(" "),a("tr",[a("td",[t._v("模板描述：")]),t._v(" "),"remark"!=t.isUpRemark?a("td",{staticStyle:{color:"#BFC1C6"}},[t._v(t._s(t.remark))]):t._e(),t._v(" "),"remark"==t.isUpRemark?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],staticStyle:{width:"250px",height:"34px","line-height":"34px",border:"1px solid #24C4D4",background:"none"},attrs:{type:"text"},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}}),t._v(" "),a("button",{staticStyle:{width:"80px",height:"34px","line-height":"34px",background:"none",border:"1px solid #24C4D4"},on:{click:function(e){t.updateRemark()}}},[t._v("\n                确定\n              ")])]):t._e(),t._v(" "),"remark"!=t.isUpRemark?a("td",[a("button",{staticStyle:{width:"110px",height:"34px","line-height":"34px",border:"1px solid #15D0B2",background:"none","border-radius":"20px"},on:{click:function(e){t.isUpRemark="remark"}}},[t._v("\n                修改描述\n              ")])]):t._e()]),t._v(" "),a("tr",[a("td",[t._v("更新时间：")]),t._v(" "),a("td",{staticStyle:{color:"#BFC1C6"}},[t._v(t._s(t.update_time))])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"myModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[a("span",[t._v("名称：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updateTemplateName,expression:"updateTemplateName"}],attrs:{type:"text",placeholder:"请输入修改名称（3~8个中文字符）"},domProps:{value:t.updateTemplateName},on:{input:function(e){e.target.composing||(t.updateTemplateName=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.updateUserName()}}},[t._v("提交更改\n                ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"myModa2",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabe2","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),a("div",{staticClass:"modal-body"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.updateTemplateRemark,expression:"updateTemplateRemark"}],attrs:{rows:"3",cols:"42"},domProps:{value:t.updateTemplateRemark},on:{input:function(e){e.target.composing||(t.updateTemplateRemark=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.updateRemark()}}},[t._v("提交更改\n                ")])])])])])])])]),t._v(" "),a("div",{staticClass:"parDetails"},[t._m(4),t._v(" "),t._m(5),t._v(" "),a("div",{staticClass:"parDetailsCon"},[a("div",{staticClass:"parDetailsConbox"},[t._m(6),t._v(" "),t._l(t.infoList,function(e,s){return a("table",{staticStyle:{"font-size":"16px"}},[a("tr",{staticStyle:{color:"#94969C",height:"40px","line-height":"40px","border-bottom":"1px solid #395166"}},[a("td",{staticStyle:{width:"25%",background:"#1F2E40","border-right":"1px solid #395166"}},[t._v("\n              "+t._s(e.parameter_name)+"\n            ")]),t._v(" "),t.isUpParam!=s?a("td",{staticStyle:{width:"50%",background:"#223245","border-right":"1px solid #395166"}},[t._v("\n              "+t._s(e.parameter_value)+"\n            ")]):t._e(),t._v(" "),t.isUpParam==s?a("td",{staticStyle:{width:"50%",background:"#223245","border-right":"1px solid #395166"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.parameter_value,expression:"infos.parameter_value"}],staticStyle:{border:"1px solid #3782B6",background:"none",width:"100%"},attrs:{type:"text"},domProps:{value:e.parameter_value},on:{input:function(a){a.target.composing||t.$set(e,"parameter_value",a.target.value)}}})]):t._e(),t._v(" "),a("td",{staticStyle:{width:"25%",background:"#25374A"}},[a("a",{staticStyle:{color:"#14D3B4"},on:{click:function(a){t.upParam(s,e.parameter_value)}}},[t._v("修改")]),t._v(" "),a("a",{staticStyle:{color:"#14D3B4","margin-left":"10px"},on:{click:function(a){t.saveParamNameAndVl(e.parameter_name,e.parameter_value,e.template_id)}}},[t._v("保存")]),t._v(" "),a("a",{staticStyle:{color:"#BD1F4A","margin-left":"10px"},on:{click:function(a){t.rvNameAndValue(e.parameter_value)}}},[t._v("恢复默认值")])])])])}),t._v(" "),""==t.infoList?a("div",{staticClass:"MSG"},[t._v("暂无参数信息")]):t._e()],2)])]),t._v(" "),a("div",{staticClass:"baocun"},[a("button",{on:{click:function(e){t.modifyParam()}}},[t._v("保存")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"boxTitle"},[e("p",[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"boxQuan"},[e("div",{staticClass:"circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[this._v("名称修改")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabe2"}},[this._v("备注修改")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"parDetailsTitle"},[e("p",[this._v("参数详情")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"parDetailsQuan"},[e("div",{staticClass:"circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",[e("tr",{staticStyle:{color:"white",height:"50px","line-height":"50px","font-size":"20px","border-bottom":"1px solid #395166"}},[e("td",{staticStyle:{width:"25%",background:"#1F2E40","border-right":"1px solid #395166"}},[this._v("参数名")]),this._v(" "),e("td",{staticStyle:{width:"50%",background:"#223245","border-right":"1px solid #395166"}},[this._v("参数值")]),this._v(" "),e("td",{staticStyle:{width:"25%",background:"#25374A"}},[this._v("操作")])])])}]};var T=a("VU/8")(L,M,!1,function(t){a("SMvU")},null,null).exports,E=a("DLM2"),I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mysqlDeploy common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"deployCon"},[a("table",[a("tr",[a("td",{staticClass:"tdLeft"},[t._v("任务名称：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.task_name,expression:"task_name",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:"arkdb_deploy"},domProps:{value:t.task_name},on:{input:function(e){e.target.composing||(t.task_name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"taskName"}})])]),t._v(" "),a("tr",[a("td",{staticClass:"tdLeft",staticStyle:{position:"relative",top:"-3px"}},[t._v("MySQL架构类型：")]),t._v(" "),a("td",[a("div",{staticStyle:{position:"relative",top:"-3px"}},[a("ul",{staticClass:"sqlliType"},[a("li",{staticClass:"li",staticStyle:{"border-right":"1px solid #fff",width:"30%"},attrs:{name:"li"},on:{click:function(e){t.architecture_type=0}}},[t._v("单点\n              ")]),t._v(" "),a("li",{staticStyle:{"border-right":"1px solid #fff",width:"30%"},attrs:{name:"li"},on:{click:function(e){t.architecture_type=1}}},[t._v("主从")]),t._v(" "),a("li",{staticStyle:{width:"40%"},attrs:{name:"li"},on:{click:function(e){t.architecture_type=2}}},[t._v("Galera Cluster")])])])])]),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),2==t.architecture_type?a("tr",[a("td",{staticClass:"tdLeft",staticStyle:{position:"relative",top:"-4px"}},[t._v("namespace名称：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.namespace,expression:"namespace",modifiers:{trim:!0}}],staticClass:"input",staticStyle:{position:"relative",top:"-4px"},attrs:{type:"text"},domProps:{value:t.namespace},on:{input:function(e){e.target.composing||(t.namespace=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"nameSpace"}})])]):t._e(),t._v(" "),0==t.architecture_type?a("tr",[a("td",{staticClass:"tdLeft"},[t._v("IP地址：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{position:"relative",top:"2px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.ipAddress,callback:function(e){t.ipAddress=e},expression:"ipAddress"}},t._l(t.optionIps,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"ipAddress"}})],1)]):t._e(),t._v(" "),1==t.architecture_type?a("tr",[a("td",[t._v("Master地址：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{position:"relative",top:"2px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.ipMaster,callback:function(e){t.ipMaster=e},expression:"ipMaster"}},t._l(t.masterIps,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"masterAddress"}})],1)]):t._e(),t._v(" "),1==t.architecture_type?a("tr",[a("td",[t._v("Slave地址：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{position:"relative",top:"5px"},attrs:{filterable:"",multiple:"",placeholder:"请选择"},model:{value:t.slaves,callback:function(e){t.slaves=e},expression:"slaves"}},t._l(t.optionIps,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"slavesAddress"}})],1)]):t._e(),t._v(" "),2==t.architecture_type?a("tr",[a("td",[t._v("Galera Cluster：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{position:"relative",top:"5px"},attrs:{filterable:"",multiple:"",placeholder:"请选择"},model:{value:t.pxc,callback:function(e){t.pxc=e},expression:"pxc"}},t._l(t.optionIps,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"PXC"}})],1)]):t._e(),t._v(" "),a("tr",[a("td",[t._v("端口：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.deploy_port,expression:"deploy_port"}],staticClass:"input",attrs:{type:"text",placeholder:"3306~3321(只能输入四位数字字符)",id:"input",maxlength:"4",onkeyup:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}",onafterpaste:"if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}"},domProps:{value:t.deploy_port},on:{input:function(e){e.target.composing||(t.deploy_port=e.target.value)}}}),t._v(" "),t.deploy_port.length>4?a("span",{staticStyle:{color:"red"}},[t._v("端口只限输入4位数字")]):t._e(),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"deployPort"}})])]),t._v(" "),1==t.architecture_type?a("tr",[a("td",[t._v("复制用户：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.replication_user,expression:"replication_user",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.replication_user},on:{input:function(e){e.target.composing||(t.replication_user=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"replicationUser"}})])]):t._e(),t._v(" "),1==t.architecture_type?a("tr",[a("td",[t._v("复制密码：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.replication_password,expression:"replication_password",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.replication_password},on:{input:function(e){e.target.composing||(t.replication_password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"replicationPassword"}})])]):t._e(),t._v(" "),a("tr",[a("td",[t._v("版本号：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{position:"relative",top:"6px"},attrs:{placeholder:"请选择"},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("tr",[a("td",[t._v("Data路径：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.base_dir,expression:"base_dir",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",placeholder:"/data"},domProps:{value:t.base_dir},on:{input:function(e){e.target.composing||(t.base_dir=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"baseDir"}})])])])]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"parameterCon"},[a("table",[a("tr",[a("td",{staticClass:"tdLeft"},[t._v("模板名称：")]),t._v(" "),a("td",[a("el-select",{staticClass:"elname",attrs:{filterable:""},model:{value:t.template,callback:function(e){t.template=e},expression:"template"}},t._l(t.MysqlList,function(e,s){return a("el-option",{key:s,attrs:{label:e.template_name,value:e.template_id},nativeOn:{click:function(a){t.templateInfo(e.template_id)}}})}))],1)]),t._v(" "),a("tr",[a("td",{staticClass:"tdLeft"},[t._v("innodb_buffer_pool_size：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.parameterInfo.innodb_buffer_pool_size,expression:"parameterInfo.innodb_buffer_pool_size"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.parameterInfo.innodb_buffer_pool_size},on:{input:function(e){e.target.composing||t.$set(t.parameterInfo,"innodb_buffer_pool_size",e.target.value)}}}),t._v(" "),a("el-select",{model:{value:t.value6,callback:function(e){t.value6=e},expression:"value6"}},t._l(t.MemoryList,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.label}})}))],1)]),t._v(" "),a("tr",[a("td",{staticClass:"tdLeft"},[t._v("sync_binlog：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.parameterInfo.sync_binlog,expression:"parameterInfo.sync_binlog"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.parameterInfo.sync_binlog},on:{input:function(e){e.target.composing||t.$set(t.parameterInfo,"sync_binlog",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{staticClass:"tdLeft"},[t._v("innodb_flush_log_at_trx_commit：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.parameterInfo.innodb_flush_log_at_trx_commit,expression:"parameterInfo.innodb_flush_log_at_trx_commit"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.parameterInfo.innodb_flush_log_at_trx_commit},on:{input:function(e){e.target.composing||t.$set(t.parameterInfo,"innodb_flush_log_at_trx_commit",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("expire_logs_days：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.parameterInfo.expire_logs_days,expression:"parameterInfo.expire_logs_days"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.parameterInfo.expire_logs_days},on:{input:function(e){e.target.composing||t.$set(t.parameterInfo,"expire_logs_days",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("max_binlog_files：")]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.parameterInfo.max_binlog_files,expression:"parameterInfo.max_binlog_files"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.parameterInfo.max_binlog_files},on:{input:function(e){e.target.composing||t.$set(t.parameterInfo,"max_binlog_files",e.target.value)}}})])]),t._v(" "),a("tr",[a("td",[t._v("gtid：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{width:"15%"},model:{value:t.parameterInfo.gtid_mode,callback:function(e){t.$set(t.parameterInfo,"gtid_mode",e)},expression:"parameterInfo.gtid_mode"}},t._l(t.isOffAndOn,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.label}})}))],1)]),t._v(" "),a("tr",[a("td",[t._v("log_queries_not_using_indexes：")]),t._v(" "),a("td",[a("el-select",{staticStyle:{width:"15%"},model:{value:t.parameterInfo.log_queries_not_using_indexes,callback:function(e){t.$set(t.parameterInfo,"log_queries_not_using_indexes",e)},expression:"parameterInfo.log_queries_not_using_indexes"}},t._l(t.isOffAndOn,function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.label}})}))],1)])])]),t._v(" "),a("div",{staticClass:"preservation"},[a("button",{on:{click:function(e){t.addInstall(t.architecture_type)}}},[t._v("部署")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("部署中心")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("MySQL部署")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("参数配置")])])}]};var $=function(t){a("3R+X")},P=a("VU/8")(E.a,I,!1,$,null,null).exports,U={0:"单节点",1:"主从",2:"Galera Cluster"},z={0:"运行中",1:"失败",2:"成功",3:"暂停",4:"清理",5:"重试",6:"清理完成"},R={data:function(){return{total:0,current_page:1,current:1,mysqlList:[]}},filters:{toMysqlText:function(t){return U[t]||""},toStatusText:function(t){return z[t]||""}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.current_page=this.current,this.$emit("pagechange",this.current)),window.scrollTo(0,0),this.$http.get("/acmeCloud/deploy/mysql/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.current_page,this.display;this.$http.get("/acmeCloud/deploy/mysql/list?current_page="+this.current_page+"&page_size="+this.display).then(function(t){var e=t.body;0==e.status&&(this.mysqlList=e.data,document.documentElement.scrollTop=document.body.scrollTop=0)})}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deploymentList common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",t._l(t.mysqlList,function(e){return a("tr",{key:e.task_name},[a("th",[t._v(t._s(e.task_name))]),t._v(" "),a("th",[t._v(t._s(t._f("toMysqlText")(e.architecture_type)))]),t._v(" "),0==e.task_status?a("th",{staticStyle:{color:"#00A1C3"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),1==e.task_status?a("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),2==e.task_status?a("th",{staticStyle:{color:"green"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),3==e.task_status?a("th",{staticStyle:{color:"#F0AE4D"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),4==e.task_status?a("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),5==e.task_status?a("th",{staticStyle:{color:"#F0AE4D"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),6==e.task_status?a("th",{staticStyle:{color:"#00A1C3"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),a("th",[t._v(t._s(e.create_time))]),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"listDetails",query:{task_id:e.task_id}}}},[t._v("\n          详情\n          ")])],1)])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{key:e.text,class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("部署中心")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("部署列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("部署列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("任务名称")]),t._v(" "),a("th",[t._v("架构类型")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("创建时间")]),t._v(" "),a("th",[t._v("操作")])])])}]};var q=a("VU/8")(R,D,!1,function(t){a("grfW")},null,null).exports,B={0:"否",1:"是"},Q={data:function(){return{templateName:"",remark:"",tepDfList:[],isUpParam:-1,upParamName:"",upParamValue:"",dbType:"",template_type:""}},filters:{toParameText:function(t){return B[t]||""},toParameRange:function(t){var e=t;return e.length>20&&(e=e.substring(0,20)+"..."),e}},mounted:function(){this.paramDefaultInfo("2")},methods:{paramDefaultInfo:function(t){var e="?template_type="+t;this.$http.get("/acmeCloud/parameter/default"+e).then(function(t){var e=t.body;0==e.status&&(this.tepDfList=e.data)},function(t){})},upParam:function(t,e){this.isUpParam=t,this.upParamValue=e},rvNameAndValue:function(t){this.upParamName=paramName,this.upParamValue=t},saveParamNameAndVl:function(t,e){this.isUpParam=0;var a={template_id:this.template_id,parameter_name:t,parameter_value:e};this.$http.post("/acmeCloud/parameter/info/single/modify",x()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.templateInfo(this.template_id)):alert("修改失败!")},function(t){})},getAddTemplate:function(){var t={template_name:this.templateName,remark:this.remark,template_type:2,version:this.version,parameter_info:this.tepDfList};this.$http.post("/acmeCloud/parameter/add",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?alert("创建成功!"):alert("创建失败，请稍后再试!")},function(t){})},blurFn:function(){var t=document.getElementsByTagName("input");""==t[0].value?(ts0.innerHTML="内容不能为空",ts0.style.color="red"):/^[\da-zA-Z_\u4e00-\u9f5a]{3,8}$/.test(t[0].value)?(ts0.innerHTML="",ts0.style.color="green"):(ts0.innerHTML="格式错误",ts0.style.color="red",t[0].value="")}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"installNew"},[a("div",{staticClass:"templateBox"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"templateCon"},[a("div",{staticClass:"templateConbox"},[a("ul",[a("li",[a("span",[t._v("模板名称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.templateName,expression:"templateName"}],attrs:{type:"text",placeholder:"请输入模板名称"},domProps:{value:t.templateName},on:{input:function(e){e.target.composing||(t.templateName=e.target.value)}}}),t._v(" "),a("div",{staticClass:"two_box",staticStyle:{width:"200px",height:"40px","line-height":"40px",margin:"0 auto"},attrs:{id:"ts0"}})]),t._v(" "),a("li",[a("span",[t._v("模板描述：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],attrs:{type:"text",placeholder:"请输入模板描述"},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}})])])])])]),t._v(" "),a("div",{staticClass:"templateMation"},[t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"MationCon"},[a("div",{staticClass:"MationConbox"},[t._m(4),t._v(" "),t._l(t.tepDfList,function(e,s){return a("table",{staticStyle:{"font-size":"16px"}},[a("tr",{staticStyle:{color:"#94969C",height:"36px","line-height":"36px","border-bottom":"1px solid #395166"}},[a("td",{staticStyle:{width:"25%",background:"#1F2E40"}},[t._v(t._s(e.parameter_name))]),t._v(" "),t.isUpParam!=s?a("td",{staticStyle:{width:"50%",background:"#223245"}},[t._v(t._s(e.parameter_value))]):t._e(),t._v(" "),t.isUpParam==s?a("td",{staticStyle:{width:"50%",background:"#223245"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.parameter_value,expression:"parames.parameter_value"}],staticStyle:{background:"none",width:"100%",border:"1px solid #216397"},attrs:{type:"text"},domProps:{value:e.parameter_value},on:{input:function(a){a.target.composing||t.$set(e,"parameter_value",a.target.value)}}})]):t._e(),t._v(" "),a("td",{staticStyle:{width:"25%",background:"#25374A"}},[a("a",{staticStyle:{color:"#14D3B4"},on:{click:function(a){t.upParam(s,e.parameter_value)}}},[t._v("修改")])])])])}),t._v(" "),""==t.tepDfList?a("div",{staticClass:"MSG"},[t._v("暂无参数信息")]):t._e()],2)])]),t._v(" "),a("div",{staticClass:"parFooter"},[a("ul",[a("li",{on:{click:function(e){t.getAddTemplate()}}},[a("a",{staticStyle:{color:"#14D3AA"}},[t._v("保存")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"templateTitle"},[e("p",[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"templateQuan"},[e("div",{staticClass:"circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"MationTitle"},[e("p",[this._v("参数信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"MationQuan"},[e("div",{staticClass:"circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",[e("tr",{staticStyle:{color:"white",height:"50px","line-height":"50px","font-size":"20px","border-bottom":"1px solid #395166"}},[e("td",{staticStyle:{width:"25%",background:"#1F2E40","border-right":"1px solid #395166"}},[this._v("参数名")]),this._v(" "),e("td",{staticStyle:{width:"50%",background:"#223245","border-right":"1px solid #395166"}},[this._v("参数值")]),this._v(" "),e("td",{staticStyle:{width:"25%",background:"#25374A"}},[this._v("操作")])])])}]};var F=a("VU/8")(Q,j,!1,function(t){a("MTHw")},null,null).exports,G={0:"运行中",1:"失败",2:"成功",3:"暂停",4:"清理",5:"重试",6:"清理完成"},O={0:"运行中",1:"失败",2:"成功",3:"暂停",4:"清理",5:"重试",6:"清理完成"},Z={data:function(){return{task_id:"",task_name:"",architecture_type:"",task_status:"",deploy_port:"",create_time:"",namespace:"",version:"",task_details:[],step_info:[],clearips:"",retryips:"",warmMsg:"",allWarmMsg:"",errormsg:"",infolist:0}},filters:{toStatusText:function(t){return G[t]||""},toStepstatusText:function(t){return O[t]||""},toMsg:function(t){return t.replace(";",";\n")}},mounted:function(){this.getInterval(),this.getMysqlInfo(this.task_id)},updated:function(){var t=0,e=document.getElementsByName("li");for(t=0;t<e.length;t++)e[t].onclick=function(){for(var t=0;t<e.length;t++)e[t].classList.remove("li");this.classList.add("li")}},methods:{getInterval:function(){var t=this;if(this.$route.query.task_id){this.task_id=this.$route.query.task_id;var e=setInterval(function(){t.getMysqlInfo(t.task_id),1!=t.task_status&&2!=t.task_status&&6!=t.task_status||clearInterval(e)},1e3)}},getMysqlInfo:function(t){var e="?task_id="+t;this.$http.get("/acmeCloud/deploy/mysql/detail"+e).then(function(t){var e=t.body;0==e.status&&(this.task_id=e.data.task_id,this.task_name=e.data.task_name,this.architecture_type=e.data.architecture_type,this.task_status=e.data.task_status,this.deploy_port=e.data.deploy_port,this.create_time=e.data.create_time,this.namespace=e.data.namespace,this.version=e.data.version,this.task_details=e.data.task_details,this.task_details.length>0&&(this.step_info=this.task_details[this.infolist].step_info))},function(t){})},deployhalt:function(t){var e={task_id:this.task_id,instance_ip:t};this.$http.post("/acmeCloud/deploy/mysql/deployhalt",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status&&(this.getMysqlInfo(this.task_id),this.getInterval())},function(t){})},restart:function(t){var e={task_id:this.task_id,instance_ip:t};this.$http.post("/acmeCloud/deploy/mysql/restart",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status&&(this.getMysqlInfo(this.task_id),this.getInterval())},function(t){})},skip:function(t){var e={task_id:this.task_id,instance_ip:t};this.$http.post("/acmeCloud/deploy/mysql/skip",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.getMysqlInfo(this.task_id),this.getInterval()):this.$notify({type:"error",message:"跳过失败，请联系管理员或DBA"})},function(t){})},retry:function(){var t={task_id:this.task_id,instance_ip:this.retryips};this.$http.post("/acmeCloud/deploy/mysql/retry",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?(this.getMysqlInfo(this.task_id),this.getInterval()):(this.errorMsg=e.msg,this.$notify({type:"success",message:this.errorMsg}))},function(t){})},clean:function(){var t={task_id:this.task_id,instance_ip:this.clearips};this.$http.post("/acmeCloud/deploy/mysql/clean",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status&&(this.getMysqlInfo(this.task_id),this.getInterval())},function(t){})},warm:function(){var t="?task_id="+this.task_id;this.$http.get("/acmeCloud/deploy/mysql/warn"+t).then(function(t){var e=t.body;0==e.status&&(this.warmMsg=e.data)},function(t){})},allDeployhalt:function(){var t={task_id:this.task_id,instance_ip:""};this.$http.post("/acmeCloud/deploy/mysql/deployhalt",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status&&(this.getMysqlInfo(this.task_id),this.getInterval())},function(t){})},allRetry:function(){var t={task_id:this.task_id,instance_ip:""};this.$http.post("/acmeCloud/deploy/mysql/retry",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status&&(this.getMysqlInfo(this.task_id),this.getInterval())},function(t){})},allClean:function(){var t={task_id:this.task_id,instance_ip:""};this.$http.post("/acmeCloud/deploy/mysql/clean",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status&&(this.getMysqlInfo(this.task_id),this.getInterval())},function(t){})}}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"listDetails common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("部署中心")]),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:"/info/deploymentList"}},[t._v("部署列表")])],1),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[t._v("部署详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"listCon"},[a("table",[a("tr",[a("td",[a("span",[t._v("任务名称：")]),t._v(t._s(t.task_name))]),t._v(" "),a("td",[a("span",[t._v("创建时间：")]),t._v(t._s(t.create_time))]),t._v(" "),a("td",[a("span",[t._v("NAMESPACE：")]),t._v(t._s(t.namespace))]),t._v(" "),0==t.architecture_type?a("td",[a("span",[t._v("架构类型：")]),t._v("单点")]):t._e(),t._v(" "),1==t.architecture_type?a("td",[a("span",[t._v("架构类型：")]),t._v("主从")]):t._e(),t._v(" "),2==t.architecture_type?a("td",[a("span",[t._v("架构类型：")]),t._v("Galera Cluster")]):t._e()]),t._v(" "),a("br"),t._v(" "),a("tr",[a("td",[a("span",[t._v("任务状态：")]),t._v(" "),0==t.task_status?a("span",{staticStyle:{color:"#00A1C3"}},[t._v(t._s(t._f("toStepstatusText")(t.task_status)))]):t._e(),t._v(" "),1==t.task_status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toStepstatusText")(t.task_status)))]):t._e(),t._v(" "),2==t.task_status?a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("toStepstatusText")(t.task_status)))]):t._e(),t._v(" "),3==t.task_status?a("span",{staticStyle:{color:"#F0AE4D"}},[t._v(t._s(t._f("toStepstatusText")(t.task_status)))]):t._e(),t._v(" "),4==t.task_status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toStepstatusText")(t.task_status)))]):t._e(),t._v(" "),5==t.task_status?a("span",{staticStyle:{color:"#F0AE4D"}},[t._v(t._s(t._f("toStepstatusText")(t.task_status)))]):t._e(),t._v(" "),6==t.task_status?a("span",{staticStyle:{color:"#00A1C3"}},[t._v(t._s(t._f("toStepstatusText")(t.task_status)))]):t._e()]),t._v(" "),a("td",[a("span",[t._v("端口：")]),t._v(t._s(t.deploy_port))]),t._v(" "),a("td",[a("span",[t._v("版本：")]),t._v(t._s(t.version))])])])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"flowCon"},[a("div",{staticClass:"flowBtn"},[0==t.task_status?a("button",{attrs:{id:"all1"},on:{click:function(e){t.allDeployhalt()}}},[t._v("全部暂停\n      ")]):t._e(),t._v(" "),1==t.task_status||6==t.task_status?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"all2","data-toggle":"modal","data-target":"#myModal4"},on:{click:function(e){t.warm()}}},[t._v("全部重试\n      ")]):t._e(),t._v(" "),0==t.task_status||1==t.task_status||2==t.task_status||3==t.task_status?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"all3","data-toggle":"modal","data-target":"#myModal5"},on:{click:function(e){t.warm()}}},[t._v("全部清理\n      ")]):t._e(),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"myModal4",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel4","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[""==t.warmMsg?a("div",{staticStyle:{"text-align":"center"}},[t._v("\n                确认是否全部重试？\n              ")]):a("div",{staticStyle:{"text-align":"left"}},[t._v("\n                将全部清理以下路径：\n                "),a("pre",[t._v(t._s(t._f("toMsg")(t.warmMsg)))])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消\n              ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.allRetry()}}},[t._v("\n                确定\n              ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"myModal5",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel5","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),a("div",{staticClass:"modal-body"},[""==t.warmMsg?a("div",{staticStyle:{"text-align":"center"}},[t._v("\n                是否确认全部清理？\n              ")]):a("div",{staticStyle:{"text-align":"left"}},[t._v("\n                即将清理以下路径：\n                "),a("pre",[t._v(t._s(t._f("toMsg")(t.warmMsg)))])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭\n              ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.allClean()}}},[t._v("\n                确定\n              ")])])])])])]),t._v(" "),a("div",{staticClass:"flowMain"},t._l(t.task_details,function(e,s){return a("ul",[0==s?a("li",{staticClass:"li",attrs:{name:"li"},on:{click:function(a){t.step_info=e.step_info,t.infolist=s}}},[a("p",[t._v("ip地址："),a("span",[t._v(t._s(e.ip))])]),t._v(" "),a("p",[t._v("实例角色："),a("span",[t._v(t._s(e.role))])]),t._v(" "),a("p",[t._v("运行状态：\n            "),0==e.task_status?a("span",{staticStyle:{color:"#00A1C3"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),1==e.task_status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),2==e.task_status?a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),3==e.task_status?a("span",{staticStyle:{color:"#F0AE4D"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),4==e.task_status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),5==e.task_status?a("span",{staticStyle:{color:"#F0AE4D"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),6==e.task_status?a("span",{staticStyle:{color:"#00A1C3"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e()]),t._v(" "),a("div",{staticClass:"progress progress-striped",staticStyle:{"margin-top":"10px"}},[0==e.task_status?a("div",{staticClass:"progress-bar progress-bar-info",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("失败")])]):t._e(),t._v(" "),1==e.task_status?a("div",{staticClass:"progress-bar progress-bar-danger",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("运行中")])]):t._e(),t._v(" "),2==e.task_status?a("div",{staticClass:"progress-bar progress-bar-success",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("成功")])]):t._e(),t._v(" "),3==e.task_status?a("div",{staticClass:"progress-bar progress-bar-warning",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("暂停")])]):t._e(),t._v(" "),4==e.task_status?a("div",{staticClass:"progress-bar progress-bar-danger",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("清理")])]):t._e(),t._v(" "),5==e.task_status?a("div",{staticClass:"progress-bar progress-bar-warning",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("重试")])]):t._e(),t._v(" "),6==e.task_status?a("div",{staticClass:"progress-bar progress-bar-green",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("清理完成")])]):t._e()]),t._v(" "),a("div",{staticClass:"allBtn"},[0==e.task_status?a("button",{attrs:{id:"btn1"},on:{click:function(a){t.deployhalt(e.ip)}}},[t._v("暂停")]):t._e(),t._v(" "),0==e.task_status||1==e.task_status||2==e.task_status||3==e.task_status?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"btn2","data-toggle":"modal","data-target":"#myModal2"},on:{click:function(a){t.clearips=e.ip,t.warm()}}},[t._v("清理\n            ")]):t._e(),t._v(" "),1==e.task_status||6==e.task_status?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"btn3","data-toggle":"modal","data-target":"#myModal3"},on:{click:function(a){t.retryips=e.ip,t.warm()}}},[t._v("重试\n            ")]):t._e(),t._v(" "),1==e.task_status?a("button",{attrs:{id:"btn4"},on:{click:function(a){t.skip(e.ip)}}},[t._v("跳过")]):t._e(),t._v(" "),3==e.task_status?a("button",{attrs:{id:"btn5"},on:{click:function(a){t.restart(e.ip)}}},[t._v("开始")]):t._e(),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"myModal2",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel2","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(4,!0),t._v(" "),a("div",{staticClass:"modal-body"},[""==t.warmMsg?a("div",[t._v("\n                      是否确认清理？\n                    ")]):a("div",{staticStyle:{"text-align":"left"}},[t._v("\n                      将会清理以下路径：\n                      "),a("pre",[t._v(t._s(t._f("toMsg")(t.warmMsg)))])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭\n                    ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.clean()}}},[t._v("\n                      确定\n                    ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"myModal3",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel3","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(5,!0),t._v(" "),a("div",{staticClass:"modal-body"},[""==t.warmMsg?a("div",[t._v("\n                      是否确认重试？\n                    ")]):a("div",{staticStyle:{"text-align":"left"}},[t._v("\n                      将清理以下路径：\n                      "),a("pre",[t._v(t._s(t._f("toMsg")(t.warmMsg)))])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭\n                    ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.retry()}}},[t._v("\n                      确定\n                    ")])])])])])])]):a("li",{attrs:{name:"li"},on:{click:function(a){t.step_info=e.step_info,t.infolist=s}}},[a("p",[t._v("ip地址："),a("span",[t._v(t._s(e.ip))])]),t._v(" "),a("p",[t._v("实例角色："),a("span",[t._v(t._s(e.role))])]),t._v(" "),a("p",[t._v("运行状态：\n            "),0==e.task_status?a("span",{staticStyle:{color:"#00A1C3"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),1==e.task_status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),2==e.task_status?a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),3==e.task_status?a("span",{staticStyle:{color:"#F0AE4D"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),4==e.task_status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),5==e.task_status?a("span",{staticStyle:{color:"#F0AE4D"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e(),t._v(" "),6==e.task_status?a("span",{staticStyle:{color:"#00A1C3"}},[t._v(t._s(t._f("toStatusText")(e.task_status)))]):t._e()]),t._v(" "),a("div",{staticClass:"progress progress-striped",staticStyle:{"margin-top":"10px"}},[0==e.task_status?a("div",{staticClass:"progress-bar progress-bar-info",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("失败")])]):t._e(),t._v(" "),1==e.task_status?a("div",{staticClass:"progress-bar progress-bar-danger",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("运行中")])]):t._e(),t._v(" "),2==e.task_status?a("div",{staticClass:"progress-bar progress-bar-success",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("成功")])]):t._e(),t._v(" "),3==e.task_status?a("div",{staticClass:"progress-bar progress-bar-warning",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("暂停")])]):t._e(),t._v(" "),4==e.task_status?a("div",{staticClass:"progress-bar progress-bar-danger",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("清理")])]):t._e(),t._v(" "),5==e.task_status?a("div",{staticClass:"progress-bar progress-bar-warning",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("重试")])]):t._e(),t._v(" "),6==e.task_status?a("div",{staticClass:"progress-bar progress-bar-green",style:"width:"+e.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("清理完成")])]):t._e()]),t._v(" "),a("div",{staticClass:"allBtn"},[0==e.task_status?a("button",{attrs:{id:"btn11"},on:{click:function(a){t.deployhalt(e.ip)}}},[t._v("暂停")]):t._e(),t._v(" "),0==e.task_status||1==e.task_status||2==e.task_status||3==e.task_status?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"btn12","data-toggle":"modal","data-target":"#myModal2"},on:{click:function(a){t.clearips=e.ip,t.warm()}}},[t._v("清理\n            ")]):t._e(),t._v(" "),1==e.task_status||6==e.task_status?a("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"btn13","data-toggle":"modal","data-target":"#myModal3"},on:{click:function(a){t.retryips=e.ip,t.warm()}}},[t._v("重试\n            ")]):t._e(),t._v(" "),1==e.task_status?a("button",{attrs:{id:"btn14"},on:{click:function(a){t.skip(e.ip)}}},[t._v("跳过")]):t._e(),t._v(" "),3==e.task_status?a("button",{attrs:{id:"btn15"},on:{click:function(a){t.restart(e.ip)}}},[t._v("开始")]):t._e()])])])})),t._v(" "),a("div",{staticClass:"flowList"},t._l(t.step_info,function(e){return a("ul",[a("li",[a("span",{staticStyle:{width:"80%"}},[t._v(t._s(e.info))]),t._v(" "),2==e.status?a("span",{staticStyle:{float:"right",color:"#349F32"}},[t._v(t._s(t._f("toStepstatusText")(e.status)))]):t._e(),t._v(" "),1==e.status?a("span",{staticStyle:{float:"right",color:"#E94E71"}},[t._v(t._s(t._f("toStepstatusText")(e.status)))]):t._e()])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("任务流程")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                ×\n              ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel4"}},[this._v("\n                全部重试\n              ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                ×\n              ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel5"}},[this._v("\n                全部清理\n              ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                      ×\n                    ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel2"}},[this._v("\n                      清理\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                      ×\n                    ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel3"}},[this._v("\n                      重试\n                    ")])])}]};var J=a("VU/8")(Z,Y,!1,function(t){a("aSr6")},null,null).exports,V=a("Xb2A"),H={data:function(){return{accountName:"",accountPassword:"",tel:"",email:"",role_id:"",role_name:"",role_name_alias:"",saveRoleId:3,saveEmail:"",saveTel:"",saveName:"",savePasswd:"",oldPassword:"",newPassword:"",confirmNewPassword:"",account_name:"",account_id:this.$cookies.get("account_id"),total:0,currentPage:1,current:1,accountList:[],userList:[],deleteAccountId:"",deleteName:"",upUser:"",upAccountId:"",upRole_id:"",upUserName:"",upEmail:"",upTel:""}},mounted:function(){this.getAccountInfo(this.account_id),this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{addNewUser:function(){var t={account_name:this.saveName,account_password:this.savePasswd,tel:this.saveTel,email:this.saveEmail,role_id:this.saveRoleId};this.$http.post("/acmeCloud/account/add",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("添加成功!"),this.setCurrent(1)):alert("添加失败，请咨询DBA或者管理员！!")},function(t){})},upThisUser:function(){this.upAccountId=this.account_id,this.upRole_id=this.role_id,this.upUserName=this.account_name,this.upTel=this.tel,this.upEmail=this.email},updateAssValue:function(t){this.upAccountId=t.account_id,this.upRole_id=t.role_id,this.upUserName=t.account_name,this.upTel=t.tel,this.upEmail=t.email},updateModify:function(){var t={account_id:this.upAccountId,tel:this.upTel,email:this.upEmail,account_name:this.upUserName,role_id:this.upRole_id};this.$http.post("/acmeCloud/account/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.getAccountInfo(this.account_id),this.setCurrent(1)):alert("修改失败，请咨询DBA或者管理员!")},function(t){})},getAccountInfo:function(t){var e="?account_id="+t;this.$http.get("/acmeCloud/account/info"+e).then(function(t){var e=t.body;0==e.status&&(this.account_id=e.data.account_id,this.account_name=e.data.account_name,this.tel=e.data.tel,this.email=e.data.email,this.role_id=e.data.role_id,this.role_name=e.data.role_name,this.role_name_alias=e.data.role_name_alias)})},updateUserPassword:function(){},deleteUser:function(t){var e={account_id:t};this.$http.post("/acmeCloud/account/delete",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("删除成功!"),this.getAccountInfo(this.account_id),this.setCurrent(1)):alert("删除失败，请咨询DBA或者管理员!")},function(t){})},setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.currentPage=this.current,this.$emit("pagechange",this.current)),this.$http.get("/acmeCloud/account/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.currentPage,this.display;this.$http.get("/acmeCloud/account/list?currentPage="+this.currentPage+"&pageSize="+this.display).then(function(t){var e=t.body;0==e.status&&(this.userList=e.data)},function(t){})},blurFn:function(){var t=this.newPassword,e=this.confirmNewPassword;""==t?(ts1.innerHTML="内容不能为空！",ts1.style.color="red"):/^([\w\.\_]|[\u4e00-\u9fa5]){6,15}$/.test(t)?(ts1.innerHTML="",ts1.style.color="green"):(ts1.innerHTML="格式错误，应输入6-15位字符！",ts1.style.color="red",this.newPassword=""),document.getElementById("configPwd").onblur=function(){""==e?(ts2.innerHTML="内容不能为空",ts2.style.color="red"):e==t?(ts2.innerHTML="",ts2.style.color="green"):(ts2.innerHTML="密码需保持一致",ts2.style.color="red",this.confirmNewPassword="")}}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user_managemen common_bg"},[1==t.role_id||2==t.role_id?a("div",{staticClass:"newUser"},[a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{"font-size":"12px",padding:"6px"},attrs:{"data-toggle":"modal","data-target":"#newmyModal"}},[t._v("添加用户\n    ")])]):t._e(),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"newmyModal",tabindex:"-1",role:"dialog","aria-labelledby":"newmyModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"500px"}},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticStyle:{height:"340px"},attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saveName,expression:"saveName"}],attrs:{type:"text",placeholder:"3~16位，可包含中文、字母、数字"},domProps:{value:t.saveName},on:{input:function(e){e.target.composing||(t.saveName=e.target.value)}}}),t._v(" "),a("div",{staticStyle:{"margin-left":"80px"},attrs:{id:"newTS1"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.savePasswd,expression:"savePasswd"}],attrs:{type:"password",placeholder:"6~15位，不能含有空格"},domProps:{value:t.savePasswd},on:{input:function(e){e.target.composing||(t.savePasswd=e.target.value)}}}),t._v(" "),a("div",{staticStyle:{"margin-left":"80px"},attrs:{id:"newTS2"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("联系方式")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saveTel,expression:"saveTel"}],attrs:{type:"text",placeholder:"请输入有效联系电话"},domProps:{value:t.saveTel},on:{input:function(e){e.target.composing||(t.saveTel=e.target.value)}}}),t._v(" "),a("div",{staticStyle:{"margin-left":"80px"},attrs:{id:"newTS3"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saveEmail,expression:"saveEmail"}],attrs:{type:"text",placeholder:"请输入有效邮箱"},domProps:{value:t.saveEmail},on:{input:function(e){e.target.composing||(t.saveEmail=e.target.value)}}}),t._v(" "),a("div",{staticStyle:{"margin-left":"80px"},attrs:{id:"newTS4"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("角色")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.saveRoleId,expression:"saveRoleId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.saveRoleId=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:2}},[t._v("管理员")]),t._v(" "),a("option",{domProps:{value:3}},[t._v("普通账号")])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.addNewUser()}}},[t._v("提交更改")])])])])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"userMain"},[a("table",[a("tr",[a("td",[t._v("用户姓名："+t._s(t.account_name))]),t._v(" "),a("td",[t._v("身份："),a("span",[t._v(t._s(t.role_name_alias))])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{"font-size":"12px",padding:"6px"},attrs:{"data-toggle":"modal","data-target":"#myModal"},on:{click:function(e){t.upThisUser()}}},[t._v("编辑\n          ")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"padding-top":"12px"}},[t._v("电话："+t._s(t.tel))]),t._v(" "),a("td",{staticStyle:{"padding-top":"12px"}},[t._v("Email："+t._s(t.email))]),t._v(" "),t._m(3)])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"380px",padding:"10px"}},[t._m(4),t._v(" "),a("div",{staticClass:"modal-body",staticStyle:{height:"240px"}},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upUserName,expression:"upUserName"}],attrs:{type:"text",placeholder:"3~16位，可包含中文、字母、数字"},domProps:{value:t.upUserName},on:{input:function(e){e.target.composing||(t.upUserName=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("电话")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upTel,expression:"upTel"}],attrs:{type:"text",placeholder:"请输入有效电话"},domProps:{value:t.upTel},on:{input:function(e){e.target.composing||(t.upTel=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upEmail,expression:"upEmail"}],attrs:{type:"email",placeholder:"请输入有效邮箱"},domProps:{value:t.upEmail},on:{input:function(e){e.target.composing||(t.upEmail=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look"})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.updateModify()}}},[t._v("提交更改\n            ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal2",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel2","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(5),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",{staticStyle:{width:"15%"}},[t._v("原密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],attrs:{type:"password",placeholder:"请输入原始密码"},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",{staticStyle:{width:"15%"}},[t._v("新密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],attrs:{type:"password",placeholder:"请输入新的密码"},domProps:{value:t.newPassword},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look",attrs:{id:"ts1"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",{staticStyle:{width:"15%"}},[t._v("确认密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmNewPassword,expression:"confirmNewPassword"}],attrs:{type:"password",placeholder:"与新密码需保持一致",id:"configPwd"},domProps:{value:t.confirmNewPassword},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.confirmNewPassword=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look",attrs:{id:"ts2"}})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.updateUserPassword}},[t._v("\n              提交更改\n            ")])])])])])]),t._v(" "),1==t.role_id||2==t.role_id?a("div",{staticClass:"userManagementAccount"},[t._m(6),t._v(" "),a("div",{staticClass:"userListOne"},[t._l(t.userList,function(e,s){return a("table",{key:s,staticStyle:{width:"100%"}},[2==e.role_id?a("tr",[a("td",{staticStyle:{width:"30%"}},[t._v("用户姓名："+t._s(e.account_name))]),t._v(" "),a("td",[t._v("身份："+t._s(e.role_name_alias))]),t._v(" "),a("td",{staticStyle:{width:"10%"}},[a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{padding:"5px"},attrs:{"data-toggle":"modal","data-target":"#myModal3"},on:{click:function(a){t.updateAssValue(e)}}},[t._v("编辑\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{padding:"5px"},attrs:{"data-toggle":"modal","data-target":"#myModal4_index"},on:{click:function(a){t.deleteAccountId=e.account_id,t.deleteName=e.account_name}}},[t._v("删除\n            ")])])]):t._e()])}),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal3",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel3","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"430px",padding:"10px"}},[t._m(7),t._v(" "),a("div",{staticClass:"modal-body",staticStyle:{height:"290px"}},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upUserName,expression:"upUserName"}],attrs:{type:"text",placeholder:"3~16位，可包含中文、字母、数字"},domProps:{value:t.upUserName},on:{input:function(e){e.target.composing||(t.upUserName=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("电话")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upTel,expression:"upTel"}],attrs:{type:"text",placeholder:"请输入有效电话"},domProps:{value:t.upTel},on:{input:function(e){e.target.composing||(t.upTel=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upEmail,expression:"upEmail"}],attrs:{type:"email",placeholder:"请输入有效邮箱"},domProps:{value:t.upEmail},on:{input:function(e){e.target.composing||(t.upEmail=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look"})]),t._v(" "),1==t.role_id?a("div",{staticClass:"form-group"},[a("span",[t._v("角色")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.upRole_id,expression:"upRole_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.upRole_id=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:2}},[t._v("管理员")]),t._v(" "),a("option",{domProps:{value:3}},[t._v("普通账号")])])]):t._e()])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.updateModify()}}},[t._v("确定\n              ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal4_index",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel4","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(8),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("您确定删除该用户信息吗?  待删除用户："+t._s(t.deleteName))]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.deleteUser(t.deleteAccountId)}}},[t._v("确定\n              ")])])])])])],2),t._v(" "),a("div",{staticClass:"userListTwo"},t._l(t.userList,function(e){return a("table",{key:e.account_name},[3==e.role_id?a("tr",{staticStyle:{"margin-top":"10px"}},[a("td",{staticStyle:{width:"30%"}},[t._v("用户姓名："+t._s(e.account_name))]),t._v(" "),a("td",[t._v("身份："+t._s(e.role_name_alias))]),t._v(" "),a("td",{staticStyle:{width:"10%"}},[a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{padding:"5px"},attrs:{"data-toggle":"modal","data-target":"#myModal6"},on:{click:function(a){t.updateAssValue(e)}}},[t._v("编辑\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{padding:"5px"},attrs:{"data-toggle":"modal","data-target":"#myModal5"},on:{click:function(a){t.deleteAccountId=e.account_id,t.deleteName=e.account_name}}},[t._v("删除\n            ")])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal6",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel6","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"430px",padding:"10px"}},[t._m(9,!0),t._v(" "),a("div",{staticClass:"modal-body",staticStyle:{height:"290px"}},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upUserName,expression:"upUserName"}],attrs:{type:"text",placeholder:"3~16位，可包含中文、字母、数字"},domProps:{value:t.upUserName},on:{input:function(e){e.target.composing||(t.upUserName=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("电话")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upTel,expression:"upTel"}],attrs:{type:"text",placeholder:"请输入有效电话"},domProps:{value:t.upTel},on:{input:function(e){e.target.composing||(t.upTel=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.upEmail,expression:"upEmail"}],attrs:{type:"email",placeholder:"请输入有效邮箱"},domProps:{value:t.upEmail},on:{input:function(e){e.target.composing||(t.upEmail=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look"})]),t._v(" "),1==t.role_id?a("div",{staticClass:"form-group"},[a("span",[t._v("角色")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.upRole_id,expression:"upRole_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.upRole_id=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:2}},[t._v("管理员")]),t._v(" "),a("option",{domProps:{value:3}},[t._v("普通账号")])])]):t._e()])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.updateModify()}}},[t._v("确定\n                  ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal5",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel5","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(10,!0),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("您确定删除该用户信息吗?  待删除用户："+t._s(t.deleteName))]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.deleteUser(t.deleteAccountId)}}},[t._v("确定\n                  ")])])])])])]):t._e()])})),t._v(" "),1==t.role_id||2==t.role_id?a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{key:e.text,class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)]):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"newmyModalLabel"}},[this._v("添加用户")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v("用户管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{"margin-top":"12px","font-size":"12px",padding:"6px"},attrs:{"data-toggle":"modal","data-target":"#myModal2"}},[this._v("修改密码\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[this._v("修改用户信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel2"}},[this._v("修改用户密码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("账号管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel3"}},[this._v("编辑用户信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel4"}},[this._v("删除用户")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel6"}},[this._v("编辑用户信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel5"}},[this._v("删除用户")])])}]};var X=a("VU/8")(H,W,!1,function(t){a("1AOM")},null,null).exports,K={data:function(){return{total:0,currentPage:1,current:1,userList:[],deleteAccountId:"",deleteName:"",upUser:"",upAccountId:"",upRole_id:"",upUserName:"",upEmail:"",upTel:"",role_id:"",account_id:this.$cookies.get("account_id")}},mounted:function(){this.getAccountInfo(this.account_id),this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{getAccountInfo:function(t){var e="?account_id="+t;this.$http.get("/acmeCloud/account/info"+e).then(function(t){var e=t.body;0==e.status&&(this.account_id=e.data.account_id,this.account_name=e.data.account_name,this.tel=e.data.tel,this.email=e.data.email,this.role_id=e.data.role_id,this.role_name=e.data.role_name,this.role_name_alias=e.data.role_name_alias)})},updateModify:function(){var t={account_id:this.upAccountId,tel:this.upTel,email:this.upEmail,account_name:this.upUserName,role_id:this.upRole_id};this.$http.post("/acmeCloud/account/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.setCurrent(1)):alert("修改失败，请咨询DBA或者管理员!")},function(t){})},updateAssValue:function(t){this.upAccountId=t.account_id,this.upRole_id=t.role_id,this.upUserName=t.account_name,this.upTel=t.tel,this.upEmail=t.email},deleteUser:function(t){var e={account_id:t};this.$http.post("/acmeCloud/account/delete",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("删除成功!"),this.setCurrent(1)):alert("删除失败，请咨询DBA或者管理员!")},function(t){})},setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.currentPage=this.current,this.$emit("pagechange",this.current)),window.scrollTo(0,0),this.$http.get("/acmeCloud/account/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.currentPage,this.display;this.$http.get("/acmeCloud/account/list?currentPage="+this.currentPage+"&pageSize="+this.display).then(function(t){var e=t.body;0==e.status&&(this.userList=e.data)},function(t){})}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userList common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),1==t.role_id||2==t.role_id?a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table",staticStyle:{"table-layout":"fixed"}},[t._m(2),t._v(" "),a("tbody",[t._l(t.userList,function(e){return 2==e.role_id||3==e.role_id?a("tr",[a("th",[t._v(t._s(e.account_name))]),t._v(" "),a("th",[t._v(t._s(e.tel))]),t._v(" "),a("th",[t._v(t._s(e.email))]),t._v(" "),a("th",[t._v(t._s(e.role_name_alias))]),t._v(" "),a("th",[a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{padding:"5px"},attrs:{"data-toggle":"modal","data-target":"#myModal6"},on:{click:function(a){t.updateAssValue(e)}}},[t._v("编辑\n          ")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{padding:"5px"},attrs:{"data-toggle":"modal","data-target":"#myModal5"},on:{click:function(a){t.deleteAccountId=e.account_id,t.deleteName=e.account_name}}},[t._v("删除\n          ")])])]):t._e()}),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal6",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel6","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"430px",padding:"10px"}},[t._m(3),t._v(" "),a("div",{staticClass:"modal-body",staticStyle:{height:"290px"}},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.upUserName,expression:"upUserName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"3~16位，可包含中文、字母、数字"},domProps:{value:t.upUserName},on:{input:function(e){e.target.composing||(t.upUserName=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("电话")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.upTel,expression:"upTel",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入有效电话"},domProps:{value:t.upTel},on:{input:function(e){e.target.composing||(t.upTel=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("div",{staticClass:"look"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.upEmail,expression:"upEmail",modifiers:{trim:!0}}],attrs:{type:"email",placeholder:"请输入有效邮箱"},domProps:{value:t.upEmail},on:{input:function(e){e.target.composing||(t.upEmail=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("div",{staticClass:"look"})]),t._v(" "),1==t.role_id?a("div",{staticClass:"form-group"},[a("span",[t._v("角色")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.upRole_id,expression:"upRole_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.upRole_id=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:2}},[t._v("管理员")]),t._v(" "),a("option",{domProps:{value:3}},[t._v("普通账号")])])]):t._e()])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.updateModify()}}},[t._v("确定\n              ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal5",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel5","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(4),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("您确定删除该用户信息吗?  待删除用户："+t._s(t.deleteName))]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.deleteUser(t.deleteAccountId)}}},[t._v("确定\n              ")])])])])])],2)])]):t._e(),t._v(" "),3==t.role_id?a("div",{staticClass:"tips"},[a("p",[t._v("您暂无权限查看用户列表")])]):t._e(),t._v(" "),1==t.role_id||2==t.role_id?a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("用户管理")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("用户列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("用户列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("用户姓名")]),t._v(" "),a("th",[t._v("联系方式")]),t._v(" "),a("th",[t._v("邮箱")]),t._v(" "),a("th",[t._v("角色")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel6"}},[this._v("编辑用户信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel5"}},[this._v("删除用户")])])}]};var et=a("VU/8")(K,tt,!1,function(t){a("9xmD")},null,null).exports,at={data:function(){return{machine:""}},mounted:function(){this.get_cluster_count()},methods:{get_chart:function(){option={title:{text:"",textStyle:{fontWeight:"normal",fontSize:12,color:"#F1F1F3"},left:"6%"},tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#57617B"}}},legend:{icon:"rect",itemWidth:14,itemHeight:5,itemGap:13,data:["党费"],right:"4%",textStyle:{fontSize:12,color:"#F1F1F3"}},grid:{left:"1%",right:"2%",bottom:"8%",top:"14%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#57617B"}},data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLabel:{interval:0,rotate:50,textStyle:{fontSize:12}}}],yAxis:[{type:"value",interval:40,max:120,axisTick:{show:!1},axisLine:{lineStyle:{color:"#57617B"}},axisLabel:{textStyle:{fontSize:12}},splitLine:{lineStyle:{color:"#57617B"}}}],series:[{name:"党费",type:"line",smooth:!0,lineStyle:{normal:{width:2}},symbolSize:4,itemStyle:{normal:{color:"rgb(242, 155, 118)",borderColor:"#e48b4c"}},data:[96.3,96.4,97.5,95.6,98.1,94.8,89.6,94.1,80.1,52.4,75.8,94.7]},{name:"党费2",type:"line",smooth:!0,lineStyle:{normal:{width:2}},symbolSize:4,itemStyle:{normal:{color:"rgb(27, 241, 172)",borderColor:"#e48b4c"}},data:[1,2,3,44,55,88]}]}},get_success_rate:function(){this.$http.get("/acmeCloud/backup/successrate?").then(function(t){t.body.status})},get_cluster_count:function(){this.$http.get("/acmeCloud/backup/clustercount?").then(function(t){var e=t.body;if(0==e.status){var a=e.data;this.draw(a)}}),this.$http.get("/acmeCloud/backup/datatotal?").then(function(t){var e=t.body;if(0==e.status){var a=e.data;this.draw_data_total(a)}}),this.$http.get("/acmeCloud/backup/screen/machinemfs/usage?").then(function(t){var e=t.body;0==e.status&&(this.machine=e.data)})},draw_data_total:function(t){this.$echarts.init(document.getElementById("backup_cluster")).setOption({title:[{text:"备份数据总量",textStyle:{color:"#fff"},top:0,left:0},{text:"(单位G)",textStyle:{color:"red"},top:0,left:130}],color:["#0049B0","#DE5347"],series:[{type:"pie",radius:["80%","60%"],data:[{value:t,name:"数量",label:{normal:{position:"center",formatter:"{c|{c}} {text|}",color:"#fff",rich:{c:{fontWeight:"bold",color:"#B3BAC5",fontSize:40},text:{color:"#fff"}}}}},{value:200}]}]})},draw:function(t){this.$echarts.init(document.getElementById("copy")).setOption({title:{text:"备份集群数",textStyle:{color:"#fff"}},color:["#FFA25C","#148BBE"],series:[{type:"pie",radius:["80%","60%"],data:[{value:t,name:"数量",label:{normal:{position:"center",formatter:"{c|{c}} {text|}",color:"#fff",rich:{c:{fontWeight:"bold",color:"#FFA25C",fontSize:40},text:{color:"#fff"}}}}},{value:200}]}]}),this.$echarts.init(document.getElementById("shade")).setOption({legend:{icon:"rect",top:"2%",right:"2%",data:["备份成功率","还原成功率"],textStyle:{fontSize:12,color:"#F1F1F3"},orient:"vertical"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#57617B"}},data:["1月","2月","3月","4月","5月"],z:[5,1]}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{lineStyle:{color:"#57617B"}},axisLabel:{margin:10,textStyle:{fontSize:14}},splitLine:{lineStyle:{color:"#57617B"}}}],series:[{name:"备份成功率",type:"line",lineStyle:{normal:{width:1}},emphasis:{itemStyle:{color:"#fff",borderColor:"#fff",borderWidth:2,borderType:"solid"}},areaStyle:{normal:{shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(242, 155, 118)"}},data:[123,145,562,222,444]},{name:"还原成功率",type:"line",lineStyle:{normal:{width:1}},areaStyle:{normal:{shadowColor:"rgba(0, 0, 0, 1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(27, 241, 172)"}},data:[197.3,299.2,399.3,100,599.6]}]})}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backup common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("ul",{staticClass:"base-ul",staticStyle:{width:"100%",height:"330px",display:"flex","justify-content":"space-between","margin-top":"30px"}},[a("li",{staticStyle:{width:"48%","background-color":"#E8F0F8"}},[a("router-link",{attrs:{to:{path:"backupList"}}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"copy"}})])],1),t._v(" "),a("li",{staticStyle:{width:"48%","background-color":"#E8F0F8"}},[a("router-link",{attrs:{to:{path:"backupList"}}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"backup_cluster"}})])],1)]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"base-info"},[a("div",{staticClass:"base-info-content"},[t._m(3),t._v(" "),a("div",{staticClass:"base-right"},[a("div",{staticClass:"base-base-bg",staticStyle:{"margin-left":"50px"}},[t._m(4),t._v(" "),a("div",{staticClass:"state-img"},[a("div",{staticClass:"state-bg-img"},[t._m(5),t._v(" "),a("div",{staticClass:"left-bottom"},[a("p",{staticStyle:{"font-size":"16px"}},[t._v("备份池")]),t._v(" "),a("p",[t._v("总容量: "+t._s(this.machine.machine_disk_free)+"G")]),t._v(" "),a("p",[t._v("已用: "+t._s(this.machine.machine_disk_usage_rate)+"%")])]),t._v(" "),t._m(6),t._v(" "),t._m(7)])])])])])]),t._v(" "),t._m(8),t._v(" "),t._m(9)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v(" 备份中心")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基础统计")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("监控信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"base-left"},[e("span",{staticClass:"base-info-cirle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"state-content"},[e("ul",{staticClass:"state-ul"},[e("li",[e("span",{staticClass:"green"}),this._v("正常")]),this._v(" "),e("li",[e("span",{staticClass:"yellow"}),this._v("维护中")]),this._v(" "),e("li",[e("span",{staticClass:"red"}),this._v("异常")]),this._v(" "),e("li",[e("span",{staticClass:"grey"}),this._v("下线")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left-top"},[e("p",{staticStyle:{"font-size":"16px"}},[this._v("备份机")]),this._v(" "),e("p",[this._v("总容量:")]),this._v(" "),e("p",[this._v("已用:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-top"},[e("p",{staticStyle:{"font-size":"16px"}},[this._v("备份状态")]),this._v(" "),e("p",[this._v("进行中:")]),this._v(" "),e("p",[this._v("已完成:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-bottom"},[e("p",{staticStyle:{"font-size":"16px"}},[this._v("还原")]),this._v(" "),e("p",[this._v("进行中:")]),this._v(" "),e("p",[this._v("已完成:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("告警")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"base-info"},[e("div",{staticClass:"base-info-content"},[e("div",{staticClass:"base-left"},[e("span",{staticClass:"base-info-cirle"})]),this._v(" "),e("div",{staticClass:"base-right"},[e("div",{staticClass:"base-base-bg",staticStyle:{"margin-left":"50px"}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"shade"}})])])])])}]};var it=a("VU/8")(at,st,!1,function(t){a("TtUI")},null,null).exports,nt={data:function(){return{confirm_backup:"",centerDialogVisible:!1,total:0,current_page:1,current:1,no_active:"",no_disabled:"disabled",change_result:"暂停成功",currentPage:1,pageSize:10,show_pagination:!1,show_alert:!1,hostlist:[],pxclist:[],singlelist:[]}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.current_page=this.current,this.$emit("pagechange",this.current)),this.$http.get("/acmeCloud/MySQLCluster/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.current_page,this.display;this.$http.get("/acmeCloud/backup/list?currentPage="+this.current_page+"&pageSize="+this.display).then(function(t){var e=t.body;0==e.status&&(this.hostlist=e.data,document.documentElement.scrollTop=document.body.scrollTop=0)})},get_backup_list:function(){this.$http.get("/acmeCloud/backup/list?currentPage="+this.currentPage+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status&&(this.hostlist=e.data,e.data.length/10>=1&&(this.show_pagination=!0,this.cluster_page_num=Math.ceil(e.data.length/10/10)))})},go:function(t){this.currentPage=t,this.$http.get("/acmeCloud/backup/list?currentPage="+t+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status?e.data.length<10?(this.no_active=!0,this.hostlist=e.data):(this.hostlist=e.data,this.no_active=!1):this.no_active=!0})},state_change:function(t,e){var a=this,s={clusterName:e};this.$http.post("/acmeCloud/backup/"+t+"?clusterName="+e,x()(s),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status&&("switch"==t&&(a.change_result="暂停成功",a.show_alert=!0,setTimeout(function(){a.show_alert=!1},1e3)),"delete"==t&&(a.change_result="删除成功",a.show_alert=!0,setTimeout(function(){a.show_alert=!1},1e3)),"deploy"==t&&(a.change_result="部署成功",a.show_alert=!0,setTimeout(function(){a.show_alert=!1},1e3)))})},delete_backup:function(t,e){this.confirm_backup=t,this.confirm_backup_index=e},sure_delete:function(){var t=this,e={clusterName:t.confirm_backup};t.$http.post("/acmeCloud/backup/delete?clusterName=",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status&&t.setCurrent(1)})}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backupList common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",t._l(t.hostlist,function(e,s){return a("tr",{key:e.cluster_name},[a("th",[a("router-link",{attrs:{to:{path:"clusterinformation",query:{name:e.cluster_name}}}},[t._v("\n            "+t._s(e.cluster_name)+"\n          ")])],1),t._v(" "),a("th",[t._v(t._s(e.ip))]),t._v(" "),a("th",[1==e.is_backup?a("p",[t._v("已开启")]):0==e.is_backup?a("p",{staticStyle:{color:"red"}},[t._v("未开启")]):t._e()]),t._v(" "),a("th",[t._v(" innobackupex")]),t._v(" "),a("th",[t._v("\n          "+t._s(e.create_time)+"\n        ")]),t._v(" "),a("th",[1==e.is_backup?a("router-link",{attrs:{to:{path:"backupDetail",query:{name:e.cluster_name}}}},[t._v("\n            详情\n          ")]):t._e(),t._v(" "),1==e.is_backup?a("span",{staticStyle:{"margin-left":"10px",color:"red",cursor:"pointer"},attrs:{"data-toggle":"modal","data-target":"#myModal5"},on:{click:function(a){t.delete_backup(e.cluster_name,s)}}},[t._v("\n            删除\n          ")]):a("router-link",{attrs:{to:{path:"modify",query:{clusterName:e.cluster_name}}}},[t._v("\n            添加备份\n          ")])],1)])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{key:e.text,class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show_alert,expression:"show_alert"}],staticClass:"alert toast-alert alert-info",attrs:{role:"alert"}},[t._v("\n      "+t._s(t.change_result)+"\n    ")]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("span",[t._v("待删除备份信息："+t._s(t.confirm_backup))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sure_delete()}}},[t._v("确 定")])],1)]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal5",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel5","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(3),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("待删除备份信息："+t._s(t.confirm_backup))]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.sure_delete()}}},[t._v("确定\n          ")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("备份中心")]),this._v(" "),e("span",{staticClass:"arrow"},[this._v(" > ")]),this._v(" "),e("span",{staticClass:"titleUrl"},[this._v("备份列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("集群名")]),t._v(" "),a("th",[t._v("IP地址")]),t._v(" "),a("th",[t._v("定时备份")]),t._v(" "),a("th",[t._v("备份方式")]),t._v(" "),a("th",[t._v("创建时间")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel5"}},[this._v("删除备份")])])}]};var ot=a("VU/8")(nt,lt,!1,function(t){a("fD5R")},null,null).exports,rt=a("nT+3"),ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backupStrategy common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("ul",{staticClass:"backup-ul",staticStyle:{width:"100%"}},t._l(t.config_list,function(e,s){return a("li",{key:s,staticStyle:{width:"100%"}},[a("div",{staticClass:"back-item-wrap"},[a("div",{staticClass:"backup-item",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"common_title_blue_bg"},[a("p",{staticClass:"common_title_size"},[t._v(t._s(e.config_name_alias))])]),t._v(" "),a("div",[a("ul",{staticClass:"content-ul"},[t._l(e.config_list,function(e,i){return a("li",{key:i},[t._v("\n                    "+t._s(e)+"\n                    "),a("span",{staticClass:"delete-btn  glyphicon glyphicon-remove",staticStyle:{padding:"3px 6px",margin:"0 5px","font-size":"14px"},on:{click:function(e){t.config_list_delete(i,s)}}})])}),t._v(" "),a("li",[t._v(" \n                    "),a("span",{staticClass:"btn change-plus",staticStyle:{float:"right",margin:"12px 5px 0 0","background-color":"#18A1C1","border-radius":"0",color:"#fff",padding:"4.4px 12px"},attrs:{"data-toggle":"modal","data-target":"#myModal","aria-haspopup":"true","aria-expanded":"true"},on:{click:function(e){t.backup_plus(s)}}},[t._v("添加")])])],2)])])])])})),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"myModal",tabindex:"-1",role:"dialog","aria-labelledby":"newmyModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"230px","margin-top":"30%"}},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticStyle:{height:"80px"},attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",{staticStyle:{"word-break":"keep-all","line-height":"40px","margin-right":"30px"}},[t._v(t._s(t.model_path)+"：")]),t._v(" "),a("el-input",{attrs:{autofocus:"",placeholder:t.model_path_placehold,clearable:""},model:{value:t.model_path_new,callback:function(e){t.model_path_new="string"==typeof e?e.trim():e},expression:"model_path_new"}})],1)])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.config_list_append()()}}},[t._v("提交")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("备份中心")]),this._v(" "),e("span",{staticClass:"arrow"},[this._v(" > ")]),this._v(" "),e("span",{staticClass:"titleUrl"},[this._v("备份策略")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("备份策略")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"newmyModalLabel"}},[this._v("增加备份策略")])])}]};var _t=function(t){a("nbwC")},dt=a("VU/8")(rt.a,ct,!1,_t,null,null).exports,ut={data:function(){var t=this;return{template_name:"",template_name_list:[],install_mysql_cmd:"",start_mysql_cmd:"",stop_mysql_cmd:"",mycnf_file:"",mysql_base_dir:"",mysql_data_dir:"",is_default:!0,mysql_version_model_tips:"",mysql_version_model:"",mysql_version:[{value:"5.7",label:"5.7"}],host_ip_name_tips:"",base_myconf_dir:"",data_tmp_data_tips:"",base_dir_tips:"",data_dir_tips:"",passswrad_tips:"",user_tips:"",host_tips:"",trans_tips:"",backup_set_tips:"",task_name_tips:"",work_name_tips:"",trans:"10M",select_li:"select_li",data_dir:"",base_dir:"",myconf_dir:"",datatmp_data:"",task_nme:"",topnum:5,copy_user:"",pass_word:"",nbakset_list:[],matser_list:[],master_name:"",master_ip:"",master_port:"",port_name:3306,select_ul:"",trans_options:[{value:"10M"},{value:"30M"},{value:"50M"},{value:"100M"}],value5:"",restaurants:[],state1:"",state2:"",show_calendar:!1,show_slave:!1,work_name:"",host_name:"",host_ip_name:"",location_name:"",pare_name:"",start_data:t.get_day(-7),end_data:t.get_day(0),host_ip_list:[],backup_set_name:"",slave_num:0,work_list:[],restore_host:[{a:"host1"},{a:"host2"},{a:"host3"},{a:"host4"}],loaction_list:[{a:"location1"},{a:"location2"},{a:"location3"}],para_list:[{a:"para1"},{a:"para2"},{a:"para3"}],pickerOptions0:{disabledDate:function(t){return t.getTime()>Date.now()-864e5}},pickerOptions1:{disabledDate:function(e){return e.getTime()>Date.now()-864e5||e.getTime()<new Date(t.start_data).getTime()}}}},mounted:function(){this.get_cluster_name(),this.get_all_master(),this.get_all_host()},methods:{gain_event:function(t){this.is_default=t,t?this.mysql_version=[{value:"5.7",label:"5.7"}]:(this.$http.get("/acmeCloud/restore/all/mysql/templatename").then(function(t){var e=t.body;0==e.status&&(this.template_name_list=e.data,this.template_name=e.data[0],this.name_change_event(e.data[0]))}),this.mysql_version=[{value:"5.7",label:"5.7"},{value:"5.6",label:"5.6"}])},name_change_event:function(t){this.$http.get("/acmeCloud/restore/mysql/template/byname?name="+t).then(function(t){var e=t.body;0==e.status&&(this.install_mysql_cmd=e.data.install_mysql_cmd,this.start_mysql_cmd=e.data.start_mysql_cmd,this.stop_mysql_cmd=e.data.stop_mysql_cmd,this.mycnf_file=e.data.mycnf_file,this.mysql_base_dir=e.data.mysql_base_dir,this.mysql_data_dir=e.data.mysql_data_dir)})},check_task:function(){var t=[];this.task_nme?this.work_name?this.work_name?this.trans?this.host_ip_name?this.port_name?(this.show_slave?this.copy_user?this.pass_word?this.mysql_data_dir?this.mysql_version_model?(t={task_name:this.task_nme,cluster_name:this.work_name,restore_type:this.slave_num,backupset_name:this.backup_set_name,restore_ip:this.host_ip_name,restore_port:parseInt(this.port_name),base_dir:this.mysql_base_dir,data_dir:this.mysql_data_dir,mycnf_file:this.mycnf_file,rep_user:this.copy_user,rep_pass:this.pass_word,install_mysql_cmd:this.install_mysql_cmd,start_mysql_cmd:this.start_mysql_cmd,stop_mysql_cmd:this.stop_mysql_cmd,master_ip:this.master_ip,master_port:this.master_port,trans_limit:this.trans,is_default:this.is_default,restore_version:this.mysql_version_model},this.post_task(t)):this.$notify.error({message:"版本号不能为空"}):this.$notify.error({message:"Data路径不能为空"}):this.$notify.error({message:"密码不能为空"}):this.$notify.error({message:"用户不能为空"}):this.is_default?this.mysql_data_dir&&this.mysql_version_model&&(t={task_name:this.task_nme,cluster_name:this.work_name,restore_type:this.slave_num,backupset_name:this.backup_set_name,restore_ip:this.host_ip_name,restore_port:parseInt(this.port_name),base_dir:this.mysql_base_dir,data_dir:this.mysql_data_dir,mycnf_file:this.mycnf_file,rep_user:"",rep_pass:"",install_mysql_cmd:this.install_mysql_cmd,start_mysql_cmd:this.start_mysql_cmd,stop_mysql_cmd:this.stop_mysql_cmd,master_ip:this.master_ip,master_port:this.master_port,trans_limit:this.trans,is_default:this.is_default,restore_version:this.mysql_version_model},this.post_task(t)):this.mysql_version_model&&this.mysql_data_dir&&this.mysql_base_dir&&this.mycnf_file&&this.stop_mysql_cmd&&this.start_mysql_cmd&&this.install_mysql_cmd&&(t={task_name:this.task_nme,cluster_name:this.work_name,restore_type:this.slave_num,backupset_name:this.backup_set_name,restore_ip:this.host_ip_name,restore_port:parseInt(this.port_name),base_dir:this.mysql_base_dir,data_dir:this.mysql_data_dir,mycnf_file:this.mycnf_file,rep_user:"",rep_pass:"",install_mysql_cmd:this.install_mysql_cmd,start_mysql_cmd:this.start_mysql_cmd,stop_mysql_cmd:this.stop_mysql_cmd,master_ip:this.master_ip,master_port:this.master_port,trans_limit:this.trans,is_default:this.is_default,restore_version:this.mysql_version_model},this.post_task(t)),this.is_default?this.mysql_data_dir?this.mysql_version_model||this.$notify.error({message:"版本号不能为空"}):this.$notify.error({message:"Data路径不能为空"}):this.install_mysql_cmd?this.start_mysql_cmd?this.stop_mysql_cmd?this.mycnf_file?this.mysql_base_dir?this.mysql_data_dir?this.mysql_version_model||this.$notify.error({message:"版本号不能为空"}):this.$notify.error({message:"datadir不能为空"}):this.$notify.error({message:"basedir不能为空"}):this.$notify.error({message:"MySQL配置文件路径不能为空"}):this.$notify.error({message:"关闭MySQL不能为空"}):this.$notify.error({message:"启动MySQL不能为空"}):this.$notify.error({message:"安装MySQL不能为空"})):this.$notify.error({message:"还原端口不能为空"}):this.$notify.error({message:"还原主机不能为空"}):this.$notify.error({message:"传输速度不能为空"}):this.$notify.error({message:"备份集不能为空"}):this.$notify.error({message:"集群名不能为空"}):this.$notify.error({message:"任务名称不能为空"})},post_task:function(t){var e=this;e.$http.post("/acmeCloud/restore/add/task?",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var a=t.body;0==a.status?(this.$notify({message:"新增还原成功",type:"success"}),e.$router.replace({path:"restoreDetails?id="+a.data})):1005==a.status?this.$notify.error({title:"错误",message:a.msg}):this.$notify.error({message:"请稍后重试"})})},get_all_host:function(){this.$http.get("/acmeCloud/host/allhosts").then(function(t){var e=t.body;0==e.status&&(this.host_ip_list=e.data)})},get_all_master:function(){this.$http.get("/acmeCloud/MySQLInstance/allmaster").then(function(t){var e=t.body;if(0==e.status){var a=[];this.master_ip=e.data[0].host_ip,this.master_port=e.data[0].instance_port,this.master_name=e.data[0].instance_name;for(var s=0;s<e.data.length;s++){var i={};i.value=e.data[s].instance_name,i.instance_port=e.data[s].instance_port,i.host_ip=e.data[s].host_ip,i.id=e.data[s].id,a.push(i)}this.matser_list=a}})},num_switch:function(){this.switch_num/1024>1&&this.switch_num/1024/1024>1&&this.switch_num},chose_back:function(t){this.select_ul=t,this.backup_set_name=this.nbakset_list[t]},GMTToStr:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},query_time:function(){this.$http.get("/acmeCloud/restore/baksetnames?start_time="+this.GMTToStr(this.start_data)+"&end_time="+this.GMTToStr(this.end_data)+"&cluster_name="+this.work_name).then(function(t){var e=t.body;0==e.status&&(this.nbakset_list=e.data,e.data?this.backup_set_name=e.data[0]:this.backup_set_name="")})},get_top_nbakset_names:function(t){this.$http.get("/acmeCloud/restore/topnbaksetnames?topn="+this.topnum+"&cluster_name="+t).then(function(t){var e=t.body;0==e.status&&(this.nbakset_list=e.data,e.data?this.backup_set_name=e.data[0]:this.backup_set_name="")})},get_cluster_name:function(){this.$http.get("/acmeCloud/MySQLCluster/allclusternames?").then(function(t){var e=t.body;0==e.status&&(this.work_list=e.data)})},querySearch_host:function(t,e){var a=this.host_ip_list;e(t?a.filter(this.createFilter(t)):a)},querySearch_master:function(t,e){var a=this.matser_list;e(t?a.filter(this.createFilter(t)):a)},querySearch:function(t,e){var a=this.work_list;e(t?a.filter(this.createFilter(t)):a)},createFilter:function(t){return function(e){return-1!=e.value.indexOf(t)}},handleSelect:function(t){this.master_ip=t.host_ip,this.master_port=t.instance_port},search_input:function(){for(var t=new Array,e=(this.work_name.split(""),0);e<this.work_list.length;e++)-1!=this.work_list[e].a.search(this.work_name)&&t.push(this.work_list[e].a);this.serach_list=t},get_data:function(t){this.$http.get("/acmeCloud/MySQLCluster/allclusternames?").then(function(t){var e=t.body;0==e.status&&(this.work_list=e.data,this.work_name=e.data[0])})},get_day:function(t){var e=new Date,a=e.getTime()+864e5*t;e.setTime(a);var s=e.getFullYear(),i=e.getMonth(),n=e.getDate();return s+"-"+(i=this.doHandleMonth(i+1))+"-"+(n=this.doHandleMonth(n))},doHandleMonth:function(t){var e=t;return 1==t.toString().length&&(e="0"+t),e},fun_init:function(){this.work_name=this.work_list[0].a,this.host_name=this.restore_host[0].a,this.location_name=this.loaction_list[0].a,this.pare_name=this.para_list[0].a},para_change:function(t){this.pare_name=this.para_list[t].a},change_location:function(t){this.location_name=this.loaction_list[t].a},host_change:function(t){this.host_name=this.restore_host[t].a},get_work_list:function(t){this.work_name=this.work_list[t].a},slave_check:function(){this.show_slave=!0,this.slave_num=1},hide_slave:function(){this.show_slave&&(this.show_slave=!1,this.slave_num=0)},time_check:function(){this.show_calendar=!0},change_cluster:function(t){this.get_top_nbakset_names(t)},time_no_calender:function(){this.show_calendar&&(this.show_calendar=!1,this.get_top_nbakset_names(this.work_name))}}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"deployRestore common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"restore-wrap"},[a("div",{staticClass:"restore-right",staticStyle:{"background-color":"#E8F0F8","padding-bottom":"10px"}},[a("ul",{staticClass:"restore-ul"},[a("li",{staticClass:"dropdown"},[a("p",[t._v("任务名称：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.task_nme,expression:"task_nme",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"inputEmail3",placeholder:""},domProps:{value:t.task_nme},on:{input:function(e){e.target.composing||(t.task_nme=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),t.task_nme?a("p",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.task_nme.length>24,expression:"task_nme.length>24"}]},[t._v("任务名称小于24字符")])]):a("p",{staticClass:"red_tips"},[t._v("\n                "+t._s(t.task_name_tips)+"\n              ")])]),t._v(" "),a("li",{staticClass:"dropdown"},[a("p",[t._v("集群名称：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.change_cluster},model:{value:t.work_name,callback:function(e){t.work_name=e},expression:"work_name"}},t._l(t.work_list,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1),t._v(" "),t.work_name?a("p"):a("p",{staticClass:"red_tips"},[t._v(t._s(t.work_name_tips))])]),t._v(" "),a("li",[a("p",[t._v("备份集查询方式：")]),t._v(" "),a("div",{staticClass:"recent"},[a("ul",{staticClass:"nav nav-tabs time_ul"},[a("li",{staticClass:"active",staticStyle:{"border-right":"1px solid #fff",margin:"0"},attrs:{"data-toggle":"tab"},on:{click:function(e){t.time_no_calender()}}},[t._v("\n                最近备份\n                  ")]),t._v(" "),a("li",{staticStyle:{"border-right":"none",margin:"0"},attrs:{"data-toggle":"tab"},on:{click:function(e){t.time_check()}}},[t._v("\n                    时间范围\n                  ")])])])]),t._v(" "),t.show_calendar?a("li",[a("p",[t._v("查询区间：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{display:"flex",background:"none","justify-content":"space-between"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始时间",format:"yyyy 年 MM 月 dd 日","picker-options":t.pickerOptions0},model:{value:t.start_data,callback:function(e){t.start_data=e},expression:"start_data"}})],1),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{display:"flex",background:"none","justify-content":"space-between"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"结束时间",format:"yyyy 年 MM 月 dd 日","picker-options":t.pickerOptions1},model:{value:t.end_data,callback:function(e){t.end_data=e},expression:"end_data"}})],1)]):t._e(),t._v(" "),t.show_calendar?a("li",[a("p"),t._v(" "),a("div",{staticClass:"recent"},[a("ul",{staticClass:"nav nav-tabs time_ul"},[a("li",{staticStyle:{width:"100%",margin:"0","background-color":"#18A1C1"},on:{click:function(e){t.query_time()}}},[t._v("\n                    查询\n                  ")])])]),t._v(" "),t.show_calendar?a("span",{staticStyle:{position:"relative","line-height":"36px","margin-left":"10px",color:"red"}},[t._v("请选择查询区间查看备份集")]):t._e()]):t._e(),t._v(" "),a("li",[a("p",[t._v("备份集:\n              ")]),t._v(" "),a("div",{staticClass:"query-backup"},[a("ul",{staticClass:"scroll-ul"},[t._l(t.nbakset_list,function(e,s){return a("li",{class:{select_li:s==t.select_ul},staticStyle:{height:"30px",margin:"0"},on:{click:function(e){t.chose_back(s)}}},[t._v(t._s(e))])}),t._v(" "),null==t.nbakset_list?a("span",{staticStyle:{display:"block","text-align":"center","font-weight":"bold","font-size":"24px"}},[t._v("暂无可选备份集")]):t._e()],2)]),t._v(" "),t.backup_set_name?a("p",{staticClass:"red_tips"},[a("span",{staticStyle:{display:"block","word-break":"break-all","white-space":"normal","margin-left":"10px"}},[t._v("备份集信息由集群名称自动获取")])]):a("p",{staticClass:"red_tips",staticStyle:{width:"auto"}},[a("span",{staticStyle:{display:"block","word-break":"break-all","white-space":"normal","font-size":"12px"}},[t._v("备份集信息由集群名称获取")]),t._v(t._s(t.backup_set_tips))])]),t._v(" "),a("li",[a("p",[t._v("传输速度：")]),t._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.trans,callback:function(e){t.trans="string"==typeof e?e.trim():e},expression:"trans"}},t._l(t.trans_options,function(t){return a("el-option",{key:t.value,attrs:{value:t.value}})})),t._v(" "),t.trans?a("p"):a("p",[t._v(t._s(t.trans_tips))])],1)])]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"restore-right ",staticStyle:{"background-color":"#E8F0F8","padding-bottom":"10px"}},[a("ul",{staticClass:"restore-ul"},[a("li",[a("p",[t._v("类型：")]),t._v(" "),a("div",{staticClass:"recent"},[a("div",{staticClass:"recent"},[a("ul",{staticClass:"nav nav-tabs time_ul"},[a("li",{staticClass:"active",staticStyle:{"border-right":"1px solid #fff",margin:"0"},attrs:{"data-toggle":"tab"},on:{click:function(e){t.hide_slave()}}},[t._v("\n                      单实例\n                    ")]),t._v(" "),a("li",{staticStyle:{"border-right":"none",margin:"0"},attrs:{"data-toggle":"tab"},on:{click:function(e){t.slave_check()}}},[t._v("\n                      从实例\n                    ")])])])])]),t._v(" "),a("li",{staticClass:"dropdown"},[a("p",[t._v("还原主机：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.host_ip_name,callback:function(e){t.host_ip_name=e},expression:"host_ip_name"}},t._l(t.host_ip_list,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1),t._v(" "),a("p",{staticClass:"red_tips"},[t._v(t._s(t.host_ip_name_tips))])]),t._v(" "),a("li",[a("p",[t._v("还原端口：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.port_name,expression:"port_name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"number",oninput:"if(value.length>4)value=value.slice(0,4)"},domProps:{value:t.port_name},on:{input:function(e){e.target.composing||(t.port_name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),t.port_name.length>4?a("span",{staticStyle:{color:"red"}},[t._v("端口只能是0-4位数字")]):t._e()])]),t._v(" "),a("li",[a("p",[t._v("还原配置类型:")]),t._v(" "),a("div",{staticClass:"recent"},[a("div",{staticClass:"recent"},[a("ul",{staticClass:"nav nav-tabs time_ul"},[a("li",{staticClass:"active",staticStyle:{"border-right":"1px solid #fff",margin:"0"},attrs:{"data-toggle":"tab",href:"#default"},on:{click:function(e){t.gain_event(!0)}}},[t._v("\n                      默认\n                    ")]),t._v(" "),a("li",{staticStyle:{"border-right":"none",margin:"0"},attrs:{"data-toggle":"tab",href:"#gain"},on:{click:function(e){t.gain_event(!1)}}},[t._v("\n                      从模板中获取\n                    ")])]),t._v(" "),t._m(3)])])]),t._v(" "),t.show_slave?a("li",{staticClass:"dropdown"},[a("p",[t._v("主实例信息：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("el-row",{staticClass:"demo-autocomplete",staticStyle:{background:"none"}},[a("el-col",{attrs:{span:12}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearch_master,placeholder:""},on:{select:t.handleSelect},model:{value:t.master_name,callback:function(e){t.master_name=e},expression:"master_name"}})],1)],1)],1),t._v(" "),t.master_name?a("p"):a("p",{staticClass:"red_tips"},[t._v(t._s(t.host_tips))])]):t._e(),t._v(" "),t.show_slave?a("li",[a("p",[t._v("复制用户：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.copy_user,expression:"copy_user"}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:t.copy_user},on:{input:function(e){e.target.composing||(t.copy_user=e.target.value)}}})]),t._v(" "),t.copy_user?a("p",{staticClass:"red_tips"},[t._v("务必在主库上对此账号添加复制权限")]):a("p",{staticClass:"red_tips"},[t._v(t._s(t.user_tips)+"务必在主库上对此账号添加复制权限")])]):t._e(),t._v(" "),t.show_slave?a("li",[a("p",[t._v("复制密码：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass_word,expression:"pass_word"}],staticClass:"form-control",attrs:{type:"password",placeholder:""},domProps:{value:t.pass_word},on:{input:function(e){e.target.composing||(t.pass_word=e.target.value)}}})]),t._v(" "),a("p",{staticClass:"red_tips"},[t._v(t._s(t.passswrad_tips))])]):t._e(),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.is_default,expression:"!is_default"}]},[a("p",[t._v("模板名称")]),t._v(" "),a("div",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.name_change_event},model:{value:t.template_name,callback:function(e){t.template_name=e},expression:"template_name"}},t._l(t.template_name_list,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1)]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.is_default,expression:"!is_default"}]},[a("p",[t._v("安装MySQL命令：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.install_mysql_cmd,expression:"install_mysql_cmd",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"/data"},domProps:{value:t.install_mysql_cmd},on:{input:function(e){e.target.composing||(t.install_mysql_cmd=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.is_default,expression:"!is_default"}]},[a("p",[t._v("启动MySQL命令：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.start_mysql_cmd,expression:"start_mysql_cmd",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"/data"},domProps:{value:t.start_mysql_cmd},on:{input:function(e){e.target.composing||(t.start_mysql_cmd=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.is_default,expression:"!is_default"}]},[a("p",[t._v("关闭MySQL命令：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.stop_mysql_cmd,expression:"stop_mysql_cmd",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"/data"},domProps:{value:t.stop_mysql_cmd},on:{input:function(e){e.target.composing||(t.stop_mysql_cmd=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.is_default,expression:"!is_default"}]},[a("p",[t._v("MySQL配置文件路径：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.mycnf_file,expression:"mycnf_file",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"/data"},domProps:{value:t.mycnf_file},on:{input:function(e){e.target.composing||(t.mycnf_file=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.is_default,expression:"!is_default"}]},[a("p",[t._v("basedir：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.mysql_base_dir,expression:"mysql_base_dir",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"/data"},domProps:{value:t.mysql_base_dir},on:{input:function(e){e.target.composing||(t.mysql_base_dir=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.is_default,expression:"!is_default"}]},[a("p",[t._v("datadir：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.mysql_data_dir,expression:"mysql_data_dir",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"/data"},domProps:{value:t.mysql_data_dir},on:{input:function(e){e.target.composing||(t.mysql_data_dir=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.is_default,expression:"is_default"}]},[a("p",[t._v("Data路径：")]),t._v(" "),a("div",{staticClass:"item-bg",staticStyle:{background:"none"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.mysql_data_dir,expression:"mysql_data_dir",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"/data"},domProps:{value:t.mysql_data_dir},on:{input:function(e){e.target.composing||(t.mysql_data_dir=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),t.data_dir?a("p"):a("p",{staticClass:"red_tips"},[t._v("\n                "+t._s(t.data_dir_tips)+"\n              ")])]),t._v(" "),a("li",[a("p",[t._v("版本号:")]),t._v(" "),a("div",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.mysql_version_model,callback:function(e){t.mysql_version_model="string"==typeof e?e.trim():e},expression:"mysql_version_model"}},t._l(t.mysql_version,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("p",{staticClass:"red_tips"},[t._v(t._s(t.mysql_version_model_tips))])])])]),t._v(" "),a("div",{staticClass:"button-wrap marginTopBox"},[a("button",{staticClass:"restore-button",on:{click:function(e){t.check_task()}}},[t._v("还原")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("还原中心")]),this._v(" "),e("span",{staticClass:"arrow"},[this._v(" > ")]),this._v(" "),e("span",{staticClass:"titleUrl"},[this._v("部署还原")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("安装配置及路径")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n                   默认使用Arkcontrol自带的安装包，进行安装MySQL完成还原!\n                   "),e("br"),this._v("\n                   如果沿用自己的安装环境，请选择"),e("span",{staticStyle:{color:"#18A1C1","font-weight":"bold"}},[this._v("【从模板中获取】")])])}]};var mt=a("VU/8")(ut,vt,!1,function(t){a("YhmZ"),a("QJvT")},null,null).exports,pt={data:function(){return{total:0,current_page:1,current:1,currentPage:1,page_size:10,list:[{a:"a"},{a:"b"},{a:"c"}],restore_list:[],total_num:"",no_list:!1}},filters:{toParameName:function(t){var e=t;return e.length>12&&(e=e.substring(0,12)+"..."),e}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.current_page=this.current,this.$emit("pagechange",this.current)),this.$http.get("/acmeCloud/restore/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.current_page,this.display;this.$http.get("/acmeCloud/restore/list?current_page="+this.current_page+"&page_size="+this.display).then(function(t){var e=t.body;0==e.status&&(this.restore_list=e.data,document.documentElement.scrollTop=document.body.scrollTop=0)})},get_instance_list:function(){this.$http.get("/acmeCloud/restore/list?currentPage="+this.currentPage+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status&&(this.restore_list=e.data)})},get_total:function(){this.$http.get("/acmeCloud/restore/total?").then(function(t){var e=t.body;0==e.status&&(this.total_num=e.data)})},go:function(t){document.documentElement.scrollTop=document.body.scrollTop=0;this.currentPage=t,this.$http.get("/acmeCloud/restore/list?current_page="+t+"&page_size="+this.page_size).then(function(t){var e=t.body;0==e.status?(this.restore_list=e.data,this.restore_list.length<10?this.no_list=!0:this.no_list=!1):this.no_list=!0})}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restoreList common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"table-responsive common_table_wrap"},[a("table",{staticClass:"table-striped common_table",staticStyle:{width:"100%"}},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},t._l(t.restore_list,function(e){return a("tr",[a("td",[a("router-link",{attrs:{to:{path:"restoreDetails",query:{id:e.id}}}},[t._v(t._s(e.task_name))])],1),t._v(" "),a("td",[a("router-link",{attrs:{to:{path:"clusterinformation",query:{name:e.cluster_name}}}},[t._v(t._s(e.cluster_name))])],1),t._v(" "),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.backupset_name,placement:"top"}},[a("p",{staticClass:"overstep"},[t._v(t._s(t._f("toParameName")(e.backupset_name)))])])],1),t._v(" "),a("td",[t._v(t._s(e.restore_ip))]),t._v(" "),a("td",[t._v(" "+t._s(e.restore_port))]),t._v(" "),a("td",[0==e.is_running?a("span",{staticStyle:{color:"red"}},[t._v("未开始")]):1==e.is_running?a("span",{staticStyle:{color:"rgb(251, 188, 5)"}},[t._v("准备执行")]):2==e.is_running?a("span",{staticStyle:{color:"rgb(251, 188, 5)"}},[t._v("执行中")]):3==e.is_running?a("span",{staticStyle:{color:"green"}},[t._v("成功")]):4==e.is_running?a("span",{staticStyle:{color:"red"}},[t._v("失败")]):t._e()]),t._v(" "),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.create_time,placement:"top"}},[a("p",{staticClass:"overstep"},[t._v(t._s(t._f("toParameName")(e.create_time)))])])],1),t._v(" "),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.end_time,placement:"top"}},[a("p",{staticClass:"overstep"},[t._v(t._s(t._f("toParameName")(e.end_time)))])])],1),t._v(" "),a("td",{staticStyle:{color:"#06E2EA"}},[a("router-link",{attrs:{to:{path:"restoreDetails",query:{id:e.id}}}},[t._v("详情")])],1)])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:" "}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("还原中心")]),this._v(" "),e("span",{staticClass:"arrow"},[this._v(" > ")]),this._v(" "),e("span",{staticClass:"titleUrl"},[this._v("还原列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("还原列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("任务名称")]),t._v(" "),a("th",[t._v("集群名称")]),t._v(" "),a("th",[t._v("备份集")]),t._v(" "),a("th",[t._v("还原地址")]),t._v(" "),a("th",[t._v("还原端口")]),t._v(" "),a("th",[t._v("还原状态")]),t._v(" "),a("th",[t._v("创建时间")]),t._v(" "),a("th",[t._v("结束时间")]),t._v(" "),a("th",[t._v("操作")])])])}]};var ft=a("VU/8")(pt,ht,!1,function(t){a("LEUM")},null,null).exports,gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restoreDetail common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("还原中心")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:{path:"restoreList"}}},[t._v("还原列表")])],1),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" >")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("还原详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"work-wrap"},[a("table",{staticClass:"inner-table"},[a("tr",{staticStyle:{"font-size":"12px"}},[a("th",[t._v("任务名称:   \n            "),a("span",{staticStyle:{color:"#797777"}},[t._v("\n              "+t._s(t.restore_data.task_name)+"\n            ")])]),t._v(" "),a("th",[t._v("开始时间：   \n            "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.create_time)+"\n            ")])]),t._v(" "),a("th",[t._v("备份集：   \n            "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.backupset_name)+"\n            ")])])]),t._v(" "),a("tr",{staticStyle:{"font-size":"12px"}},[a("th",[t._v("集群名称:   \n            "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.cluster_name)+"\n            ")])]),t._v(" "),a("th",[t._v("结束时间:   \n            "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.end_time)+"\n            ")])]),t._v(" "),a("th",[t._v("还原状态：   \n            "),0==t.restore_data.is_running?a("span",{staticStyle:{color:"red"}},[t._v("未开始")]):1==t.restore_data.is_running?a("span",{staticStyle:{color:"rgb(251, 188, 5)"}},[t._v("准备执行")]):2==t.restore_data.is_running?a("span",{staticStyle:{color:"rgb(251, 188, 5)"}},[t._v("执行中")]):3==t.restore_data.is_running?a("span",{staticStyle:{color:"green"}},[t._v("成功")]):4==t.restore_data.is_running?a("span",{staticStyle:{color:"red"}},[t._v("失败")]):t._e()])])])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"work-wrap"},[a("table",{staticClass:"inner-table"},[a("tr",[a("th",{staticStyle:{"font-size":"12px"}},[t._v("还原主机:   \n          "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.restore_ip)+"\n          ")])]),t._v(" "),a("th",{staticStyle:{"font-size":"12px"}},[t._v("还原端口：   \n          "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.restore_port)+"\n          ")])]),t._v(" "),a("th",{staticStyle:{"font-size":"12px"}},[t._v("主库实例：   \n          "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.master_ip)+"\n          ")])])]),t._v(" "),a("tr",[""!=t.restore_data.rep_user?a("th",{staticStyle:{"font-size":"12px"}},[t._v("复制用户:   \n          "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.rep_user))])]):a("th"),t._v(" "),""!=t.restore_data.rep_pass?a("th",{staticStyle:{"font-size":"12px"}},[t._v("复制密码:   \n          "),a("span",{staticStyle:{color:"#797777"}},[t._v(t._s(t.restore_data.rep_pass)+"\n          ")])]):t._e(),t._v(" "),a("th")])])]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"work-wrap"},[a("table",{staticClass:"inner-table"},[a("tr",[a("th",{staticStyle:{"font-size":"12px"}},[t._v("安装MySQL命令:   \n          "),""!=t.restore_data.install_mysql_cmd?a("span",[t._v(t._s(t.restore_data.install_mysql_cmd))]):a("span",[t._v("暂无")])])]),t._v(" "),a("tr",[a("th",{staticStyle:{"font-size":"12px"}},[t._v("启动命令:   \n          "),""!=t.restore_data.start_mysql_cmd?a("span",[t._v(t._s(t.restore_data.start_mysql_cmd))]):a("span",[t._v("暂无")])])]),t._v(" "),a("tr",[a("th",{staticStyle:{"font-size":"12px"}},[t._v("安装包命令:   \n          "),""!=t.restore_data.install_rpm_cmd?a("span",[t._v(t._s(t.restore_data.install_rpm_cmd))]):a("span",[t._v("暂无")])])]),t._v(" "),a("tr",[a("th",{staticStyle:{"font-size":"12px"}},[t._v("关闭命令:   \n          "),""!=t.restore_data.stop_mysql_cmd?a("span",[t._v(t._s(t.restore_data.stop_mysql_cmd))]):a("span",[t._v("暂无")])])])])]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"log-wrap"},[""!=t.restore_log?a("textarea",{attrs:{disabled:"disabled"}},[t._v(t._s(t.restore_log))]):a("textarea",{staticStyle:{"font-size":"24px","text-align":"center"},attrs:{disabled:"disabled"}},[t._v("日志暂无")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("还原")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("安装路径配置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("日志")])])}]};var bt=a("VU/8")({data:function(){return{restore_data:"",restore_log:""}},mounted:function(){this.get_restore_info(),this.get_log()},methods:{get_log:function(){this.$http.get("/acmeCloud/restore/log?id="+this.$route.query.id).then(function(t){var e=t.body;0==e.status&&(this.restore_log=e.data)})},get_restore_info:function(){this.$http.get("/acmeCloud/restore/info?id="+this.$route.query.id).then(function(t){var e=t.body;0==e.status?this.restore_data=e.data:this.no_list=!0})}}},gt,!1,function(t){a("Keu8")},null,null).exports,yt={data:function(){return{total:0,current_page:1,current:1,currentPage:1,page_size:10,list:[{a:"a"},{a:"b"},{a:"c"}],restore_list:[],total_num:"",no_list:!1}},filters:{toParameName:function(t){var e=t;return e.length>12&&(e=e.substring(0,12)+"..."),e}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.current_page=this.current,this.$emit("pagechange",this.current)),this.$http.get("/acmeCloud/restore/mysql/template/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)});this.current_page,this.display;this.$http.get("/acmeCloud/restore/mysql/template/page?current_page="+this.current_page+"&page_size="+this.display).then(function(t){var e=t.body;0==e.status&&(this.restore_list=e.data)})},get_instance_list:function(){this.$http.get("/acmeCloud/restore/list?currentPage="+this.currentPage+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status&&(this.restore_list=e.data)})},get_total:function(){this.$http.get("/acmeCloud/restore/total?").then(function(t){var e=t.body;0==e.status&&(this.total_num=e.data)})},go:function(t){document.documentElement.scrollTop=document.body.scrollTop=0;this.currentPage=t,this.$http.get("/acmeCloud/restore/list?current_page="+t+"&page_size="+this.page_size).then(function(t){var e=t.body;0==e.status?(this.restore_list=e.data,this.restore_list.length<10?this.no_list=!0:this.no_list=!1):this.no_list=!0})},detele_id:function(t){this.$http.get("/acmeCloud/restore/delete/mysql/template?id="+t).then(function(t){var e=t.body;0==e.status?(this.$notify({message:"删除成功",type:"success",duration:3e3}),this.setCurrent(1)):2004==e.status?this.$notify({message:"不存在该模板",type:"warning"}):this.$notify.error({message:"删除出错，请稍后重试"})})}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restoreTemplate common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"table-responsive common_table_wrap"},[a("div",{staticStyle:{height:"30px",width:"100%",display:"flex","justify-content":"flex-end","margin-top":"20px"}},[a("router-link",{attrs:{to:"restoreTemplateNew"}},[a("span",{staticClass:"blue-btn",staticStyle:{"line-height":"22px"}},[t._v("新建模板")])])],1),t._v(" "),a("table",{staticClass:"table-striped common_table",staticStyle:{width:"100%"}},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},t._l(t.restore_list,function(e){return a("tr",{key:e.name},[a("th",[a("router-link",{attrs:{to:{path:"restoreTemplateDetails",query:{id:e.id}}}},[t._v("\n              "+t._s(e.name)+"\n            ")])],1),t._v(" "),a("th",[t._v(t._s(e.mark))]),t._v(" "),a("th",[t._v(t._s(e.mysql_version))]),t._v(" "),a("th",[t._v(t._s(e.update_time))]),t._v(" "),a("th",[a("span",{staticClass:"btn-bg",staticStyle:{color:"red",background:"none",cursor:"pointer"},on:{click:function(a){t.detele_id(e.id)}}},[t._v("删除")])])])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("还原中心")]),this._v(" "),e("span",{staticClass:"arrow"},[this._v(" > ")]),this._v(" "),e("span",{staticClass:"titleUrl"},[this._v("还原模板")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("还原模板")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("模板名称")]),t._v(" "),a("th",[t._v("模板描述")]),t._v(" "),a("th",[t._v("MySQL版本号")]),t._v(" "),a("th",[t._v("更新时间")]),t._v(" "),a("th",[t._v("操作")])])])}]};var kt=a("VU/8")(yt,Ct,!1,function(t){a("vgMR")},null,null).exports,wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restoreTemplateDetails common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"detail_blue_bg"},[a("table",[a("tr",[a("th",[t._v("模板名称:"),a("span",[t._v(t._s(t.detailes.name))])]),t._v(" "),a("th",[t._v("\n          模板描述:"),a("span",[t._v(t._s(t.detailes.mark))])]),t._v(" "),a("th",[t._v("\n          MySQL版本:"),a("span",{staticStyle:{color:"green","font-weight":"bold"}},[t._v(t._s(t.detailes.mysql_version))])])]),t._v(" "),a("tr",[a("th",[t._v("\n          安装MySQL命令:"),a("span",[t._v(t._s(t.detailes.install_mysql_cmd))])]),t._v(" "),a("th")]),t._v(" "),a("tr",[a("th",[t._v("\n          启动MySQL命令:"),a("span",[t._v(t._s(t.detailes.start_mysql_cmd))])]),t._v(" "),a("th",[t._v("\n          关闭MySQL命令:"),a("span",[t._v(t._s(t.detailes.stop_mysql_cmd))])])]),t._v(" "),a("tr",[a("th",[t._v("\n          base_dir:"),a("span",[t._v(t._s(t.detailes.mysql_base_dir))])])]),t._v(" "),a("tr",[a("th",[t._v("\n          data_dir:"),a("span",[t._v(t._s(t.detailes.mysql_data_dir))])])])]),t._v(" "),a("div",[a("router-link",{attrs:{to:{path:"restoreTemplateNew",query:{id:t.detailes.id}}}},[a("span",{staticClass:"blue-btn",staticStyle:{padding:"6px 30px"}},[t._v("修改 ")])]),t._v(" "),a("span",{staticClass:"blue-btn",staticStyle:{background:"red",padding:"6px 30px"},on:{click:function(e){t.detele_id(t.detailes.id)}}},[t._v("删除")])],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("还原中心")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("还原模板")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("还原详情")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])}]};var xt=a("VU/8")({data:function(){return{detailes:""}},created:function(){},mounted:function(){this.mysql_template_id()},methods:{mysql_template_id:function(){this.$http.get("/acmeCloud/restore/mysql/template/byid?id="+this.$route.query.id).then(function(t){var e=t.body;0==e.status&&(this.detailes=e.data)})},detele_id:function(t){this.$http.get("/acmeCloud/restore/delete/mysql/template?&id="+t).then(function(t){var e=this,a=t.body;0==a.status?this.$notify({duration:3e3,message:"删除成功",type:"success",onClose:function(){e.$router.replace("restoreTemplate")}}):2004==a.status?this.$notify({message:"不存在该模板",type:"warning"}):this.$notify.error({message:"删除出错，请稍后重试"})})}}},wt,!1,function(t){a("gux6")},null,null).exports,St={data:function(){return{options:[{value:"5.6",label:"5.6"},{value:"5.7",label:"5.7"}],name:"",mark:"",mysql_version:"",install_mysql_cmd:"",start_mysql_cmd:"",stop_mysql_cmd:"",mycnf_file:"",mysql_base_dir:"",mysql_data_dir:""}},mounted:function(){if(this.$route.query.id){var t=this.$route.query.id;this.$http.get("/acmeCloud/restore/mysql/template/byid?id="+t).then(function(t){var e=t.body;0==e.status&&(this.name=e.data.name,this.mark=e.data.mark,this.install_mysql_cmd=e.data.install_mysql_cmd,this.start_mysql_cmd=e.data.start_mysql_cmd,this.stop_mysql_cmd=e.data.stop_mysql_cmd,this.mycnf_file=e.data.mycnf_file,console.log(e.data.mycnf_file),this.mysql_base_dir=e.data.mysql_base_dir,this.mysql_data_dir=e.data.mysql_data_dir,this.mysql_version=e.data.mysql_version)})}},methods:{updata_mysql_tem:function(){this.check_input();var t=[];this.name&&this.mark&&this.mysql_version&&this.install_mysql_cmd&&this.start_mysql_cmd&&this.stop_mysql_cmd&&this.mycnf_file&&this.mysql_base_dir&&this.mysql_data_dir&&(t={id:parseInt(this.$route.query.id),name:this.name,mark:this.mark,mysql_version:this.mysql_version,install_mysql_cmd:this.install_mysql_cmd,start_mysql_cmd:this.start_mysql_cmd,stop_mysql_cmd:this.stop_mysql_cmd,mycnf_file:this.mycnf_file,mysql_base_dir:this.mysql_base_dir,mysql_data_dir:this.mysql_data_dir},console.log(t),this.$http.post("/acmeCloud/restore/update/mysql/template",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?(this.$notify({title:"成功",message:"添加成功",type:"success"}),this.$router.replace("restoreTemplate")):2001==e.status?this.$notify.error({message:"该模板已存在"}):this.$notify.error({message:"请稍后重试"})}))},check_input:function(){this.name?this.mark?this.mysql_version?this.install_mysql_cmd?this.start_mysql_cmd?this.stop_mysql_cmd?this.mycnf_file?this.mysql_base_dir?this.mysql_data_dir||this.$notify({message:"datadir不能为空",type:"warning"}):this.$notify({message:"basedir不能为空",type:"warning"}):this.$notify({message:"mysql配置路径及文件不能为空",type:"warning"}):this.$notify({message:"关闭mysql命令不能为空",type:"warning"}):this.$notify({message:"启动mysql命令不能为空",type:"warning"}):this.$notify({message:"安装mysql命令不能为空",type:"warning"}):this.$notify({message:"MySQL版本不能为空",type:"warning"}):this.$notify({message:"模板描述不能为空",type:"warning"}):this.$notify({message:"模板名称不能为空",type:"warning"})},add_mysql_tem:function(){this.check_input();var t=[];this.name&&this.mark&&this.mysql_version&&this.install_mysql_cmd&&this.start_mysql_cmd&&this.stop_mysql_cmd&&this.mycnf_file&&this.mysql_base_dir&&this.mysql_data_dir&&(t={name:this.name,mark:this.mark,mysql_version:this.mysql_version,install_mysql_cmd:this.install_mysql_cmd,start_mysql_cmd:this.start_mysql_cmd,stop_mysql_cmd:this.stop_mysql_cmd,mycnf_file:this.mycnf_file,mysql_base_dir:this.mysql_base_dir,mysql_data_dir:this.mysql_data_dir},console.log(t),this.$http.post("/acmeCloud/restore/add/mysql/template",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.$notify({title:"成功",message:"添加成功",type:"success"}),this.$router.replace("restoreTemplate")):this.$notify.error({message:"请稍后重试"})}))}}},At={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restoreTemplateNew common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"detail_blue_bg"},[a("ul",{staticClass:"form_ul"},[a("li",[a("p",[t._v("模板名称:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("li",[a("p",[t._v("模板描述:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.mark,expression:"mark",modifiers:{trim:!0}}],domProps:{value:t.mark},on:{input:function(e){e.target.composing||(t.mark=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("li",[a("p",[t._v("MySQL版本:")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.mysql_version,callback:function(e){t.mysql_version="string"==typeof e?e.trim():e},expression:"mysql_version"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("li",[a("p",[t._v("安装MySQL命令:")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.install_mysql_cmd,expression:"install_mysql_cmd",modifiers:{trim:!0}}],domProps:{value:t.install_mysql_cmd},on:{input:function(e){e.target.composing||(t.install_mysql_cmd=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("li",[a("p",[t._v("启动MySQL命令:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.start_mysql_cmd,expression:"start_mysql_cmd"}],domProps:{value:t.start_mysql_cmd},on:{input:function(e){e.target.composing||(t.start_mysql_cmd=e.target.value)}}})]),t._v(" "),a("li",[a("p",[t._v("关闭MySQL命令:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.stop_mysql_cmd,expression:"stop_mysql_cmd"}],domProps:{value:t.stop_mysql_cmd},on:{input:function(e){e.target.composing||(t.stop_mysql_cmd=e.target.value)}}})]),t._v(" "),a("li",[a("p",[t._v("MySQL配置路径及文件:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mycnf_file,expression:"mycnf_file"}],domProps:{value:t.mycnf_file},on:{input:function(e){e.target.composing||(t.mycnf_file=e.target.value)}}})]),t._v(" "),a("li",[a("p",[t._v("basedir:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mysql_base_dir,expression:"mysql_base_dir"}],domProps:{value:t.mysql_base_dir},on:{input:function(e){e.target.composing||(t.mysql_base_dir=e.target.value)}}})]),t._v(" "),a("li",[a("p",[t._v("datadir:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mysql_data_dir,expression:"mysql_data_dir"}],domProps:{value:t.mysql_data_dir},on:{input:function(e){e.target.composing||(t.mysql_data_dir=e.target.value)}}})])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"center"}},[this.$route.query.id?a("span",{staticClass:"blue-btn",on:{click:function(e){t.updata_mysql_tem()}}},[t._v("提交")]):a("span",{staticClass:"blue-btn",on:{click:function(e){t.add_mysql_tem()}}},[t._v("提交")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("还原中心")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("还原模板")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("新增模板")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])}]};var Nt=a("VU/8")(St,At,!1,function(t){a("vcUa")},null,null).exports,Lt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"help"},[e("div",{staticClass:"base-info"},[e("p",{staticClass:"title"},[this._v("xxxx问题")]),this._v(" "),e("div",{staticClass:"base-info-content"},[e("div",{staticClass:"base-left"},[e("span",{staticClass:"base-info-cirle"})]),this._v(" "),e("div",{staticClass:"base-right"},[e("div",{staticClass:"base-right-collect"},[e("div",{staticClass:"collect"},[e("h3",[this._v("这里是关于xxx问题汇总")])]),this._v(" "),e("div",{staticClass:"collect-content"},[e("div",{staticClass:"content-trangle"})])])])])])])}]};var Mt=a("VU/8")({},Lt,!1,function(t){a("X08A")},null,null).exports,Tt={data:function(){return{hostName:"",hostInfoName:"",kernel_release:"",host_status:"",remark:"",os_type:"",cpu_model:"",cpu_core:"",disk_total:"",business_contact:"",mem_total:"",mem_total_format:"",disk_total_format:"",diskList:[],instanceList:[],up_remark:"",updateRemark:-1,host_name:""}},mounted:function(){this.$route.query.hostName?(sessionStorage.setItem("hostName",this.$route.query.hostName),this.hostName=this.$route.query.hostName):this.hostName=sessionStorage.getItem("hostName"),this.getHostInfo(this.hostName),this.getDiskInfo(this.hostName),this.getInstanceInfo(this.hostName)},directives:{focus:{inserted:function(t){t.focus()}}},methods:{getHostInfo:function(t){var e="?hostName="+t;this.$http.get("/acmeCloud/host/baseinfo"+e).then(function(t){var e=t.body;0==e.status&&(this.hostInfoName=e.data.host_name,this.kernel_release=e.data.kernel_release,this.host_status=e.data.host_status,this.remark=e.data.remark,this.up_remark=e.data.remark,this.os_type=e.data.os_type,this.cpu_model=e.data.cpu_model,this.cpu_core=e.data.cpu_core,this.disk_total=e.data.disk_total,this.business_contact=e.data.business_contact,this.mem_total=e.data.mem_total,this.disk_total_format=e.data.disk_total_format,this.mem_total_format=e.data.mem_total_format)},function(t){})},updateHostInfoRemark:function(){var t={host_name:this.hostName,remark:this.up_remark};this.$http.post("/acmeCloud/host/remark/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.updateRemark=-1,this.getHostInfo(this.hostName)):alert("修改失败!")},function(t){})},getDiskInfo:function(t){var e="?hostName="+t;this.$http.get("/acmeCloud/host/diskinfo"+e).then(function(t){var e=t.body;0==e.status&&(this.diskList=e.data)},function(t){})},getInstanceInfo:function(t){var e="?hostName="+t+"&Value=";this.$http.get("/acmeCloud/host/instanceinfo"+e).then(function(t){var e=t.body;0==e.status&&(this.instanceList=e.data)},function(t){})}}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hostdetails common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("主机管理")]),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:"/info/hostList"}},[t._v("主机列表")])],1),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[t._v("主机详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"hostdetailsMain"},[a("table",[a("tr",[a("th",{staticStyle:{width:"82%"}},[a("span",{staticStyle:{color:"black"}},[t._v("主机名：")]),t._v(t._s(t.hostInfoName))]),t._v(" "),a("th",[a("ul",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[0==t.host_status?a("li",{staticStyle:{color:"green"}},[t._v("\n              正常\n            ")]):t._e(),t._v(" "),1==t.host_status?a("li",{staticStyle:{color:"red"}},[t._v("\n              不可访问\n            ")]):t._e(),t._v(" "),2==t.host_status?a("li",{staticStyle:{color:"lightgray"}},[t._v("\n              下线\n            ")]):t._e()])])])]),t._v(" "),a("table",{staticStyle:{"margin-top":"20px"}},[a("tr",[a("td",[a("span",[t._v("操作系统：")]),t._v(t._s(t.os_type))]),t._v(" "),a("td",[a("span",[t._v("CPU信息：")]),t._v(t._s(t.cpu_model))]),t._v(" "),a("td",[a("span",[t._v("内核版本：")]),t._v(t._s(t.kernel_release))])]),t._v(" "),a("br"),t._v(" "),a("tr",[a("td",[a("span",[t._v("CPU核数：")]),t._v(t._s(t.cpu_core))]),t._v(" "),a("td",[a("span",[t._v("磁盘容量：")]),t._v(t._s(t.disk_total_format)+"(G)")]),t._v(" "),a("td",[a("span",[t._v("内存：")]),t._v(t._s(t.mem_total_format)+"(G)")])])]),t._v(" "),a("table",{staticStyle:{"margin-top":"20px"}},[a("tr",[a("td",{staticStyle:{width:"62px",color:"black"}},[t._v("备注：")]),t._v(" "),"remark"!=t.updateRemark?a("td",[t._v(t._s(t.remark)+"\n          "),a("button",{staticClass:"upRemark",on:{click:function(e){t.updateRemark="remark"}}},[t._v("修改备注")])]):t._e(),t._v(" "),"remark"==t.updateRemark?a("td",[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.up_remark,expression:"up_remark",modifiers:{trim:!0}}],staticStyle:{width:"250px",height:"32px","line-height":"32px",border:"1px solid #00A1C3",background:"none"},attrs:{type:"text",maxlength:"40"},domProps:{value:t.up_remark},on:{input:function(e){e.target.composing||(t.up_remark=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("button",{staticStyle:{width:"80px",height:"32px","line-height":"32px",background:"#00A1C3",border:"1px solid #00A1C3",color:"white"},on:{click:function(e){t.updateHostInfoRemark()}}},[t._v("\n          确定\n          ")]),t._v(" "),a("button",{staticStyle:{width:"80px",height:"32px","line-height":"32px",background:"#00A1C3",border:"1px solid #00A1C3",color:"white"},on:{click:function(e){t.up_remark=t.remark,t.updateRemark=-1}}},[t._v("\n          取消\n          ")])]):t._e()])])]),t._v(" "),a("div",{staticClass:"tabChange"},[t._m(1),t._v(" "),a("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:"disk"}},[a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",t._l(t.diskList,function(e){return a("tr",[a("th",[t._v(t._s(e.disk_mount_path))]),t._v(" "),a("th",[t._v(t._s(e.disk_file_sys))]),t._v(" "),a("th",[t._v(t._s(e.disk_size))]),t._v(" "),a("th",[t._v(t._s(e.disk_use_percent))]),t._v(" "),a("th",[t._v(t._s(e.disk_avail))]),t._v(" "),a("th",[t._v(t._s(e.disk_used))]),t._v(" "),a("th",[t._v(t._s(e.disk_mount_driver))]),t._v(" "),a("th",[t._v(t._s(e.update_time))])])}))])])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"node"}},[a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(3),t._v(" "),a("tbody",t._l(t.instanceList,function(e){return a("tr",[a("th",[a("router-link",{attrs:{to:{path:"exampledetail",query:{name:e.instance_name,ip:e.host_ip,port:e.instance_port}}}},[t._v("\n                  "+t._s(e.instance_name)+"\n                ")])],1),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"clusterinformation",query:{name:e.cluster_name}}}},[t._v("\n                  "+t._s(e.cluster_name)+"\n                ")])],1)])}))]),t._v(" "),""==t.instanceList?a("div",{staticClass:"infoKon"},[t._v("\n            此节点没有部署实例或没有授权\n          ")]):t._e()])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"alarm"}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs common_ul",staticStyle:{height:"40px"},attrs:{id:"myTab"}},[e("li",{staticClass:"active"},[e("a",{attrs:{href:"#disk","data-toggle":"tab"}},[this._v("磁盘信息")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#node","data-toggle":"tab"}},[this._v("实例信息")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("挂载点")]),t._v(" "),a("th",[t._v("文件系统类型")]),t._v(" "),a("th",[t._v("磁盘大小(M)")]),t._v(" "),a("th",[t._v("使用比例(%)")]),t._v(" "),a("th",[t._v("可用(M)")]),t._v(" "),a("th",[t._v("已用(M)")]),t._v(" "),a("th",[t._v("驱动")]),t._v(" "),a("th",[t._v("更新时间")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("实例名")]),this._v(" "),e("th",[this._v("集群名")])])])}]};var It=a("VU/8")(Tt,Et,!1,function(t){a("DJW6")},null,null).exports,$t=a("rj1K"),Pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hostInput common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"marginTopBox entryMain"},[t._m(2),t._v(" "),a("div",{staticClass:"entryIp"},[a("div",{staticClass:"ipTitle"},[t._v("IP地址信息")]),t._v(" "),a("div",{staticClass:"ipText"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.hostMessage,expression:"hostMessage"}],staticStyle:{border:"none",resize:"none"},attrs:{name:"",id:"txtArea",cols:"44",rows:"7",placeholder:"多个ip请换行"},domProps:{value:t.hostMessage},on:{input:function(e){e.target.composing||(t.hostMessage=e.target.value)}}}),t._v(" "),a("span",{staticClass:"warn_red",staticStyle:{float:"right"}},[t._v(t._s(t.host_message_tips))])]),t._v(" "),t._m(3)]),t._v(" "),a("div",{staticClass:"entryDescribe"},[a("span",[t._v("录入描述：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.entryTitle,expression:"entryTitle",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"20",placeholder:"描述不得超过20个字符"},domProps:{value:t.entryTitle},on:{input:function(e){e.target.composing||(t.entryTitle=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticClass:"warn_red"},[t._v(t._s(t.entryTitle_tips))])])]),t._v(" "),t.offAndOn?a("div",{staticClass:"SSH"},[t._m(4),t._v(" "),a("div",{staticClass:"marginTopBox sshMain"},[a("div",[a("span",[t._v("用户名：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.agentSshUser,expression:"agentSshUser",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:t.agentSshUser},on:{input:function(e){e.target.composing||(t.agentSshUser=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticClass:"warn_red"},[t._v(t._s(t.agentSshUser_tips))])]),t._v(" "),a("div",[a("span",[t._v("密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.agentSshPassword,expression:"agentSshPassword"}],attrs:{type:"password",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.agentSshPassword},on:{input:function(e){e.target.composing||(t.agentSshPassword=e.target.value)}}}),t._v(" "),a("span",{staticClass:"warn_red"},[t._v(t._s(t.agentSshPassword_tips))])]),t._v(" "),a("div",[a("span",[t._v("端口号：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.agentSshPort,expression:"agentSshPort",modifiers:{trim:!0}}],attrs:{type:"number"},domProps:{value:t.agentSshPort},on:{input:function(e){e.target.composing||(t.agentSshPort=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])])]):t._e(),t._v(" "),a("div",{staticClass:"ipBtn",on:{click:function(e){t.hostEntry()}}},[t._v("\n    录入\n  ")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("录入中心")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("主机录入")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("IP地址信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"entryMode"},[a("div",{staticClass:"entryTitle"},[a("span",[t._v("录入方式：")])]),t._v(" "),a("div",{staticClass:"entry"},[a("ul",[a("li",{staticClass:"li"},[t._v("手动录入")]),t._v(" "),a("li",{staticStyle:{background:"#D1D1D1",color:"white","border-right":"1px solid white","pointer-events":"none"}},[t._v("本地文件")]),t._v(" "),a("li",{staticStyle:{background:"#D1D1D1",color:"white","border-right":"1px solid white","pointer-events":"none"}},[t._v("URL")]),t._v(" "),a("li",{staticStyle:{background:"#D1D1D1",color:"white","pointer-events":"none"}},[t._v("公有云")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ipFormat"},[this._v("\n        支持以下格式输入"),e("br"),this._v("\n        127.0.0.1"),e("br"),this._v("\n        127.0.0.[1-10]"),e("br"),this._v("\n        127.0.0.[1,2,5]\n      ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"marginTopBox common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("SSH信息")])])}]};var Ut=function(t){a("wkfO")},zt=a("VU/8")($t.a,Pt,!1,Ut,null,null).exports,Rt={0:" 正常",1:"不可访问",2:"下线"},Dt={data:function(){return{show:-1,offAndOn:1,total:0,currentPage:1,current:1,hostList:[],deleteHostName:""}},filters:{toHostIps:function(t){return t.replace(/,/g,"\n")},toHostList:function(t){return Rt[t]||""}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{deleteHost:function(t){var e={host_name:t};this.$http.post("/acmeCloud/host/delete",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("删除成功!"),this.setCurrent(1)):alert("删除失败，请咨询DBA或者管理员!")},function(t){})},deployAgent:function(t){this.show=-1},setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.currentPage=this.current,this.$emit("pagechange",this.current)),window.scrollTo(0,0),this.$http.get("/acmeCloud/host/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.currentPage,this.display;this.$http.get("/acmeCloud/host/list?currentPage="+this.currentPage+"&pageSize="+this.display).then(function(t){var e=t.body;0==e.status&&(this.hostList=e.data,document.documentElement.scrollTop=document.body.scrollTop=0)})}}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hostListBox common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",t._l(t.hostList,function(e){return a("tr",{key:e.host_name},[a("th",[a("router-link",{attrs:{to:{path:"hostdetails",query:{hostName:e.host_name}}}},[t._v("\n            "+t._s(e.host_name)+"\n          ")])],1),t._v(" "),a("th",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.host_ips,placement:"top"}},[a("p",[t._v(t._s(t._f("toHostIps")(e.host_ips)))])])],1),t._v(" "),a("th",[t._v(t._s(e.os_type))]),t._v(" "),a("th",[t._v(t._s(e.cpu_core))]),t._v(" "),a("th",[t._v(t._s(e.mem_total_format))]),t._v(" "),a("th",[t._v(t._s(e.disk_total_format))]),t._v(" "),0==e.host_status?a("th",{staticStyle:{color:"green"}},[t._v(t._s(t._f("toHostList")(e.host_status)))]):t._e(),t._v(" "),1==e.host_status?a("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toHostList")(e.host_status)))]):t._e(),t._v(" "),2==e.host_status?a("th",{staticStyle:{color:"lightgray"}},[t._v(t._s(t._f("toHostList")(e.host_status)))]):t._e(),t._v(" "),a("th",[t._v(t._s(e.update_time))]),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"hostdetails",query:{hostName:e.host_name}}}},[t._v("\n            详情\n          ")]),t._v(" "),a("a",{staticStyle:{"margin-left":"10px",color:"red"},attrs:{"data-toggle":"modal","data-target":"#myModal5"},on:{click:function(a){t.deleteHostName=e.host_name}}},[t._v("删除")])],1),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal5",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel5","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(3,!0),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("待删除主机："+t._s(t.deleteHostName))]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.deleteHost(t.deleteHostName)}}},[t._v("确定\n                ")])])])])])])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{key:e.text,class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("主机管理")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("主机列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("主机列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("主机名")]),t._v(" "),a("th",[t._v("IP地址")]),t._v(" "),a("th",[t._v("操作系统")]),t._v(" "),a("th",[t._v("CPU(物理核)")]),t._v(" "),a("th",[t._v("内存(G)")]),t._v(" "),a("th",[t._v("磁盘容量(G)")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("更新时间")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel5"}},[this._v("删除主机")])])}]};var Bt=a("VU/8")(Dt,qt,!1,function(t){a("zout")},null,null).exports,Qt={data:function(){return{hostProblemList:[],mysqlProblemList:[]}},mounted:function(){this.zhuji(),this.shili(),this.hamCon(7),this.hostProblem(10),this.mysqlProblem(10)},methods:{zhuji:function(){var t=0,e=10,a=this.$echarts.init(document.getElementById("zhuji"));this.$http.get("/acmeCloud/inspection/screen/host/list").then(function(s){var i=s.body;0==i.status&&(t=i.data,e=t*Math.ceil(10*Math.random()),a.setOption({title:{show:!0,text:t+"/台",x:"center",y:"center",textStyle:{fontSize:"35",color:"white",fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{d}%",show:!1},legend:{orient:"vertical",x:"left",show:!1},series:{name:"",type:"pie",radius:["70%","75%"],avoidLabelOverlap:!0,hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:t,name:"",itemStyle:{normal:{color:"#00B7EE"}}},{value:e-t,name:"",itemStyle:{normal:{color:"#3A7181"}}}]}}))},function(t){})},shili:function(){var t=0,e=10,a=this.$echarts.init(document.getElementById("shili"));this.$http.get("/acmeCloud/inspection/screen/mysql/list").then(function(s){var i=s.body;0==i.status&&(t=i.data,e=t*Math.ceil(10*Math.random()),a.setOption({title:{show:!0,text:t+"/台",x:"center",y:"center",textStyle:{fontSize:"35",color:"white",fontWeight:"normal"}},tooltip:{trigger:"item",formatter:"{d}%",show:!1},legend:{orient:"vertical",x:"left",show:!1},series:{name:"",type:"pie",radius:["70%","75%"],avoidLabelOverlap:!0,hoverAnimation:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1}},labelLine:{normal:{show:!1}},data:[{value:t,name:"",itemStyle:{normal:{color:"#29F9AD"}}},{value:e-t,name:"",itemStyle:{normal:{color:"#386A58"}}}]}}))},function(t){})},hamCon:function(t){var e=this.$echarts.init(document.getElementById("hamCon")),a=new Array,s=new Array,i=new Array,n="?timeLimit="+t;this.$http.get("/acmeCloud/inspection/screen/echart"+n).then(function(t){var n=t.body;if(0==n.status){for(var l=n.data,o=0;o<l.length;o++)a.push(l[o].date),s.push(l[o].host_data),i.push(l[o].mysql_data);var r=Math.max.apply(Math,i),c=Math.max.apply(Math,s),_=r;_<c&&(_=c),e.setOption({backgroundColor:"white",title:{text:"",textStyle:{fontWeight:"normal",fontSize:12,color:"black"},left:"6%"},tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#57617B"}}},legend:{icon:"rect",itemWidth:14,itemHeight:5,itemGap:13,data:["主机巡检","MySQL巡检"],right:"4%",textStyle:{fontSize:16,color:"#000"}},grid:{left:"8%",right:"2%",bottom:"8%",top:"14%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#57617B"}},data:a,axisLabel:{interval:0,rotate:50,textStyle:{fontSize:12}}}],yAxis:[{type:"value",gridIndex:0,min:0,max:Math.ceil(_+.1*_),axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#57617B"}},axisLabel:{textStyle:{fontSize:12}},splitLine:{lineStyle:{color:"#57617B"}}}],series:[{name:"主机巡检",type:"line",smooth:!0,lineStyle:{normal:{width:3}},areaStyle:{},symbolSize:10,itemStyle:{normal:{color:"rgb(82, 191, 255)",borderColor:"#193444"}},data:s},{name:"MySQL巡检",type:"line",smooth:!0,lineStyle:{normal:{color:"#77F4B2",width:3}},areaStyle:{},symbolSize:10,itemStyle:{normal:{color:"#77F4B2",borderColor:"#193444"}},data:i}]})}},function(t){})},hostProblem:function(t){var e="?displayNum="+t;this.$http.get("/acmeCloud/inspection/screen/host/problem"+e).then(function(t){var e=t.body;0==e.status&&(this.hostProblemList=e.data)})},mysqlProblem:function(t){var e="?displayNum="+t;this.$http.get("/acmeCloud/inspection/screen/mysql/problem"+e).then(function(t){var e=t.body;0==e.status&&(this.mysqlProblemList=e.data)})}}},jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inspection common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"inspectionLeft"},[t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"timeInspection"},[a("div",{staticClass:"timeInCon"},[a("div",{staticClass:"timeInConbox"},[a("div",{staticClass:"timeTab"},[a("ul",{staticClass:"nav nav-tabs",staticStyle:{height:"43px","border-bottom":"none"},attrs:{id:"myTab"}},[a("li",{staticClass:"active"},[a("a",{attrs:{"data-toggle":"tab"},on:{click:function(e){t.hamCon("7")}}},[t._v("\n                  WEEK\n                ")])]),t._v(" "),a("li",[a("a",{attrs:{"data-toggle":"tab"},on:{click:function(e){t.hamCon(30)}}},[t._v("MONTH")])]),t._v(" "),a("li",[a("a",{attrs:{"data-toggle":"tab"},on:{click:function(e){t.hamCon(365)}}},[t._v("YEAR")])])])]),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),t._m(4)])])]),t._v(" "),t._m(5),t._v(" "),a("div",{staticClass:"inspectionProblem"},[a("div",{staticClass:"problemCon"},[a("div",{staticClass:"problemConBox"},[a("div",{staticClass:"rightBox1"},[a("p",{staticClass:"zhuTitle"},[t._v("主机巡检问题")]),t._v(" "),a("div",{staticClass:"box1Con"},[a("ul",t._l(t.hostProblemList,function(e){return a("li",{key:e.ip},[a("p",[t._v(t._s(e.ip)+" "+t._s(e.comment))])])}))])]),t._v(" "),a("div",{staticClass:"rightBox2"},[a("p",{staticClass:"insTitle"},[t._v("MySQL巡检问题")]),t._v(" "),a("div",{staticClass:"box2Con"},[a("ul",t._l(t.mysqlProblemList,function(e){return a("li",{key:e.ip},[a("p",[t._v(t._s(e.ip)+":"+t._s(e.port)+" "+t._s(e.comment))])])}))])])])])])]),t._v(" "),a("div")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v("系统巡检")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("主机&MySQL")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hostAndmain"},[e("div",{staticClass:"hostAndmainCon"},[e("div",{staticClass:"hostAndmainConbox"},[e("ul",[e("li",[e("p",{staticStyle:{color:"#15D5D4"}},[this._v("主机数量")]),this._v(" "),e("div",{staticStyle:{width:"230px",height:"230px",margin:"0 auto"},attrs:{id:"zhuji"}})]),this._v(" "),e("li",{staticClass:"kon",staticStyle:{"margin-left":"8%"}},[e("p",{staticStyle:{color:"#16D1D0"}},[this._v("MySQL实例数")]),this._v(" "),e("div",{staticStyle:{width:"230px",height:"230px",margin:"0 auto"},attrs:{id:"shili"}})])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("实时巡检")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hamECH"},[e("div",{staticStyle:{width:"720px",height:"460px",margin:"0 auto"},attrs:{id:"hamCon"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("巡检问题")])])}]};var Ft=a("VU/8")(Qt,jt,!1,function(t){a("M1pC")},null,null).exports,Gt={0:"内存使用率",1:"swap使用率",2:"磁盘使用率",3:"inode使用率",4:"实例数据大小",5:"binlog大小",6:"自增键使用率检查",7:"myisam表",8:"大表检查",9:"表碎片",10:"索引个数",11:"冗余索引",12:"从库可写",13:"临时表检查",14:"外键检查",15:"没有主键"},Ot={0:"使用百分比",1:"使用百分比",2:"使用百分比",3:"使用百分比",4:"单位：兆(M)",5:"单位：兆(M)",6:"使用百分比",7:"1：显示包含myisam表 0：不显示",8:"单位：兆(M)",9:"碎片率百分比",10:"单位：个",11:"1：显示冗余索引 0：不显示冗余索引",12:"1：显示从库可写 0：不显示从库可写",13:"1：显示临时表 0：不显示",14:"1：显示外键的表 0：不显示",15:"1：显示无主键的表  0：不显示"},Zt={data:function(){return{hostConList:[],sqlConList:[],isUpdate:-1,isUpdateMysql:-1}},filters:{toHostText:function(t){return Gt[t]||""},toHostCom:function(t){return Ot[t]||""}},mounted:function(){this.getConfigList()},directives:{focus:{inserted:function(t){t.focus()}}},methods:{selTxt:function(t){document.getElementById("#"+t)},upModify:function(t){this.isUpdate=-1,this.isUpdateMysql=-1,t.threshold=parseInt(t.threshold),this.$http.post("/acmeCloud/inspection/config/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.getConfigList()):alert("修改失败!")},function(t){})},getConfigList:function(){this.$http.get("/acmeCloud/inspection/config/list").then(function(t){var e=t.body;0==e.status&&(this.hostConList=e.data.host_inspection_conf,this.sqlConList=e.data.mysql_inspection_conf)},function(t){})}}},Yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"insConfiguration common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",t._l(t.hostConList,function(e,s){return a("tr",{key:e.threshold},[a("th",[t._v(t._s(t._f("toHostText")(e.config_type)))]),t._v(" "),t.isUpdate==s?a("th",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.threshold_operator,expression:"hostList.threshold_operator"}],attrs:{name:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"threshold_operator",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:">="}},[t._v(">=")]),t._v(" "),a("option",{attrs:{value:"="}},[t._v("=")]),t._v(" "),a("option",{attrs:{value:"<="}},[t._v("<=")])])]):t._e(),t._v(" "),t.isUpdate!=s?a("th",[t._v(t._s(e.threshold_operator))]):t._e(),t._v(" "),t.isUpdate!=s?a("th",[t._v(t._s(e.threshold))]):t._e(),t._v(" "),t.isUpdate==s?a("td",[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:e.threshold,expression:"hostList.threshold",modifiers:{trim:!0}}],staticStyle:{background:"none",border:"1px solid #4AABD2"},attrs:{type:"text",id:s},domProps:{value:e.threshold},on:{input:function(a){a.target.composing||t.$set(e,"threshold",a.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]):t._e(),t._v(" "),a("th",[t._v(t._s(t._f("toHostCom")(e.config_type)))]),t._v(" "),a("th",[t.isUpdate!=s?a("a",{on:{click:function(e){t.isUpdate=s,t.selTxt(s)}}},[t._v("修改")]):t._e(),t._v(" "),t.isUpdate==s?a("a",{on:{click:function(a){t.upModify(e)}}},[t._v("保存")]):t._e(),t._v(" "),t.isUpdate==s?a("a",{on:{click:function(e){t.isUpdate=-1}}},[t._v("取消")]):t._e()])])}))])]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(4),t._v(" "),a("tbody",t._l(t.sqlConList,function(e,s){return a("tr",{key:s},[a("th",[t._v(t._s(t._f("toHostText")(e.config_type)))]),t._v(" "),t.isUpdateMysql==s?a("th",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.threshold_operator,expression:"sqlList.threshold_operator"}],attrs:{name:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"threshold_operator",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:">="}},[t._v(">=")]),t._v(" "),a("option",{attrs:{value:"="}},[t._v("=")]),t._v(" "),a("option",{attrs:{value:"<="}},[t._v("<=")])])]):t._e(),t._v(" "),t.isUpdateMysql!=s?a("th",[t._v("\n          "+t._s(e.threshold_operator)+"\n        ")]):t._e(),t._v(" "),t.isUpdateMysql!=s?a("th",[t._v(t._s(e.threshold))]):t._e(),t._v(" "),t.isUpdateMysql==s?a("th",[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:e.threshold,expression:"sqlList.threshold",modifiers:{trim:!0}}],staticStyle:{background:"none",border:"1px solid #4AABD2"},attrs:{type:"text",id:s},domProps:{value:e.threshold},on:{input:function(a){a.target.composing||t.$set(e,"threshold",a.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]):t._e(),t._v(" "),a("th",[t._v(t._s(t._f("toHostCom")(e.config_type)))]),t._v(" "),a("th",[t.isUpdateMysql!=s?a("a",{on:{click:function(e){t.isUpdateMysql=s,t.selTxt(s)}}},[t._v("修改")]):t._e(),t._v(" "),t.isUpdateMysql==s?a("a",{on:{click:function(a){t.upModify(e)}}},[t._v("保存")]):t._e(),t._v(" "),t.isUpdateMysql==s?a("a",{on:{click:function(e){t.isUpdateMysql=-1}}},[t._v("取消")]):t._e()])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("系统巡检")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("巡检配置")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("主机阈值配置")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"20%"}},[t._v("巡检项")]),t._v(" "),a("th",{staticStyle:{width:"15%"}},[t._v("运算符")]),t._v(" "),a("th",{staticStyle:{width:"20%"}},[t._v("巡检阈值")]),t._v(" "),a("th",{staticStyle:{width:"30%"}},[t._v("阈值说明")]),t._v(" "),a("th",{staticStyle:{width:"15%"}},[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"20px"}},[e("p",{staticClass:"common_title_size"},[this._v("MySQL阈值配置")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"20%"}},[t._v("巡检项")]),t._v(" "),a("th",{staticStyle:{width:"15%"}},[t._v("运算符")]),t._v(" "),a("th",{staticStyle:{width:"20%"}},[t._v("巡检阈值")]),t._v(" "),a("th",{staticStyle:{width:"30%"}},[t._v("阈值说明")]),t._v(" "),a("th",{staticStyle:{width:"15%"}},[t._v("操作")])])])}]};var Jt=a("VU/8")(Zt,Yt,!1,function(t){a("Vc7X")},null,null).exports,Vt={data:function(){return{account_id:this.$cookies.get("account_id"),total:0,currentPage:1,current:this.currentPage,inspectionList:[],is_info:0,type:""}},filters:{toPercentage:function(t){return Math.floor(Number(100*t))}},mounted:function(){this.setCurrent(1,0);var t=0,e=document.getElementsByName("td");for(t=0;t<e.length;t++)e[t].onclick=function(){for(t=0;t<e.length;t++)e[t].classList.remove("td");this.classList.add("td")}},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t,e){this.is_info=e,this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.currentPage=this.current,this.$emit("pagechange",this.current));var a="currentPage="+this.currentPage+"&pageSize="+this.display+"&configType="+e;this.$http.get("/acmeCloud/inspection/list?"+a).then(function(t){var e=t.body;0==e.status&&(this.inspectionList=e.data.inspectionList,this.total=e.data.total)})}}},Ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hostInspection common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"listType"},[a("div",{staticClass:"typeCon"},[a("table",{staticClass:"oneTable"},[a("tr",{staticStyle:{"font-size":"14px",color:"black"}},[a("td",{staticClass:"td",staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,0)}}},[t._v("内存使用率\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,1)}}},[t._v("swap使用率\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,2)}}},[t._v("磁盘使用率\n          ")]),t._v(" "),a("td",{attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,3)}}},[t._v("inode使用率")])])])]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"listMain"},[a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[a("thead",[a("tr",{staticClass:"mainTitle"},[a("th",[t._v("主机名")]),t._v(" "),0==t.is_info||1==t.is_info||3==t.is_info?a("th",[t._v("使用率(%)")]):t._e(),t._v(" "),2==t.is_info?a("th",[t._v("最高使用率(%)")]):t._e(),t._v(" "),2==t.is_info||3==t.is_info?a("th",[t._v("详细数据")]):t._e(),t._v(" "),a("th",[t._v("采集时间")])])]),t._v(" "),a("tbody",t._l(t.inspectionList,function(e){return a("tr",{key:e.ip},[1==e.inspection_status?a("th",{staticStyle:{color:"red"}},[t._v("\n            "+t._s(e.ip)+"\n          ")]):a("th",[t._v(" "+t._s(e.ip))]),t._v(" "),a("th",[t._v(t._s(t._f("toPercentage")(e.value)))]),t._v(" "),2==t.is_info||3==t.is_info?a("th",[t._v(t._s(e.info))]):t._e(),t._v(" "),a("th",[t._v(t._s(e.createtime))])])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("系统巡检")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("主机巡检")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("主机巡检")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"listTips"},[e("p",[this._v("红色字体表示当前巡检结果已经超出所配置的正常范围")])])}]};var Wt=a("VU/8")(Vt,Ht,!1,function(t){a("8/HH")},null,null).exports,Xt={data:function(){return{account_id:this.$cookies.get("account_id"),total:0,currentPage:1,current:this.currentPage,inspectionList:[],is_info:0}},filters:{toValue:function(t){var e=t;return e.length>26&&(e=e.substring(0,26)+"..."),e},toTablevalue:function(t){var e=Math.ceil(t/1024/1024);return e+="M"},tobinlogValue:function(t){var e=Math.ceil(t/1024/1024);return e+="M"},toInfo:function(t){var e=Math.ceil(t/1024/1024);return e+="M"},toPercentage:function(t){return Number(100*t).toFixed(2)},toSqlPercentage:function(t){return Math.floor(Number(100*t))}},mounted:function(){this.setCurrent(1,4);var t=0,e=document.getElementsByName("td");for(t=0;t<e.length;t++)e[t].onclick=function(){for(t=0;t<e.length;t++)e[t].classList.remove("td");this.classList.add("td")}},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t,e){this.inspectionList=[],this.total=0,this.is_info=e,this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.currentPage=this.current,this.$emit("pagechange",this.current));var a="currentPage="+this.currentPage+"&pageSize="+this.display+"&configType="+e;this.$http.get("/acmeCloud/inspection/list?"+a).then(function(t){var e=t.body;0==e.status&&(this.inspectionList=e.data.inspectionList,this.total=e.data.total)})}}},Kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sqlInspection common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"sinBox"},[a("div",{staticClass:"sinBoxCon"},[a("table",{staticClass:"oneTable",staticStyle:{"font-size":"14px",color:"black"}},[a("tr",{staticStyle:{"border-bottom":"1px solid lightgray"}},[a("td",{staticClass:"td",staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,4)}}},[t._v("实例数据大小\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,5)}}},[t._v("binlog大小\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,6)}}},[t._v("自增键使用率\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,7)}}},[t._v("myisam表\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,8)}}},[t._v("大表检查\n          ")]),t._v(" "),a("td",{attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,9)}}},[t._v("表碎片")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,10)}}},[t._v("索引个数\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,11)}}},[t._v("冗余索引\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,12)}}},[t._v("从库可写\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,13)}}},[t._v("临时表检查\n          ")]),t._v(" "),a("td",{staticStyle:{"border-right":"1px solid lightgray"},attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,14)}}},[t._v("外键检查\n          ")]),t._v(" "),a("td",{attrs:{name:"td"},on:{click:function(e){t.setCurrent(1,15)}}},[t._v("没有主键")])])])]),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"sqlMain"},[a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[a("thead",[a("tr",{staticClass:"mainTitle"},[a("th",[t._v("集群名")]),t._v(" "),a("th",[t._v("主机名")]),t._v(" "),a("th",[t._v("端口号")]),t._v(" "),10==t.is_info||11==t.is_info?a("th",[t._v("值")]):t._e(),t._v(" "),4==t.is_info?a("th",[t._v("数据大小")]):t._e(),t._v(" "),5==t.is_info?a("th",[t._v("binlog大小")]):t._e(),t._v(" "),6==t.is_info?a("th",[t._v("使用率(%)")]):t._e(),t._v(" "),8==t.is_info?a("th",[t._v("表大小")]):t._e(),t._v(" "),9==t.is_info?a("th",[t._v("碎片率(%)")]):t._e(),t._v(" "),6==t.is_info||7==t.is_info||8==t.is_info||9==t.is_info||10==t.is_info||13==t.is_info||14==t.is_info||15==t.is_info?a("th",[t._v("\n              数据库名称\n            ")]):t._e(),t._v(" "),6==t.is_info||7==t.is_info||8==t.is_info||9==t.is_info||10==t.is_info||13==t.is_info||14==t.is_info||15==t.is_info?a("th",[t._v("\n              表名称\n            ")]):t._e(),t._v(" "),9==t.is_info?a("th",[t._v("表大小")]):t._e(),t._v(" "),a("th",[t._v("采集时间")])])]),t._v(" "),a("tbody",t._l(t.inspectionList,function(e){return a("tr",{key:e.ip},[1==e.inspection_status?a("th",{staticStyle:{color:"red"}},[t._v("\n              "+t._s(e.cluster_name)+"\n            ")]):a("th",[t._v(t._s(e.cluster_name))]),t._v(" "),a("th",[t._v(t._s(e.ip))]),t._v(" "),a("th",[t._v(t._s(e.port))]),t._v(" "),10==t.is_info||11==t.is_info?a("th",{attrs:{title:e.value}},[t._v("\n              "+t._s(t._f("toValue")(e.value))+"\n            ")]):t._e(),t._v(" "),4==t.is_info?a("th",[t._v("\n              "+t._s(t._f("toTablevalue")(e.value))+"\n            ")]):t._e(),t._v(" "),5==t.is_info?a("th",[t._v("\n              "+t._s(t._f("tobinlogValue")(e.value))+"\n            ")]):t._e(),t._v(" "),6==t.is_info||9==t.is_info?a("th",[t._v("\n              "+t._s(t._f("toSqlPercentage")(e.value))+"\n            ")]):t._e(),t._v(" "),8==t.is_info?a("th",[t._v("\n              "+t._s(t._f("toTablevalue")(e.value))+"\n            ")]):t._e(),t._v(" "),6==t.is_info||7==t.is_info||8==t.is_info||9==t.is_info||10==t.is_info||13==t.is_info||14==t.is_info||15==t.is_info?a("th",[t._v("\n              "+t._s(e.dbname)+"\n            ")]):t._e(),t._v(" "),6==t.is_info||7==t.is_info||8==t.is_info||9==t.is_info||10==t.is_info||13==t.is_info||14==t.is_info||15==t.is_info?a("th",[t._v("\n              "+t._s(e.tablename)+"\n            ")]):t._e(),t._v(" "),9==t.is_info?a("th",[t._v(t._s(t._f("toInfo")(e.info)))]):t._e(),t._v(" "),a("th",[t._v(t._s(e.createtime))])])}))])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("系统巡检")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("MySQL巡检")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("MySQL巡检")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"listTips"},[e("p",[this._v("红色字体表示当前巡检结果已经超出所配置的正常范围")])])}]};var te=a("VU/8")(Xt,Kt,!1,function(t){a("+kNH")},null,null).exports,ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monConfigurationBox common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:"host"}},[a("div",{staticClass:"table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(3),t._v(" "),a("tbody",t._l(t.hots_list,function(e,s){return a("tr",[a("th",[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),a("th",[t.isUpdate!=s?a("span",[t._v("\n                  "+t._s(e.early_warning)+"\n                ")]):t._e(),t._v(" "),t.isUpdate==s?a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.early_warning,expression:" item.early_warning"}],attrs:{type:"text",placeholder:"请输入名称"},domProps:{value:e.early_warning},on:{input:function(a){a.target.composing||t.$set(e,"early_warning",a.target.value)}}})]):t._e()]),t._v(" "),a("th",[t.isUpdate!=s?a("span",[t._v("\n                  "+t._s(e.warning)+"\n                ")]):t._e(),t._v(" "),t.isUpdate==s?a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.warning,expression:" item.warning"}],attrs:{type:"text",placeholder:"请输入名称"},domProps:{value:e.warning},on:{input:function(a){a.target.composing||t.$set(e,"warning",a.target.value)}}})]):t._e()]),t._v(" "),a("th",[t._v("\n              "+t._s(e.rule)+"\n            ")]),t._v(" "),a("th",[t.isUpdate!=s?a("a",{on:{click:function(e){t.isUpdate=s}}},[t._v("修改")]):t._e(),t._v(" "),t.isUpdate==s?a("a",{on:{click:function(e){t.modify_sure(s)}}},[t._v("保存")]):t._e(),t._v(" "),t.isUpdate==s?a("a",{on:{click:function(e){t.isUpdate=999}}},[t._v("取消")]):t._e()])])}))])])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"standard"}},[t._v("\n      sssssssssss\n    ")]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"replication"}},[t._v("\n      rrrrrrr\n    ")]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"pxc"}},[t._v("\n      ppppppp\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v("报警中心")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("报警配置规则")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs ul-active",staticStyle:{height:"40px","margin-top":"30px"}},[e("li",{staticClass:"active"},[e("a",{attrs:{href:"#host","data-toggle":"tab"}},[this._v("\n        Host\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#standard","data-toggle":"tab"}},[this._v("MySQL-Standard")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#replication","data-toggle":"tab"}},[this._v("\n        MySQL-Replication\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#pxc","data-toggle":"tab"}},[this._v("PXC")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("规则名称")]),t._v(" "),a("th",[t._v("预警阈值")]),t._v(" "),a("th",[t._v("报警阈值")]),t._v(" "),a("th",[t._v("规则说明")]),t._v(" "),a("th",[t._v("操作")])])])}]};var ae=a("VU/8")({data:function(){return{chang_disage:"",isUpdate:999,hots_list:[{name:"disk",early_warning:1,warning:10,rule:"磁盘报警"},{name:"cpu",early_warning:2,warning:20,rule:"cpu报警"},{name:"cpu",early_warning:2,warning:20,rule:"cpu报警"},{name:"cpu",early_warning:3,warning:30,rule:"cpu3报警"}]}},mounted:function(){this.init()},methods:{init:function(){this.hots_list.map(function(t){t.show=!0})},modify:function(t){this.isUpdate=t},modify_sure:function(t){this.isUpdate=9999}}},ee,!1,function(t){a("B1Uj")},null,null).exports,se={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"hostMonitoring"})},staticRenderFns:[]};var ie=a("VU/8")({},se,!1,function(t){a("2KKJ")},null,null).exports,ne=a("Mv1o"),le={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"monitoring "})},staticRenderFns:[]};var oe=a("VU/8")({},le,!1,function(t){a("I0CY")},null,null).exports,re={data:function(){return{confirm_instance_name:"",centerDialogVisible:!1,total:0,current_page:1,current:1,no_list:!1,i:1,currentPage:1,pageSize:10,page_num:[],cluster_num:"",show_pagination:"",example_list:[]}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.current_page=this.current,this.$emit("pagechange",this.current)),this.$http.get("/acmeCloud/MySQLInstance/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.current_page,this.display;this.$http.get("/acmeCloud/MySQLInstance/list?currentPage="+this.current_page+"&pageSize="+this.display).then(function(t){var e=t.body;0==e.status&&(this.example_list=e.data,document.documentElement.scrollTop=document.body.scrollTop=0)})},get_instance_list:function(){this.$http.get("/acmeCloud/MySQLInstance/list?currentPage="+this.currentPage+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status&&(this.example_list=e.data)})},delete_instance:function(t){this.confirm_instance_name=t},sure_delete:function(){var t=this,e={instance_name:t.confirm_instance_name};t.$http.post("/acmeCloud/MySQLInstance/delete?",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status&&(t.centerDialogVisible=!1,t.setCurrent(1))})}}},ce={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"examplelist common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"common_table table table-striped"},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},t._l(t.example_list,function(e,s){return a("tr",[a("th",[a("router-link",{attrs:{to:{path:"exampledetail",query:{name:e.instance_name,ip:e.host_ip,port:e.instance_port}}}},[t._v("\n            "+t._s(e.instance_name)+"\n            ")])],1),t._v(" "),a("th",[t._v(t._s(e.host_ip))]),t._v(" "),a("th",[t._v(t._s(e.cluster_name))]),t._v(" "),a("th",[t._v(t._s(e.host_name))]),t._v(" "),a("th",[0==e.instance_flag?a("p",{staticStyle:{color:"#FBBC05"}},[a("span",{staticClass:"red-dot"}),t._v("\n              无访问权限\n            ")]):1==e.instance_flag?a("p",{staticStyle:{color:"green"}},[a("span",{staticClass:"red-dot"}),t._v("\n              正常服务\n            ")]):a("p",{staticStyle:{color:"red"}},[t._v("\n              无服务\n            ")])]),t._v(" "),e.instance_uptime/3600/24>=1?a("th",[t._v(t._s(parseInt(e.instance_uptime/3600/24))+"天"+t._s(parseInt(e.instance_uptime/3600)-24*parseInt(e.instance_uptime/3600/24))+"小时")]):a("th",[t._v("0天"+t._s(parseInt(e.instance_uptime/3600))+"小时")]),t._v(" "),a("th",{staticStyle:{cursor:"pointer",color:"red"},attrs:{"data-toggle":"modal","data-target":"#myModal5"},on:{click:function(a){t.delete_instance(e.instance_name)}}},[t._v("\n\n            删除\n            ")])])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("span",[t._v("待删除实例："+t._s(t.confirm_instance_name))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sure_delete()}}},[t._v("确 定")])],1)]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal5",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel5","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(3),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("待删除实例："+t._s(t.confirm_instance_name))]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.sure_delete()}}},[t._v("确定\n          ")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("MySQL管理")]),this._v(" "),e("span",{staticClass:"arrow"},[this._v(" > ")]),this._v(" "),e("span",{staticClass:"titleUrl"},[this._v("实例列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("实例列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("实例名")]),t._v(" "),a("th",[t._v("IP")]),t._v(" "),a("th",[t._v("集群")]),t._v(" "),a("th",[t._v("主机")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("运行时间")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel5"}},[this._v("删除实例")])])}]};var _e=a("VU/8")(re,ce,!1,function(t){a("C4UI")},null,null).exports,de={data:function(){return{confirm_instance_name:"",centerDialogVisible:!1,total:0,current_page:1,current:1,no_acitve:"disabled",no_item:"",currentPage:1,pageSize:10,show_pagination:!0,show_alert:!1,cluster_page_num:"",cluster_num:[],change_result:"",colony_list:[]}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.current_page=this.current,this.$emit("pagechange",this.current)),this.$http.get("/acmeCloud/MySQLCluster/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.current_page,this.display;this.$http.get("/acmeCloud/MySQLCluster/list?currentPage="+this.current_page+"&pageSize="+this.display).then(function(t){var e=t.body;0==e.status&&(this.colony_list=e.data,document.documentElement.scrollTop=document.body.scrollTop=0)})},get_data:function(){this.$http.get("/acmeCloud/MySQLCluster/list?currentPage="+this.currentPage+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status&&(this.colony_list=e.data)})},get_page_num:function(){this.$http.get("/acmeCloud/MySQLCluster/total").then(function(t){var e=t.body;0==e.status&&(this.cluster_num=e.data,e.data/10>1?(this.show_pagination=!0,this.cluster_page_num=Math.ceil(this.cluster_num/10)):this.show_pagination=!1)})},go:function(t){document.documentElement.scrollTop=document.body.scrollTop=0;this.currentPage=t,this.$http.get("/acmeCloud/MySQLCluster/list?currentPage="+t+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status?e.data.length<10?(this.colony_list=e.data,this.no_item=!0):(this.colony_list=e.data,this.no_item=!1):this.no_item=!0})},delete_instance:function(t){this.confirm_instance_name=t},sure_delete:function(){var t=this,e={cluster_name:t.confirm_instance_name};t.$http.post("/acmeCloud/MySQLCluster/deletecluster?",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status&&(t.centerDialogVisible=!1,t.setCurrent(1))})}}},ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"colonylist common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"common_table table table-striped "},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},t._l(t.colony_list,function(e){return a("tr",{key:e.cluster_name},[a("th",[a("router-link",{attrs:{to:{path:"clusterinformation",query:{name:e.cluster_name}}}},[t._v("\n            "+t._s(e.cluster_name)+"\n          ")])],1),t._v(" "),a("th",[t._v(t._s(e.cluster_type_format))]),t._v(" "),a("th",[t._v(t._s(e.cluster_version))]),t._v(" "),a("th",[1==e.cluster_grade?a("span",[t._v("\n            无需备份\n          ")]):2==e.cluster_grade?a("span",[t._v("\n            不重要\n          ")]):3==e.cluster_grade?a("span",[t._v("\n            普通\n          ")]):4==e.cluster_grade?a("span",[t._v("\n            重要\n          ")]):5==e.cluster_grade?a("span",[t._v("\n            非常重要\n          ")]):a("span",[t._v("\n            未定义\n          ")])]),t._v(" "),a("th",[0==e.cluster_flag?a("span",{staticStyle:{color:"red"}},[t._v(" 不可访问")]):t._e(),t._v(" "),1==e.cluster_flag?a("span",{staticStyle:{color:"green"}},[t._v(" 正常服务")]):t._e(),t._v(" "),2==e.cluster_flag?a("span",{staticStyle:{color:"#FBBC05"}},[t._v(" 集群异常")]):t._e()]),t._v(" "),a("th",[a("a",{staticStyle:{color:"red"},attrs:{"data-toggle":"modal","data-target":"#myModal5"},on:{click:function(a){t.delete_instance(e.cluster_name)}}},[t._v("删除")])])])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{key:e.text,class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show_alert,expression:"show_alert"}],staticClass:"alert toast-alert alert-info",attrs:{role:"alert"}},[t._v("\n    "+t._s(t.change_result)+"\n  ")]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("span",[t._v("待删除集群："+t._s(t.confirm_instance_name))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sure_delete()}}},[t._v("确 定")])],1)]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal5",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel5","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(3),t._v(" "),a("div",{staticClass:"modal-body"},[t._v("待删除集群："+t._s(t.confirm_instance_name))]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.sure_delete()}}},[t._v("确定\n          ")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("MySQL管理")]),this._v(" "),e("span",{staticClass:"arrow"},[this._v(" > ")]),this._v(" "),e("span",{staticClass:"titleUrl"},[this._v("集群列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("集群列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("集群名")]),t._v(" "),a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("版本")]),t._v(" "),a("th",[t._v("集群等级")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel5"}},[this._v("删除集群")])])}]};var ve=a("VU/8")(de,ue,!1,function(t){a("+fTz")},null,null).exports,me=a("bOdI"),pe=a.n(me),he={data:function(){return{currentPage:1,pageSize:10,cluset_array:[],culster_total:"暂无数据"}},mounted:function(){this.get_total(),this.get_cluster_size_array(),this.get_avgqps},methods:{get_avgqps:function(){this.$http.get("/acmeCloud/MySQLCluster/avgqps").then(function(t){t.body.status})},get_total:function(){this.$http.get("/acmeCloud/MySQLCluster/total").then(function(t){var e=t.body;0==e.status?this.culster_total=e.data:this.culster_total="暂无数据"})},get_cluster_size_array:function(){var t=this;this.$http.get("/acmeCloud/MySQLCluster/screen/cluster/size").then(function(e){var a=e.body;if(0==a.status){t.cluset_array=a.data;for(var s=new Array,i=new Array,n=0;n<t.cluset_array.length;n++){var l;s.push(t.cluset_array[n].time),i.push(t.cluset_array[n].cluster_size),t.$echarts.init(document.getElementById("total")).setOption({tooltip:{show:!0},xAxis:(l={boundaryGap:!1,axisLabel:{interval:0,rotate:40,fontSize:10},show:!0,type:"category",nameLocation:"start"},pe()(l,"boundaryGap",!1),pe()(l,"axisLine",{lineStyle:{color:"#fff"}}),pe()(l,"data",s),pe()(l,"nameTextStyle",{color:"#fff",fontSize:18}),l),yAxis:{axisLabel:{show:!1},axisTick:{show:!1},splitLine:!1,type:"value",axisLine:{lineStyle:{color:"#fff"}}},series:[{name:"总数据量",data:i,type:"line",label:{show:!0,color:"#fff",fontSize:10},areaStyle:{type:"line"},symbolSize:8,itemStyle:{normal:{label:{show:!0,fontSize:14},color:"#FCC42B",borderColor:"#fff",borderType:"solid"}}}]})}}})},draw:function(){this.$echarts.init(document.getElementById("new_data")).setOption({title:{text:"新增数据量:",textStyle:{color:"#fff",fontSize:16},left:20,top:10},xAxis:{axisLabel:{interval:0,rotate:40},show:!0,type:"category",nameLocation:"start",boundaryGap:!1,axisLine:{lineStyle:{color:"#fff"}},data:["第一天","第二天","第三天","第一天","第一天"],nameTextStyle:{color:"#fff",fontSize:18}},yAxis:{axisLabel:{show:!1},axisTick:{show:!1},splitLine:!1,type:"value",axisLine:{lineStyle:{color:"#fff"}}},series:[{name:"总数据量",data:[820,1932,901,934,1290,1330,1320],type:"line",symbolSize:10,label:{show:!0,color:"#fff"},areaStyle:{type:"line"},itemStyle:{normal:{color:"#428F27",borderColor:"#fff",borderType:"solid"}}}]}),this.$echarts.init(document.getElementById("normal_qps")).setOption({title:{text:"新增数据量:",textStyle:{color:"#fff",fontSize:16},left:20,top:10},xAxis:{axisLabel:{interval:0,rotate:40},show:!0,type:"category",nameLocation:"start",boundaryGap:!1,axisLine:{lineStyle:{color:"#fff"}},data:["第一天","第二天","第三天","第一天","第一天"],nameTextStyle:{color:"#fff",fontSize:18}},yAxis:{axisLabel:{show:!1},axisTick:{show:!1},splitLine:!1,type:"value",axisLine:{lineStyle:{color:"#fff"}}},series:[{name:"总数据量",data:[820,1932,901,934,1290,1330,1320],type:"line",label:{show:!0,color:"#fff"},symbolSize:10,areaStyle:{type:"line"},itemStyle:{normal:{color:"#19A9B6",borderColor:"#fff",borderType:"solid"}}}]}),this.$echarts.init(document.getElementById("normal_tps")).setOption({title:{text:"新增数据量:",textStyle:{color:"#fff",fontSize:16},left:20,top:10},xAxis:{axisLabel:{interval:0,rotate:40},show:!0,type:"category",nameLocation:"start",boundaryGap:!1,axisLine:{lineStyle:{color:"#fff"}},data:["第一天","第二天","第三天","第一天","第一天","第十天","第十天"],nameTextStyle:{color:"#fff",fontSize:18}},yAxis:{axisLabel:{show:!1},axisTick:{show:!1},splitLine:!1,type:"value",axisLine:{lineStyle:{color:"#fff"}}},series:[{name:"总数据量",data:[820,1932,901,934,1290,600,1500],type:"line",label:{show:!0,color:"#fff"},areaStyle:{type:"line"},symbolSize:10,itemStyle:{normal:{color:"#16D9B5",borderColor:"#fff",borderType:"solid"}}}]}),this.$echarts.init(document.getElementById("emergency")).setOption({title:{show:!1},xAxis:{axisLabel:{interval:0,rotate:40},show:!0,type:"category",nameLocation:"start",axisLine:{lineStyle:{color:"#fff"}},axisTick:!1,data:["第一天","第二天","第三天","第一天","第一天"],nameTextStyle:{color:"#fff",fontSize:18},splitLine:{show:!0,lineStyle:{color:["#fff"],width:2}}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#fff"}}},series:[{name:"总数据量",data:[820,1932,901,934,1290,1330,1320],type:"line",label:{show:!0,color:"#fff"},areaStyle:{type:"line"},symbolSize:10,itemStyle:{normal:{color:"#09F2E4",borderColor:"#fff",borderType:"solid"}}}]})}}},fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"management common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("ul",{staticClass:"common_echart_wrap"},[a("li",{staticClass:"echart-li",staticStyle:{"margin-left":"3.5%"}},[a("router-link",{attrs:{to:{path:"clusterlist"}}},[a("p",{staticStyle:{color:"#2FBDBF","font-size":"20px"}},[t._v("总数据量")]),t._v(" "),a("div",{staticStyle:{width:"300px",height:"250px",margin:"0px auto"},attrs:{id:"total"}})])],1)]),t._v(" "),t._m(2),t._v(" "),t._m(3)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v(" MySQL管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基础信息统计")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"base-info"},[e("div",{staticClass:"base-info-content"},[e("div",{staticClass:"base-left"},[e("span",{staticClass:"base-info-cirle"})]),this._v(" "),e("ul",{staticClass:"base-right"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("监控信息")])])}]};var ge=a("VU/8")(he,fe,!1,function(t){a("6nRs")},null,null).exports,be={data:function(){return{template_type:"",version:"MySQL5.7",MysqlList:[]}},mounted:function(){this.getMysqlList("1","MySQL5.7")},methods:{getMysqlList:function(t,e){var a="?template_type="+t+"&version="+e;this.$http.get("/acmeCloud/parameter/list"+a).then(function(t){var e=t.body;0==e.status&&(this.MysqlList=e.data)})},deleteTemplate:function(t){var e={template_id:t};this.$http.post("/acmeCloud/parameter/delete",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("删除成功!"),this.getMysqlList("1")):alert("删除失败，请稍后再试!")},function(t){})}}},ye={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"parameter common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"tabChange"},[a("ul",{staticClass:"nav nav-tabs",staticStyle:{height:"44px"},attrs:{id:"myTab"}},[a("li",{staticClass:"active",on:{click:function(e){t.getMysqlList("1")}}},[a("a",{attrs:{href:"#mysql","data-toggle":"tab"}},[t._v("\n          MySQL\n        ")])])]),t._v(" "),a("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:"mysql"}},[a("div",{staticClass:"newsTemplate"},[a("div",{staticClass:"new"},[a("router-link",{attrs:{to:"parametertemplate"}},[a("button",[t._v("新建模板")])])],1)]),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",t._l(t.MysqlList,function(e){return a("tr",[a("th",[a("router-link",{attrs:{to:{path:"parameterdetails",query:{template_id:e.template_id}}}},[a("p",[t._v(t._s(e.template_name))])])],1),t._v(" "),a("th",[t._v(t._s(e.version))]),t._v(" "),a("th",[t._v(t._s(e.remark))]),t._v(" "),a("th",[t._v(t._s(e.update_time))]),t._v(" "),a("th",[a("p",{on:{click:function(a){t.deleteTemplate(e.template_id)}}},[a("a",{staticStyle:{color:"red"}},[t._v("删除")])])])])}))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("部署中心")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("参数配置")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("参数配置")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("模板名称")]),t._v(" "),a("th",[t._v("MySQL版本号")]),t._v(" "),a("th",[t._v("备注")]),t._v(" "),a("th",[t._v("更新时间")]),t._v(" "),a("th",[t._v("操作")])])])}]};var Ce=a("VU/8")(be,ye,!1,function(t){a("aW4C")},null,null).exports,ke={data:function(){return{template_id:"",template_name:"",remark:"",up_template_name:"",up_remark:"",operator:"",create_time:"",update_time:"",version:"",updateTemplateName:"",updateTemplateRemark:"",baseInfoList:"",infoList:[],isUpName:-1,isUpRemark:-1,isUpParam:-1,upParamName:"123",upParamValue:""}},filters:{toParameName:function(t){var e=t;return e.length>12&&(e=e.substring(0,12)+"..."),e},toParameRange:function(t){var e=t;return e.length>12&&(e=e.substring(0,12)+"..."),e}},mounted:function(){this.$route.query.template_id&&(this.template_id=this.$route.query.template_id),this.baseInfo(this.template_id),this.templateInfo(this.template_id)},directives:{focus:{inserted:function(t){t.focus()}}},methods:{upParam:function(t,e){this.isUpParam=t,this.upParamValue=e},rvNameAndValue:function(t){this.upParamValue=t},modifyParam:function(){var t={template_id:this.template_id,parameter_template_list:this.infoList};this.$http.post("/acmeCloud/parameter/info/batch/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.templateInfo(this.template_id)):alert("修改失败!")},function(t){})},saveParamNameAndVl:function(t,e){this.isUpParam=0;var a={template_id:this.template_id,parameter_name:t,parameter_value:e};this.$http.post("/acmeCloud/parameter/info/single/modify",x()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.templateInfo(this.template_id)):alert("修改失败!")},function(t){})},updateUserName:function(){var t={templateId:this.template_id,templateName:this.up_template_name};this.$http.post("/acmeCloud/parameter/info/name/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?(this.isUpName=-1,this.baseInfo(this.template_id)):alert(e.msg)},function(t){})},updateRemark:function(){var t={templateId:this.template_id,remark:this.up_remark};this.$http.post("/acmeCloud/parameter/info/remark/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.isUpRemark=-1,this.baseInfo(this.template_id)):alert("修改失败!")},function(t){})},baseInfo:function(t){var e="?templateId="+t;this.$http.get("/acmeCloud/parameter/baseinfo"+e).then(function(t){var e=t.body;0==e.status&&(this.template_id=e.data.template_id,this.template_name=e.data.template_name,this.remark=e.data.remark,this.up_template_name=e.data.template_name,this.up_remark=e.data.remark,this.operator=e.data.operator,this.version=e.data.version,this.create_time=e.data.create_time,this.update_time=e.data.update_time)})},templateInfo:function(t){var e="?templateId="+t;this.$http.get("/acmeCloud/parameter/info"+e).then(function(t){var e=t.body;0==e.status&&(this.infoList=e.data,this.isUpParam=-1)})},blurFn:function(){var t=document.getElementsByTagName("input");""==t[0].value?(ts0.innerHTML="内容不能为空",ts0.style.color="red"):/^[\u4e00-\u9fa5]{3,8}$/.test(t[0].value)?(ts0.innerHTML="",ts0.style.color="green"):(ts0.innerHTML="格式错误",ts0.style.color="red",t[0].value="")}}},we={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"parameterdetails common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("部署中心")]),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:"/info/parameter"}},[t._v("参数配置")])],1),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[t._v("参数详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"detailsMain"},[a("table",[a("tr",[a("td",{staticStyle:{width:"15%"}},[t._v("模板名称：")]),t._v(" "),a("td",{staticStyle:{width:"70%"}},["template_name"!=t.isUpName?a("div",[a("div",{staticStyle:{width:"400px",float:"left","margin-top":"5px"}},[t._v(t._s(t.template_name))]),t._v(" "),a("button",{staticStyle:{width:"100px",height:"32px","line-height":"32px",border:"1px solid #00A1C3",background:"#00A1C3",color:"white"},on:{click:function(e){t.isUpName="template_name"}}},[t._v("\n                修改名称\n              ")])]):t._e(),t._v(" "),"template_name"==t.isUpName?a("div",[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.up_template_name,expression:"up_template_name",modifiers:{trim:!0}}],staticStyle:{width:"250px",height:"34px","line-height":"34px",border:"1px solid #00A1C3",background:"none"},attrs:{type:"text"},domProps:{value:t.up_template_name},on:{input:function(e){e.target.composing||(t.up_template_name=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("button",{staticStyle:{width:"80px",height:"34px","line-height":"34px",background:"#00A1C3",border:"1px solid #00A1C3",color:"white"},on:{click:function(e){t.updateUserName()}}},[t._v("\n                确定\n              ")]),t._v(" "),a("button",{staticStyle:{width:"80px",height:"34px","line-height":"34px",background:"#00A1C3",border:"1px solid #00A1C3",color:"white"},on:{click:function(e){t.up_template_name=t.template_name,t.isUpName=-1}}},[t._v("\n                取消\n              ")])]):t._e()])]),t._v(" "),a("br"),t._v(" "),a("tr",[a("td",{staticStyle:{width:"15%"}},[t._v("模板描述：")]),t._v(" "),a("td",{staticStyle:{width:"70%"}},["remark"!=t.isUpRemark?a("div",[a("div",{staticStyle:{width:"400px",float:"left","margin-top":"5px"}},[t._v(t._s(t.remark))]),t._v(" "),a("button",{staticStyle:{width:"100px",height:"32px","line-height":"32px",border:"1px solid #00A1C3",background:"#00A1C3",color:"white"},on:{click:function(e){t.isUpRemark="remark"}}},[t._v("\n                修改描述\n              ")])]):t._e(),t._v(" "),"remark"==t.isUpRemark?a("div",[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.up_remark,expression:"up_remark",modifiers:{trim:!0}}],staticStyle:{width:"250px",height:"34px","line-height":"34px",border:"1px solid #24C4D4",background:"none"},attrs:{type:"text",maxlength:"30"},domProps:{value:t.up_remark},on:{input:function(e){e.target.composing||(t.up_remark=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("button",{staticStyle:{width:"80px",height:"34px","line-height":"34px",background:"#00A1C3",border:"1px solid #00A1C3",color:"white"},on:{click:function(e){t.updateRemark()}}},[t._v("\n                确定\n              ")]),t._v(" "),a("button",{staticStyle:{width:"80px",height:"34px","line-height":"34px",background:"#00A1C3",border:"1px solid #00A1C3",color:"white"},on:{click:function(e){t.up_remark=t.remark,t.isUpRemark=-1}}},[t._v("\n                取消\n              ")])]):t._e()])]),t._v(" "),a("br"),t._v(" "),a("tr",[a("td",{staticStyle:{width:"15%"}},[t._v("MySQL版本号：")]),t._v(" "),a("td",{staticStyle:{width:"70%"}},[t._v(t._s(t.version))])]),t._v(" "),a("br"),t._v(" "),a("tr",[a("td",{staticStyle:{width:"15%"}},[t._v("更新时间：")]),t._v(" "),a("td",{staticStyle:{width:"70%"}},[t._v(t._s(t.update_time))])])])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",t._l(t.infoList,function(e,s){return a("tr",[a("th",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.parameter_name,placement:"top"}},[a("p",[t._v(t._s(t._f("toParameName")(e.parameter_name)))])])],1),t._v(" "),a("th",[t._v(t._s(e.need_restart))]),t._v(" "),a("th",[t._v(" "+t._s(e.parameter_default))]),t._v(" "),t.isUpParam!=s?a("th",[t._v(t._s(e.parameter_value))]):t._e(),t._v(" "),t.isUpParam==s?a("th",[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:e.parameter_value,expression:"infos.parameter_value",modifiers:{trim:!0}}],staticStyle:{border:"1px solid #3782B6",background:"none",width:"60%"},attrs:{type:"text",id:s},domProps:{value:e.parameter_value},on:{input:function(a){a.target.composing||t.$set(e,"parameter_value",a.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]):t._e(),t._v(" "),a("th",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.parameter_range,placement:"top"}},[a("p",[t._v(t._s(t._f("toParameRange")(e.parameter_range)))])])],1),t._v(" "),a("th",[t.isUpParam!=s?a("a",{on:{click:function(a){t.isUpParam=s,t.upParamValue=e.parameter_value}}},[t._v("修改")]):t._e(),t._v(" "),t.isUpParam==s?a("a",{on:{click:function(a){t.saveParamNameAndVl(e.parameter_name,e.parameter_value,e.template_id)}}},[t._v("保存")]):t._e(),t._v(" "),t.isUpParam==s?a("a",{staticStyle:{"margin-left":"10px"},on:{click:function(a){t.isUpParam=-1,e.parameter_value=t.upParamValue}}},[t._v("取消")]):t._e()])])}))]),t._v(" "),""==t.infoList?a("div",{staticClass:"MSG"},[t._v("暂无参数信息")]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("参数信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("重启")]),t._v(" "),a("th",[t._v("参数默认值")]),t._v(" "),a("th",[t._v("参数值")]),t._v(" "),a("th",[t._v("参数可修改值")]),t._v(" "),a("th",[t._v("操作")])])])}]};var xe=a("VU/8")(ke,we,!1,function(t){a("rNpX")},null,null).exports,Se=a("tcOW"),Ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"parameterTemplate common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("部署中心")]),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:"/info/parameter"}},[t._v("参数配置")])],1),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[t._v("配置信息")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"templateMain"},[a("ul",[a("li",[a("span",[t._v("模板名称：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.templateName,expression:"templateName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入模板名称(最大长度不可超过10个字符)",maxlength:"10"},domProps:{value:t.templateName},on:{input:function(e){e.target.composing||(t.templateName=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"nameTips"}})]),t._v(" "),a("li",{staticStyle:{"margin-top":"40px"}},[a("span",[t._v("模板描述：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.remark,expression:"remark",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入模板描述（最大长度不可超过20个字符）",maxlength:"20"},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("span",{staticStyle:{color:"red"},attrs:{id:"remarkTips"}})]),t._v(" "),a("li",{staticStyle:{"margin-top":"40px"}},[a("span",[t._v("MySQL版本号：")]),t._v(" "),a("el-select",{staticStyle:{"margin-left":"-5px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:t.paramDefaultInfo},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.optionsMySql,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))],1)])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",[t._l(t.tepDfList,function(e,s){return a("tr",[a("th",{staticStyle:{"padding-top":"18px"}},[t._v("\n          "+t._s(e.parameter_name)+"\n        ")]),t._v(" "),a("th",{staticStyle:{"padding-top":"18px"}},[t._v(t._s(t._f("toParameText")(e.need_restart)))]),t._v(" "),a("th",{staticStyle:{"padding-top":"18px"}},[t._v(t._s(e.parameter_default))]),t._v(" "),t.isUpParam!=s?a("th",{staticStyle:{"padding-top":"18px"}},[t._v(t._s(e.parameter_value))]):t._e(),t._v(" "),t.isUpParam==s?a("th",{staticStyle:{"padding-top":"18px"}},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:e.parameter_value,expression:"parames.parameter_value",modifiers:{trim:!0}}],staticStyle:{background:"none",width:"60%",border:"1px solid #3782B6"},attrs:{type:"text",id:s},domProps:{value:e.parameter_value},on:{input:function(a){a.target.composing||t.$set(e,"parameter_value",a.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]):t._e(),t._v(" "),a("th",{staticStyle:{"padding-top":"18px"},attrs:{title:e.parameter_range}},[t._v(t._s(t._f("toParameRange")(e.parameter_range))+"\n        ")]),t._v(" "),a("th",{staticStyle:{"padding-top":"18px"}},[t.isUpParam!=s?a("a",{on:{click:function(a){t.upParam(s,e.parameter_value)}}},[t._v("修改")]):t._e(),t._v(" "),t.isUpParam==s?a("a",{staticStyle:{color:"#BD1F4A"},on:{click:function(a){e.parameter_value=t.upParamValue,t.isUpParam=-1}}},[t._v("取消")]):t._e()])])}),t._v(" "),""==t.tepDfList?a("tr",[a("th",{staticStyle:{"font-weight":"bold","font-size":"22px","text-align":"center"},attrs:{colspan:"6"}},[t._v("暂无参数信息")])]):t._e()],2)])]),t._v(" "),a("div",{staticClass:"parFooter"},[a("ul",[a("li",{on:{click:function(e){t.getAddTemplate()}}},[a("a",{staticStyle:{color:"white"}},[t._v("保存")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("参数信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("重启")]),t._v(" "),a("th",[t._v("参数默认值")]),t._v(" "),a("th",[t._v("参数值")]),t._v(" "),a("th",[t._v("参数可修改值")]),t._v(" "),a("th",[t._v("操作")])])])}]};var Ne=function(t){a("4c6V")},Le=a("VU/8")(Se.a,Ae,!1,Ne,null,null).exports,Me={data:function(){return{account_name:"",account_password:""}},mounted:function(){},destroyed:function(){location.reload()},methods:{login:function(){this.params_check();var t={account_name:this.account_name,account_password:this.account_password};this.$http.post("/acmeCloud/login",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?window.location.href="/info/hostList":(returnMsg.innerHTML=e.msg,returnMsg.style.color="#F15533")},function(t){})},register:function(){this.$router.push({path:"/register"})},params_check:function(){return""==this.account_name?(alert("username is empty"),!1):""!=this.account_password||(alert("user password is empty"),!1)}}},Te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"loginMian"},[a("div",{staticClass:"nameTitle"},[t._v("\n      Arkcontrol\n    ")]),t._v(" "),a("div",{staticClass:"smallTitle"},[t._v("\n      数 据 库 管 理 平 台\n    ")]),t._v(" "),a("div",{staticClass:"goRigister"},[a("p",{staticStyle:{"font-size":"14px",float:"right"}},[t._v("暂无账号，马上\n        "),a("router-link",{attrs:{to:"/register"}},[t._v("注册")])],1)]),t._v(" "),a("div",{staticClass:"loginTitle"},[t._v("\n      登录\n    ")]),t._v(" "),a("div",{staticClass:"loginCon"},[a("div",{staticClass:"conName"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account_name,expression:"account_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"用户名","aria-describedby":"basic-addon1"},domProps:{value:t.account_name},on:{input:function(e){e.target.composing||(t.account_name=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"conPassword"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account_password,expression:"account_password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码","aria-describedby":"basic-addon1"},domProps:{value:t.account_password},on:{input:function(e){e.target.composing||(t.account_password=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"conLogin"},[a("button",{on:{click:function(e){t.login()}}},[t._v("登录")])]),t._v(" "),a("div",{attrs:{id:"returnMsg"}})])]),t._v(" "),a("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon1"}},[e("span",{staticClass:"glyphicon glyphicon-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon2"}},[e("span",{staticClass:"glyphicon glyphicon-lock"})])}]};var Ee=a("VU/8")(Me,Te,!1,function(t){a("TxiT")},null,null).exports,Ie={data:function(){return{account_host_tips:"",account_host:"",es_account:"",esaccount_tips:"",espassword_tips:"",esport_tips:"",esaccount:"",espassword:"",password_tips:"",account_tips:"",ip_tips:"",port_tips:"",rootname_tips:"",rootpaseeword_tips:"",button_type:1,button:"",times:5,percent:0,mask_show:!1,userAaaount:"",agent:"",escheck:"5",esport:"",es:"3",radio:"1",name:"",account:"",password:"",ip:"",port:"",rootName:"",rootpaseeword:""}},mounted:function(){this.check_resource()},methods:{check_es:function(){if(""==this.account_host&&(this.account_host_tips="主机不能为空！"),""==this.esport&&(this.esport_tips="端口不能为空！"),6==this.escheck){if(""==this.espassword&&(this.espassword_tips="密码不能为空！"),""==this.esaccount&&(this.esaccount_tips="账号不能为空！"),this.account_host&&this.esport&&this.espassword&&this.esaccount){var t={es_ip:this.account_host,es_port:parseInt(this.esport),es_user:this.esaccount,es_pass:this.espassword};this.$http.post("/acmeCloud/checkES?",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?alert("connect ES test succuss！"):alert(e.msg)})}}else if(this.account_host&&this.esport){t={es_ip:this.account_host,es_port:parseInt(this.esport),db_user:"",db_pass:""};this.$http.post("/acmeCloud/checkES?",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?alert("connect ES test succuss！"):alert(e.msg)})}},check_mysql:function(){if(""==this.port&&(this.port_tips="端口不能为空！"),""==this.ip&&(this.ip_tips="IP不能为空！"),""==this.account&&(this.account_tips="账号不能为空！"),""==this.password&&(this.password_tips="密码不能为空！"),this.port&&this.ip&&this.account&&this.password){var t={db_ip:this.ip,db_port:parseInt(this.port),db_user:this.account,db_pass:this.password};this.$http.post("/acmeCloud/checkMySQL?",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?alert("test succuss！"):alert(e.msg)})}},down_load:function(){this.button=1},check_resource:function(){this.$http.get("/acmeCloud/checkResource").then(function(t){var e=t.body;0==e.status&&0!=e.data&&(this.button_type=0)})},submit_form:function(){var t=this;this.mask_show=!0;var e=setInterval(function(){if(t.percent<=100)t.draw(t.percent++);else{clearInterval(e);var a=setInterval(function(){t.times--,0==t.times&&(clearInterval(a),t.times=0,t.$router.replace({path:"/login"}))},1e3)}},100)},draw:function(t){var e=[t];this.$echarts.init(document.getElementById("mask")).setOption({title:{text:"完成度",show:!1},xAxis:{show:!1},yAxis:[{show:!1,data:[]},{show:!1,data:[]}],series:[{name:"条",type:"bar",yAxisIndex:0,data:e,barWidth:30,itemStyle:{normal:{color:"#18a1c1"}},label:{normal:{show:!0,position:"inside",formatter:"{c}%"}}},{name:"框",type:"bar",yAxisIndex:1,barGap:"-100%",data:[100],barWidth:40,itemStyle:{normal:{color:"none",borderColor:"#18a1c1",borderWidth:5,barBorderRadius:5}}}]})}}},$e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"download"},[a("div",{staticClass:"down_wrap"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"marginTopBox BoxShadow"},[t._m(2),t._v(" "),0==t.button_type?a("button",{staticClass:"blue-btn marginTopBox",staticStyle:{border:"0",outline:"none",margin:"20px auto 0",display:"block",cursor:"not-allowed"},attrs:{type:"button"}},[t._v("下载安装包")]):t._e(),t._v(" "),1==t.button_type?a("button",{staticClass:"blue-btn marginTopBox",staticStyle:{border:"0",outline:"none",margin:"20px auto 0",display:"block"},on:{click:function(e){t.down_load()}}},[t._v("\n        下载依赖包")]):t._e()]),t._v(" "),1==t.button?a("div",{staticClass:"common_title_blue_bg marginTopBox"},[a("p",{staticClass:"common_title_size"},[t._v("配置库")])]):t._e(),t._v(" "),1==t.button?a("div",{staticClass:"marginTopBox BoxShadow"},[a("table",{staticClass:"down-content",staticStyle:{width:"100%"}},[a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("MySQL:")]),t._v(" "),a("th",[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("搭建数据库（推荐）")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("已有数据库(5.7+)")])],1)]),t._v(" "),2==t.radio?a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("账号:")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1),t._v(" "),a("th",{staticClass:"red-tips"},[t._v("\n            "+t._s(t.account_tips)+"\n          ")])]):t._e(),t._v(" "),2==t.radio?a("tr",[a("th",[t._v("密码:")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"请输入内容",type:"password",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("th",{staticClass:"red-tips"},[t._v("\n            "+t._s(t.password_tips)+"\n          ")])]):t._e(),t._v(" "),2==t.radio?a("tr",[a("th",[t._v("IP:")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.ip,callback:function(e){t.ip=e},expression:"ip"}})],1),t._v(" "),a("th",{staticClass:"red-tips"},[t._v("\n            "+t._s(t.ip_tips)+"\n          ")])]):t._e(),t._v(" "),a("tr",[a("th",[t._v("端口:")]),t._v(" "),a("th",[a("el-input",{attrs:{type:"number",placeholder:"请输入内容",clearable:""},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}})],1),t._v(" "),a("th",{staticClass:"red-tips"},[t._v("\n            "+t._s(t.port_tips)+"\n          ")])]),t._v(" "),1==t.radio?a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("账号：")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.rootName,callback:function(e){t.rootName=e},expression:"rootName"}})],1),t._v(" "),a("th",{staticClass:"red-tips"},[t._v("\n            "+t._s(t.rootname_tips)+"\n          ")])]):t._e(),t._v(" "),1==t.radio?a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("密码：")]),t._v(" "),a("th",[a("el-input",{attrs:{type:"password",placeholder:"请输入内容",clearable:""},model:{value:t.rootpaseeword,callback:function(e){t.rootpaseeword=e},expression:"rootpaseeword"}})],1),t._v(" "),a("th",{staticClass:"red-tips"},[t._v("\n            "+t._s(t.rootpaseeword_tips)+"\n          ")])]):t._e()]),t._v(" "),2==t.radio?a("button",{staticClass:"blue-btn marginTopBox",staticStyle:{border:"0",outline:"none",margin:"20px auto 0",display:"block"},on:{click:function(e){t.check_mysql()}}},[t._v("\n        连接测试")]):t._e()]):t._e(),t._v(" "),1==t.button?a("div",{staticClass:"common_title_blue_bg marginTopBox"},[a("p",{staticClass:"common_title_size"},[t._v("ES配置")])]):t._e(),t._v(" "),1==t.button?a("div",{staticClass:"marginTopBox BoxShadow"},[a("table",{staticClass:"down-content",staticStyle:{width:"100%"}},[a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("ES:")]),t._v(" "),a("th",[a("el-radio",{attrs:{label:"3"},model:{value:t.es,callback:function(e){t.es=e},expression:"es"}},[t._v("搭建ES（推荐）")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.es,callback:function(e){t.es=e},expression:"es"}},[t._v("已有ES(5.6+)")])],1)]),t._v(" "),4==t.es?a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("主机:")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.account_host,callback:function(e){t.account_host=e},expression:"account_host"}})],1),t._v(" "),a("th",{directives:[{name:"show",rawName:"v-show",value:!t.account_host,expression:"!account_host"}],staticClass:"red-tips"},[t._v("\n            "+t._s(t.account_host_tips)+"\n          ")])]):t._e(),t._v(" "),4==t.es?a("tr",[a("th",[t._v("权限认证:")]),t._v(" "),a("th",[a("el-radio",{attrs:{label:"5"},model:{value:t.escheck,callback:function(e){t.escheck=e},expression:"escheck"}},[t._v("否")]),t._v(" "),a("el-radio",{attrs:{label:"6"},model:{value:t.escheck,callback:function(e){t.escheck=e},expression:"escheck"}},[t._v("是")])],1)]):t._e(),t._v(" "),4==t.es?a("tr",{directives:[{name:"show",rawName:"v-show",value:6==t.escheck,expression:"escheck==6"}]},[a("th",[t._v("账号:")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.esaccount,callback:function(e){t.esaccount=e},expression:"esaccount"}})],1),t._v(" "),a("th",{directives:[{name:"show",rawName:"v-show",value:!t.esaccount,expression:"!esaccount"}],staticClass:"red-tips"},[t._v("\n            "+t._s(t.esaccount_tips)+"\n          ")])]):t._e(),t._v(" "),4==t.es?a("tr",{directives:[{name:"show",rawName:"v-show",value:6==t.escheck,expression:"escheck==6"}]},[a("th",[t._v("密码:")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.espassword,callback:function(e){t.espassword=e},expression:"espassword"}})],1),t._v(" "),a("th",{directives:[{name:"show",rawName:"v-show",value:!t.espassword,expression:"!espassword"}],staticClass:"red-tips"},[t._v("\n            "+t._s(t.espassword_tips)+"\n          ")])]):t._e(),t._v(" "),a("tr",[a("th",[t._v("端口:")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"请输入内容",type:"number",maxlength:"4",clearable:""},model:{value:t.esport,callback:function(e){t.esport=e},expression:"esport"}})],1),t._v(" "),a("th",{directives:[{name:"show",rawName:"v-show",value:!t.esport,expression:"!esport"}],staticClass:"red-tips"},[t._v(t._s(t.esport_tips))])])]),t._v(" "),4==t.es?a("button",{staticClass:"blue-btn marginTopBox",staticStyle:{border:"0",outline:"none",margin:"20px auto 0",display:"block"},on:{click:function(e){t.check_es()}}},[t._v("连接测试")]):t._e(),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0","margin-top":"15px"}},[t._v("Arkcontrol数据采集存储依赖ES")])]):t._e(),t._v(" "),1==t.button?a("div",{staticClass:"common_title_blue_bg marginTopBox"},[a("p",{staticClass:"common_title_size"},[t._v("AGENT安装路径")])]):t._e(),t._v(" "),1==t.button?a("div",{staticClass:"marginTopBox BoxShadow"},[a("table",{staticClass:"down-content",staticStyle:{width:"100%"}},[a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("Agent安装路径：")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"安装包路径 默认:/data/ark",clearable:""},model:{value:t.agent,callback:function(e){t.agent=e},expression:"agent"}})],1)])]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0","margin-top":"15px"}},[t._v("Agent所有依赖的安装包统一存放的路径。")]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0"}},[t._v("安装包：MySQL RPM包、Agent代码包、PT工具包、其他依赖包")])]):t._e(),t._v(" "),1==t.button?a("div",{staticClass:"common_title_blue_bg marginTopBox"},[a("p",{staticClass:"common_title_size"},[t._v("远程账号")])]):t._e(),t._v(" "),1==t.button?a("div",{staticClass:"marginTopBox BoxShadow"},[a("table",{staticClass:"down-content",staticStyle:{width:"100%"}},[a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("账号：")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"ArkControl访问MySQL的账号",clearable:""},model:{value:t.userAaaount,callback:function(e){t.userAaaount=e},expression:"userAaaount"}})],1)]),t._v(" "),a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("密码：")]),t._v(" "),a("th",[a("el-input",{attrs:{placeholder:"MySQL密码",clearable:""},model:{value:t.userAaaount,callback:function(e){t.userAaaount=e},expression:"userAaaount"}})],1)])]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0","margin-top":"15px"}},[t._v("MySQL的账号信息，用于产品与Agent收集数据使用。")]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0"}},[t._v("备注:")]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0"}},[t._v("1. 统一账号")]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0"}},[t._v("2. IP范围：本地和Arkcontrol产品部署的机器IP")]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0","margin-top":"15px"}},[t._v("例如:")]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0"}},[t._v("GRANT ALL PRIVILEGE ON *.* TO 'arkcontrol'@'127.0.0.1' IDENTIFIED BY 'arkcontrol';")]),t._v(" "),a("p",{staticStyle:{color:"#9b9ea0"}},[t._v("GRANT ALL PRIVILEGE ON *.* TO 'arkcontrol'@'arkcontrol产品部署主机的IP' IDENTIFIED BY 'arkcontrol';")])]):t._e(),t._v(" "),1==t.button?a("p",{staticClass:"blue-btn ",staticStyle:{"text-align":"center",width:"80px",display:"block",margin:"30px auto 0"},on:{click:function(e){t.submit_form()}}},[t._v("提交")]):t._e()]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mask_show,expression:"mask_show"}],staticClass:"back-masking"},[a("div",{staticStyle:{width:"800px",height:"200px",margin:"220px auto 0"},attrs:{id:"mask"}}),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.percent>=100,expression:"percent>=100"}],staticStyle:{"text-align":"center",color:"#fff","font-size":"24px"}},[t._v(t._s(t.times)+"秒后自动跳转登录页面")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg",staticStyle:{height:"32px"}},[e("h3",{staticClass:"common_title",staticStyle:{"line-height":"32px"}},[this._v(" Arkcontrol部署")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("Arkcontrol产品介绍与依赖")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"down-content"},[a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("介绍:")]),t._v(" "),a("th",[t._v("Arkcontrol产品是极数云舟独立自研的一套全面解决MySQL日常运维和集群管理的自动化平台，它提供MySQL的集群管理、实例管理、监控备份、日常巡检、参数建议等等多种功能，同时可以提供对公有云数据库的API调用管理，可以帮助所有使用MySQL的企业提升工作效率，降低故障时间，提升数据安全。")])]),t._v(" "),a("tr",[a("th",{staticStyle:{width:"16%"}},[t._v("依赖工具包:")]),t._v(" "),a("th",[t._v("\n            1、MySQL数据库，用于存储相关资源信息、配置数据、巡检数据、慢查询等数据。"),a("br"),t._v("\n            2、监控数据存储（ES），用于监控相关数据库存储。"),a("br"),t._v("\n            3、其他工具，用于备份、分析、以及产品依赖的其他相关工具包\n          ")])])])}]};var Pe=a("VU/8")(Ie,$e,!1,function(t){a("ro/C")},null,null).exports,Ue={data:function(){return{account_name:"",account_password:"",tel:"",email:"",is_login:2}},mounted:function(){},methods:{blurFn:function(){var t=document.getElementsByTagName("input");t[0].onblur=function(){""==t[0].value?(ts0.innerHTML="内容不能为空",ts0.style.color="#F15533"):/^[\da-zA-Z_\u4e00-\u9f5a]{3,16}$/.test(t[0].value)?(ts0.innerHTML="",ts0.style.color="green"):(ts0.innerHTML="格式错误",ts0.style.color="#F15533",t[0].value="")},t[1].onblur=function(){""==t[1].value?(ts1.innerHTML="内容不能为空",ts1.style.color="#F15533"):/^([\w\.\_]|[\u4e00-\u9fa5]){6,15}$/.test(t[1].value)?(ts1.innerHTML="",ts1.style.color="green"):(ts1.innerHTML="格式错误",ts1.style.color="#F15533",t[1].value="")},t[2].onblur=function(){""==t[2].value?(ts2.innerHTML="内容不能为空",ts2.style.color="#F15533"):t[2].value==t[1].value?(ts2.innerHTML="",ts2.style.color="green"):(ts2.innerHTML="密码需保持一致",ts2.style.color="#F15533",t[2].value="")},t[3].onblur=function(){""==t[3].value?(ts3.innerHTML="内容不能为空",ts3.style.color="#F15533"):/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t[3].value)?(ts3.innerHTML="",ts3.style.color="green"):(ts3.innerHTML="格式错误",ts3.style.color="#F15533",t[3].value="")},t[4].onblur=function(){""==t[4].value?(ts4.innerHTML="内容不能为空",ts4.style.color="#F15533"):/^[01]\d{10}$/.test(t[4].value)?(ts4.innerHTML="",ts4.style.color="green"):(ts4.innerHTML="格式错误",ts4.style.color="#F15533",t[4].value="")}},register:function(){var t=document.getElementsByTagName("input");if(""==t[0].value||""==t[1].value||""==t[2].value||""==t[3].value||""==t[4].value)return ts5.innerHTML="请完善您的注册信息",void(ts5.style.color="#F15533");ts5.innerHTML="";var e={account_name:this.account_name,account_password:this.account_password,tel:this.tel,email:this.email};this.$http.post("/acmeCloud/register",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?window.location.href="/login":alert(e.msg)},function(t){})},returnHome:function(){window.location.href="/"}}},ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("div",{staticClass:"registerMain"},[a("div",{staticClass:"nameTitle"},[t._v("\n      Arkcontrol\n    ")]),t._v(" "),a("div",{staticClass:"smallTitle"},[t._v("\n      数 据 库 管 理 平 台\n    ")]),t._v(" "),a("div",{staticClass:"goLogin"},[a("p",{staticStyle:{"font-size":"14px",float:"right"}},[t._v("已有账号，马上\n        "),a("router-link",{attrs:{to:"/login"}},[t._v("登陆")])],1)]),t._v(" "),a("div",{staticClass:"registerTitle"},[t._v("\n      注册\n    ")]),t._v(" "),a("div",{staticClass:"registerCon"},[a("div",{staticClass:"regName"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account_name,expression:"account_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"3~16位字符,包含中文,数字,字母","aria-describedby":"basic-addon1"},domProps:{value:t.account_name},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.account_name=e.target.value)}}})])]),t._v(" "),a("div",{attrs:{id:"ts0"}})]),t._v(" "),a("div",{staticClass:"registerPas"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account_password,expression:"account_password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码6~15位，只支持字母、数字、小数点","aria-describedby":"basic-addon1"},domProps:{value:t.account_password},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.account_password=e.target.value)}}})])]),t._v(" "),a("div",{attrs:{id:"ts1"}})]),t._v(" "),a("div",{staticClass:"againPas"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(2),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"确认密码,两次密码请保持一致","aria-describedby":"basic-addon1"},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)}}})])]),t._v(" "),a("div",{attrs:{id:"ts2"}})]),t._v(" "),a("div",{staticClass:"regEmail"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(3),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入邮箱","aria-describedby":"basic-addon1"},domProps:{value:t.email},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),a("div",{attrs:{id:"ts3"}})]),t._v(" "),a("div",{staticClass:"regTel"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(4),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入手机号","aria-describedby":"basic-addon1"},domProps:{value:t.tel},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.tel=e.target.value)}}})])]),t._v(" "),a("div",{attrs:{id:"ts4"}})]),t._v(" "),a("div",{staticClass:"registerBtn"},[a("input",{staticClass:"zhuce",attrs:{type:"button",value:"注册"},on:{click:function(e){t.register()}}}),t._v(" "),a("div",{attrs:{id:"ts5"}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon1"}},[e("span",{staticClass:"glyphicon glyphicon-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon2"}},[e("span",{staticClass:"glyphicon glyphicon-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon3"}},[e("span",{staticClass:"glyphicon glyphicon-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon4"}},[e("span",{staticClass:"glyphicon glyphicon-envelope"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon",attrs:{id:"basic-addon5"}},[e("span",{staticClass:"glyphicon glyphicon-phone"})])}]};var Re=a("VU/8")(Ue,ze,!1,function(t){a("8EU1")},null,null).exports,De=a("MhIW"),qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"configlist common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("MySQL管理")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:{path:"instancelist"}}},[t._v("实例列表")])],1),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" >")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("实例详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"hostdetailsMain"},[a("table",[a("tr",{staticStyle:{"line-height":"50px"}},[a("th",{staticStyle:{color:"#797777","font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("实例名称：")]),t._v(t._s(t.tablist.instance_name))]),t._v(" "),a("th",[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("端口号：")]),t._v(t._s(t.tablist.instance_port))])]),t._v(" "),a("tr",{staticStyle:{"line-height":"50px"}},[a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("集群名称：")]),t._v(t._s(t.tablist.cluster_name))]),t._v(" "),a("th",{staticStyle:{width:"31%","font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("角色： ")]),t._v(t._s(t.tablist.instance_role)+"\n        ")]),t._v(" "),a("th",[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("状态：")]),t._v(" "),0==t.tablist.instance_flag?a("span",{staticStyle:{color:"red"}},[t._v("无访问权限")]):1==t.tablist.instance_flag?a("span",{staticStyle:{color:"green"}},[t._v("正常服务")]):a("span",{staticStyle:{color:"green"}},[t._v("无服务")])])]),t._v(" "),a("tr",{staticStyle:{"line-height":"50px"}},[a("td",[a("span",{staticStyle:{color:"#000"}},[t._v("数据库版本：")]),t._v(t._s(t.tablist.mysql_version))]),t._v(" "),a("td",{staticStyle:{width:"31%"}},[a("p",{staticStyle:{color:"#000"}},[t._v("数据库类型：\n        "),0==t.tablist.server_type?a("span",{staticStyle:{color:"#797777"}},[t._v("Master-slave")]):13==t.tablist.server_type?a("span",{staticStyle:{color:"#797777"}},[t._v(" MySQL-Galera")]):14==t.tablist.server_type?a("span",{staticStyle:{color:"#797777"}},[t._v(" MySQL-(单点)")]):t._e()])])]),t._v(" "),a("tr",{staticStyle:{"vertical-align":"middle"}},[a("td",[a("span",{staticStyle:{color:"#000"}},[t._v("主机名称：")]),t._v(t._s(t.tablist.host_name)+"\n        ")]),t._v(" "),a("td",{staticStyle:{width:"50%"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("span",{staticStyle:{"line-height":"30px",color:"#000"}},[t._v("备注：")]),t._v(" "),a("div",{staticClass:"remark-word",staticStyle:{color:"#18A1C1",display:"flex","line-height":"30px"}},[t._v("\n          "+t._s(t.tablist.remark)+"\n          "),t.remark_change?t._e():a("div",{staticClass:"change_remark_input"},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.change_remark_instance,expression:"change_remark_instance",modifiers:{trim:!0}}],attrs:{placeholder:"修改备注"},domProps:{value:t.change_remark_instance},on:{input:function(e){e.target.composing||(t.change_remark_instance=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),t.remark_change?t._e():a("div",{staticStyle:{padding:"5px 20px"}},[a("p",{staticClass:"blue-btn",staticStyle:{padding:"0 12px"},on:{click:function(e){t.remark_modify(3)}}},[t._v("确认")]),t._v(" "),a("p",{staticClass:"blue-btn",staticStyle:{padding:"0 12px"},on:{click:function(e){t.remark_modify(2)}}},[t._v("取消")])])]),t._v(" "),a("span",{staticClass:"remark-right",staticStyle:{"margin-left":"15px"}},[t.remark_change?a("span",{staticClass:"blue-btn",on:{click:function(e){t.change_remark()}}},[t._v("修改")]):t._e()])])])])])]),t._v(" "),t._m(1),t._v(" "),a("ul",{staticClass:"nav nav-tabs common_ul ul-active marginTopBox"},[a("li",{class:t.connect_active},[a("a",{attrs:{href:"#connect","data-toggle":"tab"},on:{click:function(e){t.mangement("session")}}},[t._v("连接管理")])]),t._v(" "),a("li",{class:t.account_active},[a("a",{attrs:{href:"#accont","data-toggle":"tab"}},[t._v("账号管理")])]),t._v(" "),a("li",{class:t.innodb_active},[a("a",{attrs:{href:"#innodb","data-toggle":"tab"}},[t._v("INNODB-STATUS")])]),t._v(" "),a("li",{class:t.lock_active},[a("a",{attrs:{href:"#lock","data-toggle":"tab"}},[t._v("死锁信息")])])]),t._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane tab-content-item",class:t.connect_active,attrs:{id:"connect"}},[a("table",{staticClass:"table-responsive table common_table_wrap"},[t._m(2),t._v(" "),a("tbody",[0==t.userdetail.length?a("tr",{staticClass:"tab-line"},[a("td",{staticStyle:{"font-size":"22px","font-weight":"bold","text-align":"center","line-height":"30px"},attrs:{colspan:"3"}},[t._v("暂无连接数据")])]):t._e(),t._v(" "),t._l(t.userdetail,function(e){return a("tr",{staticClass:"tab-line"},[a("td",{staticClass:"connect"},[t._v(t._s(e.user))]),t._v(" "),a("td",{staticClass:"connect"},[t._v(t._s(e.host))]),t._v(" "),a("td",{staticClass:"connect"},[t._v(t._s(e.connects))])])})],2)])]),t._v(" "),a("div",{staticClass:"tab-pane tab-content-item",class:t.account_active,attrs:{id:"accont"}},[a("table",{staticClass:"table-responsive table common_table_wrap"},[t._m(3),t._v(" "),a("tbody",[0==t.accontlist.length?a("tr",{staticClass:"tab-line"},[a("td",{staticStyle:{"font-size":"22px","font-weight":"bold","text-align":"center","line-height":"50px"},attrs:{colspan:"3"}},[t._v("暂无账号数据")])]):t._e(),t._v(" "),t._l(t.accontlist,function(e){return a("tr",{staticClass:"tab-line"},[a("td",{staticClass:"tab-item"},[t._v(t._s(e.user))]),t._v(" "),a("td",{staticClass:"tab-item"},[t._v(t._s(e.ips[0]))]),t._v(" "),a("td",{staticClass:"tab-item"},[a("ul",t._l(e.privileges,function(e,s){return a("li",{staticClass:"item_li"},[t._v("\n                  "+t._s(e)+"\n                ")])}))])])})],2)])]),t._v(" "),a("div",{staticClass:"tab-pane tab-content-item",class:t.innodb_active,attrs:{id:"innodb"}},[a("table",{staticClass:"table-responsive table common_table_wrap"},[a("tbody",[0==t.innodblist.length?a("tr",{staticClass:"tab-line",staticStyle:{background:"none"}},[a("td",{staticStyle:{"font-size":"26px","font-weight":"bold","text-align":"center","line-height":"50px"},attrs:{colspan:"3"}},[t._v("暂无INNODB-STATUS数据")])]):t._e(),t._v(" "),a("tr",{staticClass:"innodblist_content",staticStyle:{background:"none"}},t._l(t.innodblist,function(e){return a("p",{staticClass:"innodb-content"},[t._v("\n                "+t._s(e)+"\n              ")])}))])])]),t._v(" "),a("div",{staticClass:"tab-pane tab-content-item",class:t.lock_active,attrs:{id:"lock"}},[a("table",{staticClass:"table-responsive table common_table_wrap"},[a("tbody",[0==t.locklist.length?a("tr",{staticClass:"tab-line",staticStyle:{background:"none"}},[a("td",{staticStyle:{"font-size":"26px","font-weight":"bold","text-align":"center","line-height":"50px"},attrs:{colspan:"3"}},[t._v("暂无死锁数据")])]):a("tr",{staticClass:"tab-line",staticStyle:{background:"none"}},t._l(t.locklist,function(e){return a("p",{staticClass:"innodb-content"},[t._v("\n              "+t._s(e)+"\n            ")])}))])])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show_alert,expression:"show_alert"}],staticClass:"alert toast-alert alert-info",attrs:{role:"alert"}},[t._v("\n    "+t._s(t.change_result)+"\n  ")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基础信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("基础信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticClass:"tab-line"},[e("td",{staticClass:"connect"},[this._v("用户")]),this._v(" "),e("td",{staticClass:"connect"},[this._v("主机")]),this._v(" "),e("td",{staticClass:"connect"},[this._v("连接数")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticClass:"tab-line"},[e("td",{staticClass:"tab-item"},[this._v("MYSQL实例用户")]),this._v(" "),e("td",{staticClass:"tab-item"},[this._v("ip地址")]),this._v(" "),e("td",{staticClass:"tab-item"},[this._v(" 权限信息")])])])}]};var Be=function(t){a("f8UV")},Qe=a("VU/8")(De.a,qe,!1,Be,null,null).exports,je={data:function(){return{log_info:"",currentPage_set:1,pageSize_set:10,backup_info:[],currentPage:1,pageSize:10,backup_log:[],last:0,get_backup_colony_list:[{set_dir:"",show:""}]}},mounted:function(){this.get_info(),this.get_backupset(),this.get_backup_colony(),this.get_log()},methods:{get_log:function(){this.$http.get("/acmeCloud/backup/loginfo?cluster_name="+this.$route.query.name).then(function(t){var e=t.body;0==e.status&&""!=e.data&&(this.log_info=e.data)})},get_info:function(){this.$http.get("/acmeCloud/backup/info?clusterName="+this.$route.query.name).then(function(t){var e=t.body;0==e.status&&(this.backup_info=e.data)})},check_log:function(t){var e=this.backup_log[this.last];e.show=!1;var a=this.backup_log[t];this.last=t,a.show=!0,s.default.set(this.backup_log,0,e),s.default.set(this.backup_log,t,a)},get_backupset:function(){},get_backup_colony:function(){this.$http.get("/acmeCloud/backup/backupset?clusterName="+this.$route.query.name+"&currentPage="+this.currentPage_set+"&pageSize="+this.pageSize_set).then(function(t){var e=t.body;0==e.status&&e.data&&(this.get_backup_colony_list=e.data)})}}},Fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"backupDetail common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("备份中心")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:{path:"backupList"}}},[t._v("备份列表")])],1),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" >")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("备份详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"hostdetailsMain"},[a("table",[a("tr",{staticStyle:{"line-height":"40px"}},[a("th",[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("集群名：")]),t._v(t._s(t.backup_info.cluster_name))]),t._v(" "),a("th",[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("主机名：")]),t._v(t._s(t.backup_info.hostname))]),t._v(" "),a("th",[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("实例地址：")]),t._v(t._s(t.backup_info.ip))])]),t._v(" "),a("tr",{staticStyle:{"line-height":"40px"}},[a("th",{staticStyle:{width:"31%"}},[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("是否压缩：")]),t._v(" "),0==t.backup_info.is_tar?a("span",[t._v("压缩")]):a("span",[t._v("不压缩")])]),t._v(" "),a("th",[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("端口号：")]),t._v(t._s(t.backup_info.port))]),t._v(" "),a("td",[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("备份机器：")]),t._v(t._s(t.backup_info.backup_machine))])]),t._v(" "),a("tr",{staticStyle:{"line-height":"40px"}},[a("td",[a("span",{staticStyle:{color:"#000"}},[t._v("传输速度：")]),t._v(t._s(t.backup_info.trans_limit))]),t._v(" "),a("td",[a("span",{staticStyle:{color:"#000"}},[t._v("备份状态：")]),t._v(" "),1==t.backup_info.is_success?a("span",[t._v(" 正在运行")]):2==t.backup_info.is_success?a("span",[t._v(" 已完成")]):3==t.backup_info.is_success?a("span",{staticStyle:{color:"green"}},[t._v("成功")]):4==t.backup_info.is_success?a("span",{staticStyle:{color:"red"}},[t._v("失败")]):a("span",[t._v("未开始")])]),t._v(" "),a("td",[a("span",{staticStyle:{color:"#000"}},[t._v("下次备份时间：")]),t._v(t._s(t.backup_info.next_backup_date))])])]),t._v(" "),1==t.backup_info.is_online?a("div",{staticClass:"online"},[t._v("\n      在线"),a("span",{staticClass:"spot"})]):a("div",{staticClass:"online",staticStyle:{color:"red"}},[t._v("\n      暂停中"),a("span",{staticClass:"red-spot"})])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},[null==t.get_backup_colony_list?a("tr",{staticStyle:{color:"#fff","text-align":"center"}},[a("td",{staticStyle:{"font-weight":"bold","font-size":"20px",color:"#333"},attrs:{colspan:"6"}},[t._v("暂无备份集")])]):t._l(t.get_backup_colony_list,function(e){return a("tr",[a("td",[t._v(t._s(e.set_machine))]),a("td",{staticClass:"name_show"},[t._v(" "+t._s(e.set_name))]),t._v(" "),a("td",[t._v(t._s(e.backup_set_size))]),a("td",[t._v("\n        "+t._s(e.backup_set_date))]),a("td",[t._v(t._s(e.backup_time))]),t._v(" "),a("td",[0==e.is_tar?a("span",[t._v("未压缩")]):1==e.is_tar?a("span",[t._v("压缩中")]):2==e.is_tar?a("span",[t._v("压缩成功")]):a("span",[t._v("压缩失败")])])])})],2)])]),t._v(" "),t._m(3),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.log_info,expression:"log_info !=''"}],staticStyle:{"margin-top":"30px","background-color":"#E8F0F8",padding:"20px 0"}},t._l(t.log_info,function(e){return a("p",{staticStyle:{"line-height":"22px",margin:"0 auto"}},[t._v("\n      "+t._s(e.msg_info)+"\n    ")])})),t._v(" "),a("div")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("备份集")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("备份机器")]),t._v(" "),a("th",[t._v("备份名称")]),t._v(" "),a("th",[t._v("备份大小")]),t._v(" "),a("th",[t._v("备份集日期")]),t._v(" "),a("th",[t._v("备份时间")]),t._v(" "),a("th",[t._v("是否已压缩")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("备份日志")])])}]};var Ge=a("VU/8")(je,Fe,!1,function(t){a("22BG")},null,null).exports,Oe=a("tEEX"),Ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clusterinformation common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("MySQL管理")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:{path:"clusterlist"}}},[t._v("集群列表")])],1),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" >")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("集群详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap",staticStyle:{"margin-top":"30px"}},[a("table",{staticClass:"common_table table table-striped"},[a("tbody",{staticClass:"common_table_tr"},[t._m(1),t._v(" "),0==t.cluster_baseinfo.length?a("tr",[a("td",{staticStyle:{"font-weight":"bold","font-size":"24px","text-align":"center"},attrs:{colspan:"10"}},[t._v("集群暂无数据")])]):t._l(t.cluster_baseinfo,function(e){return a("tr",{key:e.instance_name},[a("th",[t._v("\n          "+t._s(e.server_type_alias)+"\n        ")]),t._v(" "),a("th",[t._v(t._s(e.instance_role))]),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"exampledetail",query:{name:e.instance_name,ip:e.host_ip,port:e.instance_port}}}},[t._v("\n          "+t._s(e.instance_name)+"\n        ")])],1),t._v(" "),a("th",[t._v(t._s(e.instance_port))]),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"hostdetails",query:{hostName:e.host_name}}}},[t._v("\n          "+t._s(e.host_name)+"\n        ")])],1),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"hostdetails",query:{hostName:e.host_name}}}},[t._v("\n            "+t._s(e.host_ip)+"\n          ")])],1),t._v(" "),"slave"==e.instance_role?a("th",[t._v(t._s(e.master_port)+"/"+t._s(e.master_host))]):a("th"),t._v(" "),a("th",[t._v(t._s(e.instance_bp_size/1024))]),t._v(" "),a("th",[t._v(t._s(e.mysql_version))])])})],2)])]),t._v(" "),a("ul",{staticClass:"nav nav-tabs common_ul",staticStyle:{height:"40px"}},[a("li",{class:t.show_cluster},[a("a",{attrs:{href:"#home","data-toggle":"tab"}},[t._v("\n      集群信息")])])]),t._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade",class:t.show_cluster,attrs:{id:"home"}},[a("table",{staticClass:"common_table common_table_wrap table table-striped"},[a("tbody",{staticClass:"common_table_tr"},[t._m(2),t._v(" "),a("tr",[a("th",{staticStyle:{width:"33.33%"}},[t._v("集群名称")]),t._v(" "),a("th",{staticStyle:{width:"33.33%"}},[a("div",[t.cluster_name_modify?t._e():a("span",[t._v("\n                  "+t._s(t.cluster_base_info.cluster_name)+"\n                ")]),t._v(" "),t.cluster_name_modify?a("span",[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.cluster_name_model,expression:"cluster_name_model",modifiers:{trim:!0}}],attrs:{placeholder:"请输入内容",clearable:""},domProps:{value:t.cluster_name_model},on:{input:function(e){e.target.composing||(t.cluster_name_model=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]):t._e()])]),t._v(" "),a("th",[a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.cluster_name_modify,expression:"!cluster_name_modify"}],staticClass:"blue-btn",on:{click:function(e){t.cluster_name_modify=!0}}},[t._v("\n                  修改\n                ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.cluster_name_modify,expression:"cluster_name_modify"}]},[a("p",{staticClass:"blue-btn",on:{click:function(e){t.cluster_name_modify=!1}}},[t._v("取消")]),t._v(" "),a("p",{staticClass:"blue-btn",on:{click:function(e){t.cluster_name_modify_sure()}}},[t._v("确定")])])])])]),t._v(" "),a("tr",[a("th",{staticStyle:{width:"33.33%"}},[t._v("集群等级")]),t._v(" "),t.backup_value?a("th",{staticStyle:{color:"#0EAA9C",width:"33.33%"}},[t.grade_show?a("div",[1==t.cluster_base_info.cluster_grade?a("span",[t._v("无需备份")]):2==t.cluster_base_info.cluster_grade?a("span",[t._v("不重要")]):3==t.cluster_base_info.cluster_grade?a("span",[t._v("普通")]):4==t.cluster_base_info.cluster_grade?a("span",[t._v("重要")]):5==t.cluster_base_info.cluster_grade?a("span",[t._v("非常重要")]):a("span",[t._v("未定义")])]):a("div",[t._v("\n                "+t._s(t.selected_value_text)+"\n              ")])]):a("th",{staticStyle:{width:"33.33%"}},[a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"left"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.selected_value,callback:function(e){t.selected_value=e},expression:"selected_value"}},t._l(t.select_options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),t.backup_value?a("th",{staticStyle:{width:"33.33%"},on:{click:function(e){t.change_backup()}}},[a("div",{staticClass:"blue-btn"},[t._v("\n                修改\n              ")])]):a("th",{staticStyle:{width:"33.33%"}},[a("div",{staticClass:"change_td_change"},[a("p",{staticClass:"blue-btn",on:{click:function(e){t.change_backup()}}},[t._v("取消")]),t._v(" "),a("p",{staticClass:"blue-btn",on:{click:function(e){t.grade_modify()}}},[t._v("确定")])])])]),t._v(" "),a("tr",[a("th",[t._v("备份周期")]),a("th",[a("div",[t._v("\n              "+t._s(t.cluster_base_info.backup_cycle)+"  天\n            ")])]),t._v(" "),a("th")]),t._v(" "),a("tr",[a("th",[t._v("集群类型")]),a("th",[t._v(t._s(t.cluster_base_info.cluster_type_format))]),t._v(" "),a("th")]),t._v(" "),t.cluster_base_info.monitor_host?a("tr",[a("th",[t._v("Monitor信息")]),a("th",[t._v(t._s(t.cluster_base_info.monitor_host))]),t._v(" "),a("th")]):t._e(),t._v(" "),a("tr",[a("th",[t._v("备份状态")]),a("th",{staticStyle:{color:"#b79990"}},[t._v(t._s(t.cluster_base_info.backup_status))]),t._v(" "),a("th")]),t._v(" "),a("tr",[a("th",[t._v("集群备注")]),t._v(" "),t.change_remark_value?a("th",[t._v("\n              "+t._s(t.cluster_base_info.remark)+"\n            ")]):a("th",[a("div",{staticClass:"change_td_change"},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model.trim",value:t.remark_info,expression:"remark_info",modifiers:{trim:!0}}],attrs:{placeholder:"请输入内容"},domProps:{value:t.remark_info},on:{input:function(e){e.target.composing||(t.remark_info=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("th",[t.change_remark_value?a("div",{staticClass:"blue-btn",on:{click:function(e){t.change_remark()}}},[t._v("\n                修改\n              ")]):a("div",[a("span",{staticClass:"blue-btn",on:{click:function(e){t.remark_modify()}}},[t._v("确定")]),t._v(" "),a("span",{staticClass:"blue-btn",on:{click:function(e){t.change_remark()}}},[t._v(" 取消")])])])])])])]),t._v(" "),a("div",{staticClass:"tab-pane fade",class:t.show_topo,staticStyle:{"text-align":"center","line-height":"40px","font-size":"22px","font-weight":"bold"},attrs:{id:"ios"}},[t._v("\n      暂无数据\n    ")])]),t._v(" "),a("div",{staticClass:"back-left"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show_alert,expression:"show_alert"}],staticClass:"alert toast-alert alert-info",staticStyle:{position:"fixed",left:"40%",top:"40%","z-index":"777"},attrs:{role:"alert"}},[t._v("\n    "+t._s(t.change_result)+"\n  ")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("集群信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("实例角色")]),t._v(" "),a("th",[t._v("实例名称")]),t._v(" "),a("th",[t._v("端口")]),t._v(" "),a("th",[t._v("主机名")]),t._v(" "),a("th",[t._v("主机IP")]),t._v(" "),a("th",[t._v("Master")]),t._v(" "),a("th",[t._v("BUFFER")]),t._v(" "),a("th",[t._v("版本")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{staticStyle:{width:"33.33%"}},[this._v("分类")]),this._v(" "),e("th",{staticStyle:{width:"33.33%"}},[this._v("信息")]),this._v(" "),e("th",{staticStyle:{width:"33.33%"}},[this._v("操作")])])}]};var Ye=function(t){a("RPfo")},Je=a("VU/8")(Oe.a,Ze,!1,Ye,null,null).exports,Ve={data:function(){return{backup_machine_mfs_dir_config_item:"",backup_machine_mfs_config_item:"",trans_limit_config_item:"",backup_bin_path_config_item:"",local_machine_path_config_item:"",local_backup_path_config_item:"",backup_path_config_item:"",mysql_path_config_item:"",handleRow_tips:"",handleRow_index:"",backup_machine_mfs_dir:"",backup_machine_mfs:"",trans_limit:"",backup_bin_path:"",local_machine_path:"",local_backup_path:"",backup_path:"",mysql_path:"",no_instcante_info:"",backup_err:!1,grade:"",type:"",radio:"1",radio2:3,radio3:6,select_instance_name:"",instance_list:[],value:"",config_list:[],backup_list:[],host_index:0,check_instance_name:[{instance_name:""}],instance_name:"",mysql_dir:0,msg:"0",tar:"1"}},mounted:function(){this.get_backup_config_info(),this.get_base_info(),this.time()},methods:{handleRow:function(t){this.handleRow_index=t},change_radio:function(t){this.radio3=t},time:function(){this.start_time=this.get_day(1)},get_base_info:function(){this.clustername=this.$route.query.clusterName,this.$http.get("/acmeCloud/MySQLCluster/baseinfo?clusterName="+this.$route.query.clusterName).then(function(t){var e=t.body;if(0==e.status)if(0!=e.data.length){this.instance_info=e.data,this.check_instance_name=this.instance_info;for(var a=[],s=0;s<e.data.length;s++){var i={};i.value=s,i.label=e.data[s].instance_name,a.push(i)}this.instance_list=a,this.value=e.data[0].instance_name,this.handleRow_index=0}else this.instance_list=[{value:"该集群没有实例数据，无法备份",label:"该集群没有实例数据，无法备份"}],this.no_instcante_info="该集群没有实例数据，无法备份"}),this.$http.get("/acmeCloud/MySQLCluster/clusterinfo?clusterName="+this.$route.query.clusterName).then(function(t){var e=t.body;0==e.status&&(this.grade=e.data.cluster_grade,this.type=e.data.cluster_type)})},get_backup_config_info:function(){var t=this;this.$http.get("/acmeCloud/backup/config/info").then(function(e){var a=e.body;0==a.status&&(a.data.map(function(t){t.tips=""}),a.data.forEach(function(e,a,s){"MySQL_CNF_PATH"==e.config_name&&(t.mysql_path=e,t.mysql_path_config_item=e.config_list[0]),"BACKUP_MACHINE"==e.config_name&&(t.backup_path=e,t.backup_path_config_item=e.config_list[0]),"LOCAL_BACKUP_DIR"==e.config_name&&(t.local_backup_path=e,t.local_backup_path_config_item=e.config_list[0]),"BACKUP_MACHINE_DIR"==e.config_name&&(t.local_machine_path=e,t.local_machine_path_config_item=e.config_list[0]),"BACKUP_BIN_DIR"==e.config_name&&(t.backup_bin_path=e,t.backup_bin_path_config_item=e.config_list[0]),"TRANS_LIMIT"==e.config_name&&(t.trans_limit=e,t.trans_limit_config_item=e.config_list[0]),"BACKUP_MACHINE_MFS"==e.config_name&&(t.backup_machine_mfs=e,t.backup_machine_mfs_config_item=e.config_list[0]),"BACKUP_MACHINE_MFS_DIR"==e.config_name&&(t.backup_machine_mfs_dir=e,t.backup_machine_mfs_dir_config_item=e.config_list[0])}))})},change_info:function(t,e){this.host_index=e,this.instance_name=t.instance_name},get_day:function(t){var e=new Date,a=(e.getHours(),e.getMinutes(),e.getSeconds(),e.getTime()+864e5*t);e.setTime(a);var s=e.getFullYear(),i=e.getMonth(),n=e.getDate();return s+"-"+(i=this.doHandleMonth(i+1))+"-"+(n=this.doHandleMonth(n))+" 00-00-00"},doHandleMonth:function(t){var e=t;return 1==t.toString().length&&(e="0"+t),e},seleect_mysql_path_chage:function(t){this.mysql_path.config_item=t},mysql_path_chage:function(t){},post_deploy:function(){var t=this;if(""!=this.handleRow_index||(this.handleRow_tips="实例名不能为空"),this.mysql_path_config_item||(this.mysql_path.tips="MySQL配置文件路径不能为空"),this.backup_path_config_item||(this.backup_path.tips="备份机机器地址不能为空"),this.local_backup_path_config_item||(this.local_backup_path.tips="本地备份存储临时目录不能为空"),this.local_machine_path_config_item||(this.local_machine_path.tips="备份机备份存储目录不能为空"),this.backup_bin_path_config_item||(this.backup_bin_path.tips="备份工具路径不能为空"),this.trans_limit_config_item||(this.trans_limit.tips="传输速度不能为空"),this.backup_machine_mfs_config_item||(this.backup_machine_mfs.tips="备份池机器地址不能为空"),this.backup_machine_mfs_dir_config_item||(this.backup_machine_mfs_dir.tips="备份池备份存储目录不能为空"),3==t.radio3)if(t.handleRow_index>=0){if(t.mysql_path_config_item&&t.backup_path_config_item&&t.local_backup_path_config_item&&t.local_machine_path_config_item&&t.local_machine_path_config_item&&t.backup_bin_path_config_item&&t.trans_limit_config_item){var e,a=(e={cluster_name:t.$route.query.clusterName,ip:t.check_instance_name[t.handleRow_index].host_ip,port:parseInt(t.check_instance_name[t.handleRow_index].instance_port),hostname:t.check_instance_name[t.handleRow_index].host_name,backup_type:"hot_full",cluster_grade:parseInt(t.grade),cluster_type:parseInt(t.type),backup_set_keep:parseInt(0),conf_dir:t.mysql_path_config_item,local_backup_info_dir:t.local_backup_path_config_item,backup_machine:t.backup_path_config_item,backup_dir:t.local_machine_path_config_item,tar_dir:"",mfs_flag:parseInt(1),mfs_machine:"",mfs_dir:"",next_backup_date:t.get_day(1),xtrabackup_bin_path:t.backup_bin_path_config_item,trans_limit:t.trans_limit_config_item},pe()(e,"mfs_machine",t.backup_machine_mfs_config_item),pe()(e,"mfs_dir",t.backup_machine_mfs_dir_config_item),e);t.$http.post("/acmeCloud/backup/deploy?",x()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?this.$router.replace({path:"backupDetail?name="+this.$route.query.clusterName}):this.backup_err=!0})}}else this.handleRow_tips="实例名不能为空";if(6==this.radio3)if(t.handleRow_index>=0){if(t.mysql_path_config_item&&t.mysql_path_config_item&&t.backup_path_config_item&&t.local_backup_path_config_item&&t.local_machine_path_config_item&&t.backup_bin_path_config_item&&t.trans_limit_config_item){a={cluster_name:this.$route.query.clusterName,ip:t.check_instance_name[t.handleRow_index].host_ip,port:parseInt(t.check_instance_name[t.handleRow_index].instance_port),hostname:t.check_instance_name[t.handleRow_index].host_name,backup_type:"hot_full",cluster_grade:parseInt(t.grade),cluster_type:parseInt(t.type),backup_set_keep:parseInt(0),conf_dir:t.mysql_path_config_item,local_backup_info_dir:t.local_backup_path_config_item,backup_machine:t.backup_path_config_item,backup_dir:t.local_machine_path_config_item,tar_dir:"",mfs_flag:parseInt(0),mfs_machine:"",mfs_dir:"",next_backup_date:t.get_day(1),xtrabackup_bin_path:t.backup_bin_path_config_item,trans_limit:t.trans_limit_config_item};t.$http.post("/acmeCloud/backup/deploy?",x()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status?t.$router.replace({path:"backupDetail?name="+this.$route.query.clusterName}):t.backup_err=!0})}}else this.handleRow_tips="实例名不能为空"}}},He={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modify common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("备份中心")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:{path:"backupList"}}},[t._v("备份列表")])],1),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" >")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("添加备份")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"deployCon"},[a("table",{staticClass:"table"},[a("tr",[a("td",{staticClass:"tdLeft"},[t._v("集群名：")]),t._v(" "),a("td",[a("p",[t._v(t._s(this.$route.query.clusterName))])])]),t._v(" "),a("tr",[a("td",{staticClass:"tdLeft"},[t._v("实例名：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:t.handleRow},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.instance_list,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.handleRow_tips)+t._s(t.no_instcante_info))])],1)]),t._v(" "),a("tr",[a("td",{staticClass:"tdLeft"},[t._v("备份类型：")]),t._v(" "),a("td",[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("全量备份")])],1)]),t._v(" "),a("tr",[a("td",[t._v("\n          备份工具：\n        ")]),t._v(" "),a("td",[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("innobackupex")])],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.mysql_path.config_name_alias)+"：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.mysql_path_config_item,callback:function(e){t.mysql_path_config_item=e},expression:"mysql_path_config_item"}},t._l(t.mysql_path.config_list,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("  "+t._s(t.mysql_path.tips))])],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.backup_path.config_name_alias)+"：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.backup_path_config_item,callback:function(e){t.backup_path_config_item=e},expression:"backup_path_config_item"}},t._l(t.backup_path.config_list,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.backup_path.tips))])],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.local_backup_path.config_name_alias)+"：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.local_backup_path_config_item,callback:function(e){t.local_backup_path_config_item=e},expression:"local_backup_path_config_item"}},t._l(t.local_backup_path.config_list,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.local_backup_path.tips))])],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.local_machine_path.config_name_alias)+"：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.local_machine_path_config_item,callback:function(e){t.local_machine_path_config_item=e},expression:"local_machine_path_config_item"}},t._l(t.local_machine_path.config_list,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.local_machine_path.tips))])],1)]),t._v(" "),a("tr",[a("td",[t._v("\n          "+t._s(t.backup_bin_path.config_name_alias)+"：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.backup_bin_path_config_item,callback:function(e){t.backup_bin_path_config_item=e},expression:"backup_bin_path_config_item"}},t._l(t.backup_bin_path.config_list,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.backup_bin_path.tips))])],1)]),t._v(" "),a("tr",[a("td",[t._v("\n          "+t._s(t.trans_limit.config_name_alias)+"：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.trans_limit_config_item,callback:function(e){t.trans_limit_config_item=e},expression:"trans_limit_config_item"}},t._l(t.trans_limit.config_list,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.trans_limit.tips))])],1)]),t._v(" "),a("tr",[a("td",{staticClass:"tdLeft"},[t._v("备份池：")]),t._v(" "),a("td",[a("el-radio-group",{on:{change:t.change_radio},model:{value:t.radio3,callback:function(e){t.radio3=e},expression:"radio3"}},[a("el-radio",{attrs:{label:3}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:6}},[t._v("否")])],1)],1)]),t._v(" "),3==t.radio3?a("tr",[a("td",[t._v("\n          "+t._s(t.backup_machine_mfs.config_name_alias)+"：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.backup_machine_mfs_config_item,callback:function(e){t.backup_machine_mfs_config_item=e},expression:"backup_machine_mfs_config_item"}},t._l(t.backup_machine_mfs.config_list,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.backup_machine_mfs.tips))])],1)]):t._e(),t._v(" "),3==t.radio3?a("tr",[a("td",[t._v("\n          "+t._s(t.backup_machine_mfs_dir.config_name_alias)+"：")]),t._v(" "),a("td",[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.backup_machine_mfs_dir_config_item,callback:function(e){t.backup_machine_mfs_dir_config_item=e},expression:"backup_machine_mfs_dir_config_item"}},t._l(t.backup_machine_mfs_dir.config_list,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.backup_machine_mfs_dir.tips))])],1)]):t._e()])]),t._v(" "),a("button",{staticClass:"btn",staticStyle:{"background-color":"#00a1c3",color:"#fff",margin:"0 auto",display:"block"},on:{click:function(e){t.post_deploy()}}},[t._v("\n    提交\n  ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.backup_err,expression:"backup_err"}]},[a("el-alert",{attrs:{title:"备份失败",type:"error","show-icon":""}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("添加备份")])])}]};var We=a("VU/8")(Ve,He,!1,function(t){a("ed2C")},null,null).exports,Xe={data:function(){return{displayNum:10,comment_list:[],none_data:[]}},mounted:function(){this.last_comment(),this.slow_query_num(),this.get_lastday_count(),this.last_day()},methods:{last_comment:function(){this.$http.get("/acmeCloud/slowQuery/lastcomment?displayNum="+this.displayNum).then(function(t){var e=t.body;0==e.status&&(this.comment_list=e.data)})},last_day:function(){this.$http.get("/acmeCloud/slowQuery/echart/lastday").then(function(t){var e=t.body;if(0==e.status)if(0==e.data.length)this.none_data="暂无最近慢查询数据";else{for(var a=new Array,s=[],i=[],n=0;n<e.data.length;n++)a.push(e.data[n].time),s.push(e.data[n].slow_query_num),i.push(e.data[n].slow_query_time);this.$echarts.init(document.getElementById("wave")).setOption({tooltip:{show:!0},title:{text:"最近一个月的慢查询次数",textStyle:{color:"#fff"},top:10,left:10},xAxis:{show:!0,axisLine:{show:!0},type:"category",data:a,axisTick:{show:!0},splitLine:{show:!0,lineStyle:{color:"#fff"}},axisLabel:{show:!1}},yAxis:{show:!0,splitLine:{show:!0,lineStyle:{color:"#405867"}},axisLabel:{show:!1}},series:[{label:{show:!0},data:s,type:"line",smooth:!0,symbolSize:8,symbol:"circle",areaStyle:{color:"rgba(25,53,68,0.5)"},itemStyle:{color:"#00B7EE",borderType:"solid"}}]})}else this.none_data="暂无最近慢查询数据"})},get_floor_num:function(){return Math.floor(1e3*Math.random())},get_lastday_count:function(){this.$http.get("/acmeCloud/slowQuery/lastdaycount").then(function(t){var e=t.body;if(0==e.status){var a=e.data.total;this.$echarts.init(document.getElementById("slowquery_num")).setOption({title:[{text:"慢查询数",textStyle:{color:"#fff"},bottom:100,right:10},{text:a,textStyle:{color:"#fff",fontSize:50},bottom:85,right:100}],series:[{name:"慢查询总数",type:"pie",radius:["55%","67%"],center:["25%","50%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:this.get_floor_num(),name:"慢查询总数"},{value:this.get_floor_num(),name:"慢查询"}],color:["#00B7EE","#ADCBD4"]}]})}})},slow_query_num:function(){this.$echarts.init(document.getElementById("monitor")).setOption({tooltip:{show:!0},legend:{type:"plain",right:10,orient:"vertical",textStyle:{color:"#fff",lineHeight:30}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},axisTick:{show:!0},axisLabel:{color:"#fff"},data:["6:00pm","6:00pm","6:00pm","6:00pm","6:00pm","6:00pm","6:00pm"]},yAxis:{type:"value",axisLine:{show:!1},axisLabel:{color:"#fff"}},series:[{name:"MYSQL",type:"line",data:[230,132,101,224,90,230,210],itemStyle:{color:"#FFC30D",borderColor:"#FFC30D",shadowColor:"rgba(255, 195, 13, 1)",shadowBlur:10},symbolSize:12},{name:"主机",type:"line",data:[220,182,191,204,290,130,310],itemStyle:{color:"#0DF6FF",borderColor:"#0DF6FF",shadowColor:"rgba(13, 246, 255, 1)",shadowBlur:10},symbolSize:12}]})}}},Ke={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slowQuery common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"info-content"},[a("router-link",{attrs:{to:{path:"slowquerylist"}}},[a("div",{staticStyle:{width:"80%",height:"300px",margin:"15px auto"},attrs:{id:"slowquery_num"}})]),t._v(" "),a("router-link",{attrs:{to:{path:"slowquerylist"}}},[a("div",{staticStyle:{"line-height":"200px",color:"#fff",width:"80%",height:"300px",margin:"15px auto","text-align":"center","font-weight":"bold","font-size":"30px"},attrs:{id:"wave"}},[t._v("\n        "+t._s(t.none_data)+"\n      ")])])],1),t._v(" "),t._m(2),t._v(" "),a("div",{staticStyle:{width:"100%",height:"500px","background-color":"#E8F0F8","margin-top":"35px"},attrs:{id:"monitor"}}),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"common_table table table-striped"},[t._m(4),t._v(" "),a("tbody",{staticClass:"common_table_tr"},t._l(t.comment_list,function(e){return a("tr",{key:e.instance_name},[a("th",[t._v("\n          "+t._s(e.instance_name)+"\n        ")]),t._v(" "),a("th",[t._v(t._s(e.reviewed_by))]),t._v(" "),a("th",[1==e.status?a("span",{staticStyle:{color:"#50636a","font-weight":"bold"}},[t._v("待分析")]):2==e.status?a("span",{staticStyle:{color:"#aabfee","font-weight":"bold"}},[t._v("分析中")]):3==e.status?a("span",{staticStyle:{color:"#bdaa98","font-weight":"bold"}},[t._v("待上线")]):4==e.status?a("span",{staticStyle:{color:"#50636a","font-weight":"bold"}},[t._v("已上线")]):5==e.status?a("span",{staticStyle:{color:"#50636a","font-weight":"bold"}},[t._v("重分析")]):6==e.status?a("span",{staticStyle:{color:"rgb(43, 168, 84)","font-weight":"bold"}},[t._v("已解决")]):t._e()]),t._v(" "),a("th",[t._v(t._s(e.update_time))]),t._v(" "),a("th",[t._v(t._s(e.sample))]),t._v(" "),a("th",[t._v(t._s(e.checksum))]),t._v(" "),a("th",[t._v(t._s(e.comments))])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v("慢查询")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基础统计信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("实时监控信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("历史评论")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("实例名")]),t._v(" "),a("th",[t._v("评论人")]),t._v(" "),a("th",[t._v("评论状态")]),t._v(" "),a("th",[t._v("修改时间")]),t._v(" "),a("th",[t._v("sql语句")]),t._v(" "),a("th",[t._v("sql语句样本值")]),t._v(" "),a("th",[t._v("评论")])])])}]};var ta=a("VU/8")(Xe,Ke,!1,function(t){a("hRI+")},null,null).exports,ea={data:function(){return pe()({slowquery_button_index:99,total:0,current_page:1,current:1,currentPage:1,pageSize:10,slowquery_list:[],dis_abled:[],show_pagination:!0,no_active:!1},"dis_abled","")},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},mounted:function(){this.setCurrent(1)},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.current_page=this.current,this.$emit("pagechange",this.current)),this.$http.get("/acmeCloud/slowQuery/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.current_page,this.display;this.$http.get("/acmeCloud/slowQuery/list?currentPage="+this.current_page+"&pageSize="+this.display).then(function(t){var e=t.body;0==e.status&&(this.slowquery_list=e.data,document.documentElement.scrollTop=document.body.scrollTop=0)})},go:function(t){document.documentElement.scrollTop=document.body.scrollTop=0;this.currentPage=t,this.$http.get("/acmeCloud/slowQuery/list?currentPage="+t+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status?(this.slowquery_list=e.data,document.documentElement.scrollTop=document.body.scrollTop=0,e.data.length<10?(this.dis_abled="disabled",this.no_active=!0):(this.no_active=!1,this.dis_abled=[])):(this.dis_abled="disabled",this.no_active=!0,1013==e.status&&(this.currentPage=this.currentPage-1))})},get_list:function(){this.$http.get("/acmeCloud/slowQuery/list?&currentPage="+this.currentPage+"&pageSize="+this.pageSize).then(function(t){var e=t.body;0==e.status&&(this.slowquery_list=e.data)})}}},aa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slowQueryList common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},t._l(t.slowquery_list,function(e,s){return a("tr",{key:s},[a("th",[a("router-link",{attrs:{to:{path:"clusterinformation",query:{name:e.cluster_name}}}},[t._v("\n            "+t._s(e.cluster_name)+"\n          ")])],1),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"exampledetail",query:{name:e.instance_name,ip:e.host_ip,port:e.instance_port}}}},[t._v("\n          "+t._s(e.instance_name)+"\n        ")])],1),t._v(" "),a("th",[t._v(t._s(e.host_name))]),t._v(" "),a("th",[t._v(t._s(e.time_sum))]),t._v(" "),a("th",[t._v(t._s(e.count))]),t._v(" "),a("th",[a("ul",{staticClass:"button_list nav"},[a("li",{staticClass:"active"},[a("router-link",{attrs:{to:{path:"clusterinfo",query:{clusterName:e.cluster_name,port:e.instance_port}}}},[t._v("\n              集群慢查询\n              ")])],1),t._v(" "),a("li",{staticClass:"active"},[a("router-link",{attrs:{to:{path:"queryinstance",query:{instanceName:e.instance_name,ip:e.host_ip,port:e.instance_port}}}},[t._v("\n                实例慢查询\n              ")])],1)])])])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{key:e.text,class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("慢查询中心")]),this._v(" "),e("span",{staticClass:"arrow"},[this._v(" > ")]),this._v(" "),e("span",{staticClass:"titleUrl"},[this._v("慢查询列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("慢查询列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("集群名称")]),t._v(" "),a("th",[t._v("实例名称")]),t._v(" "),a("th",[t._v("主机名")]),t._v(" "),a("th",[t._v("往期时间")]),t._v(" "),a("th",[t._v("往期个数")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("操作")])])])}]};var sa=a("VU/8")(ea,aa,!1,function(t){a("lZIL")},null,null).exports,ia={data:function(){return{currentPage:1,pageSize:10,toptimesum:[],clusterinfo_list:[],cluster_base_info:[],top_time_sum:[],top_count_data:[],top_avg_time_data:[],time_info:"暂无数据",info:"本实例未采集到数据",time_total:"暂无数据",top_avg_info:"暂无数据"}},filters:{toValue:function(t){return Math.ceil(t)}},mounted:function(){this.get_base_info(),this.get_list()},methods:{get_base_info:function(){this.$http.get("/acmeCloud/slowQuery/cluster/info?clusterName="+this.$route.query.clusterName).then(function(t){var e=t.body;0==e.status?this.cluster_base_info=e.data:this.time_info=e.msg})},top_count:function(){this.$http.get("/acmeCloud/slowQuery/cluster/topcount?clusterName="+this.$route.query.clusterName+"&displayNum="+this.pageSize).then(function(t){var e=t.body;0==e.status?this.top_count_data=e.data:this.time_total=e.msg})},top_avg_time:function(){this.$http.get("/acmeCloud/slowQuery/cluster/topavgtime?clusterName="+this.$route.query.clusterName+"&displayNum="+this.pageSize).then(function(t){var e=t.body;0==e.status?this.top_avg_time_data=e.data:this.top_avg_info=e.msg})},get_list:function(){var t=this;this.$http.get("/acmeCloud/slowQuery/cluster/toptimesum?clusterName="+this.$route.query.clusterName+"&displayNum="+this.pageSize).then(function(e){var a=e.body;0==a.status?this.top_time_sum=a.data:t.time_info=a.msg})}}},na={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clusterinfo common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"common_table table table-striped"},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},[0==t.cluster_base_info.length?a("tr",[a("td",{staticStyle:{"font-weight":"bold","font-size":"20px","text-align":"center"},attrs:{colspan:"5"}},[t._v(t._s(t.info))])]):t._e(),t._v(" "),t._l(t.cluster_base_info,function(e){return a("tr",[a("td",[a("router-link",{attrs:{to:{path:"exampledetail",query:{name:e.instance_name,ip:e.host_ip,port:e.instance_port}}}},[t._v("\n            "+t._s(e.instance_name)+"\n          ")])],1),t._v(" "),a("td",[a("router-link",{attrs:{to:{path:"clusterinformation",query:{name:e.cluster_name}}}},[t._v("\n              "+t._s(e.cluster_name)+"\n            ")])],1),t._v(" "),a("td",[a("router-link",{attrs:{to:{path:"hostdetails",query:{hostName:e.host_name}}}},[t._v("\n              "+t._s(e.host_name)+"\n            ")])],1),t._v(" "),a("td",[t._v(t._s(e.time_sum))]),t._v(" "),a("td",[t._v(t._s(e.count))])])})],2)])]),t._v(" "),t._m(3),t._v(" "),a("ul",{staticClass:"nav nav-tabs ul-active common_ul marginTopBox"},[t._m(4),t._v(" "),a("li",[a("a",{staticStyle:{"margin-right":"0"},attrs:{href:"#total","data-toggle":"tab"},on:{click:function(e){t.top_count()}}},[t._v("总次数")])]),t._v(" "),a("li",[a("a",{staticStyle:{"margin-right":"0"},attrs:{href:"#average","data-toggle":"tab"},on:{click:function(e){t.top_avg_time()}}},[t._v("平均时间")])])]),t._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-content-item tab-pane fade in active ",attrs:{id:"total_time"}},[a("table",{staticClass:"table table-striped common_table"},[a("tbody",{staticClass:"common_table_tr"},[t._m(5),t._v(" "),0==t.top_time_sum.length?a("tr",[a("td",{staticStyle:{"font-weight":"bold","font-size":"26px","text-align":"center"},attrs:{colspan:"7"}},[t._v(t._s(t.time_info))])]):t._e(),t._v(" "),t._l(t.top_time_sum,function(e){return a("tr",{key:e.sample},[a("td",[t._v(t._s(t._f("toValue")(e.time)))]),t._v(" "),a("td",[t._v(t._s(e.count))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.pct)))]),t._v(" "),a("td",[t._v(t._s(e.user)+" ")]),t._v(" "),a("td",{staticStyle:{"max-width":"500px",overflow:"hidden"}},[a("router-link",{attrs:{to:{path:"checksum",query:{checksum:e.checksum,clusterName:t.$route.query.clusterName,sql:e.sample,port:t.$route.query.port}}}},[t._v("\n               "+t._s(e.sample)+"\n             ")])],1),t._v(" "),a("td",[t._v(t._s(e.db))])])})],2)])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"total"}},[a("div",{staticClass:"tab-content-item"},[a("table",{staticClass:"table table-striped common_table"},[a("tbody",{staticClass:"common_table_tr"},[t._m(6),t._v(" "),0==t.top_count_data.length?a("tr",[a("td",{staticStyle:{"font-weight":"bold","font-size":"26px","text-align":"center"},attrs:{colspan:"7"}},[t._v(t._s(t.time_total))])]):t._e(),t._v(" "),t._l(t.top_count_data,function(e){return a("tr",{key:e.sample},[a("td",[t._v(t._s(t._f("toValue")(e.time)))]),t._v(" "),a("td",[t._v(t._s(e.count))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.pct)))]),t._v(" "),a("td",[t._v(t._s(e.user)+" ")]),t._v(" "),a("td",{staticStyle:{"max-width":"500px",overflow:"hidden"}},[a("router-link",{attrs:{to:{path:"checksum",query:{checksum:e.checksum,clusterName:t.$route.query.clusterName,sql:e.sample}}}},[t._v("\n                  "+t._s(e.sample)+"\n                ")])],1),t._v(" "),a("td",[t._v(t._s(e.checksum))]),t._v(" "),a("td",[t._v(t._s(e.db))])])})],2)])])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"average"}},[a("div",{staticClass:"tab-content-item"},[a("table",{staticClass:"table table-striped common_table"},[a("tbody",{staticClass:"common_table_tr"},[t._m(7),t._v(" "),0==t.top_avg_time_data.length?a("tr",[a("td",{staticStyle:{"font-weight":"bold","font-size":"26px","text-align":"center"},attrs:{colspan:"7"}},[t._v(t._s(t.top_avg_info))])]):t._e(),t._v(" "),t._l(t.top_avg_time_data,function(e){return a("tr",{key:e.sample},[a("td",[t._v(t._s(t._f("toValue")(e.time)))]),t._v(" "),a("td",[t._v(t._s(e.count))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.pct)))]),t._v(" "),a("td",[t._v(t._s(e.user)+" ")]),t._v(" "),a("td",{staticStyle:{"max-width":"500px",overflow:"hidden"}},[a("router-link",{attrs:{to:{path:"checksum",query:{checksum:e.checksum,clusterName:t.$route.query.clusterName,sql:e.sample}}}},[t._v("\n                "+t._s(e.sample)+"\n              ")])],1),t._v(" "),a("td",[t._v(t._s(e.checksum))]),t._v(" "),a("td",[t._v(t._s(e.db))])])})],2)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v("慢查询")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("实例名称")]),t._v(" "),a("th",[t._v("集群名称")]),t._v(" "),a("th",[t._v("主机名")]),t._v(" "),a("th",[t._v("昨天总时间")]),t._v(" "),a("th",[t._v("昨天个数")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("参数信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"active"},[e("a",{staticStyle:{"margin-right":"0"},attrs:{href:"#total_time","data-toggle":"tab"}},[this._v("\n        总时间\n      ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("总时间")]),t._v(" "),a("th",[t._v("总次数")]),t._v(" "),a("th",[t._v("平均时间")]),t._v(" "),a("th",[t._v("用户名称")]),t._v(" "),a("th",[t._v("SQL样本")]),t._v(" "),a("th",[t._v("数据库名称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("总时间")]),t._v(" "),a("th",[t._v("总次数")]),t._v(" "),a("th",[t._v("平均时间")]),t._v(" "),a("th",[t._v("用户名称")]),t._v(" "),a("th",[t._v("SQL样本")]),t._v(" "),a("th",[t._v("SQL checksum")]),a("th",[t._v("数据库名称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("总时间")]),t._v(" "),a("th",[t._v("总次数")]),t._v(" "),a("th",[t._v("平均时间")]),t._v(" "),a("th",[t._v("用户名称")]),t._v(" "),a("th",[t._v("SQL样本")]),t._v(" "),a("th",[t._v("SQL checksum")]),a("th",[t._v("数据库名称")])])}]};var la=a("VU/8")(ia,na,!1,function(t){a("VDig")},null,null).exports,oa={data:function(){return{instance_list:[],top_avg_list:[],topcount_list:[],time_data:[],show_pagination:!0,currentPage:1,zero:"00:00:01",echeat_info:"实例暂无数据"}},filters:{toValue:function(t){return Math.ceil(t)}},mounted:function(){this.get_count("toptimesum")},methods:{fmtDate:function(t){var e=new Date;e.setTime(1*t);var a=e.getFullYear(),s=e.getMonth()+1;s=s<10?"0"+s:s;var i=e.getDate();i=i<10?"0"+i:i;var n=e.getHours();n=n<10?"0"+n:n;var l=e.getMinutes(),o=e.getSeconds();return a+"-"+s+"-"+i+" "+n+":"+(l=l<10?"0"+l:l)+":"+(o=o<10?"0"+o:o)},change_query_time:function(t){this.$http.get("/acmeCloud/slowQuery/instance/echart?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port+"&displayTime="+t).then(function(t){var e=t.body;if(0==e.status)if(0==e.data.length);else{this.echeat_info="";for(var a=e.data,s=new Array,i=new Array,n=0;n<a.length;n++)s[n]=a[n].query_time;for(n=0;n<a.length;n++)i[n]=this.fmtDate(a[n].time);this.change_query_draw(s,i)}})},get_day:function(t){var e=new Date,a=e.getHours(),s=e.getMinutes(),i=e.getSeconds();i<10&&(i="0"+i);var n=e.getTime()+864e5*t;e.setTime(n);var l=e.getFullYear(),o=e.getMonth(),r=e.getDate();return l+"-"+(o=this.doHandleMonth(o+1))+"-"+(r=this.doHandleMonth(r))+" "+a+":"+s+":"+i},doHandleMonth:function(t){var e=t;return 1==t.toString().length&&(e="0"+t),e},change_tab:function(t){this.$http.get("/acmeCloud/slowQuery/instance/echart?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port+"&displayTime="+t).then(function(t){var e=t.body;if(0==e.status)if(0==e.data.length);else{this.echeat_info="";for(var a=e.data,s=new Array,i=new Array,n=0;n<a.length;n++)s[n]=a[n].query_time;for(n=0;n<a.length;n++)i[n]=this.fmtDate(a[n].time);this.data_count(s,i)}})},getCountDays:function(){var t=new Date,e=t.getMonth();return t.setMonth(e+1),t.setDate(0),t.getDate()},get_count:function(t){"toptimesum"==t&&this.$http.get("/acmeCloud/slowQuery/instance/toptimesum?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port+"&displayNum=20&startTime="+this.get_day(-7)+" &endTime="+this.get_day(0)).then(function(t){var e=t.body;0==e.status&&(this.instance_list=e.data)}),"topcount"==t?this.$http.get("/acmeCloud/slowQuery/instance/"+t+"?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port+"&startTime="+this.get_day(-7)+"&endTime="+this.get_day(0)+"&displayNum=20").then(function(t){var e=t.body;0==e.status&&(this.topcount_list=e.data)}):"topavgtime"==t&&this.$http.get("/acmeCloud/slowQuery/instance/"+t+"?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port+"&startTime="+this.get_day(-7)+"&endTime="+this.get_day(0)+"&displayNum=20").then(function(t){var e=t.body;0==e.status&&(this.top_avg_list=e.data)})},data_count:function(t,e){this.$echarts.init(document.getElementById("num_left")).setOption({tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},title:{text:"实例详情",textStyle:{color:"#847B7B",fontSize:20},top:0,left:0},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},axisTick:{show:!0},axisLabel:{show:!1},data:e},yAxis:{type:"value",axisLine:{show:!1},axisLabel:{show:!1},splitLine:{lineStyle:{color:"#192E3E",width:2}},splitArea:{areaStyle:{color:["rgba(189, 195, 39,1)"]}}},series:[{type:"line",smooth:!0,data:t,itemStyle:{color:"#0F8FC1",borderColor:"#000",shadowColor:"rgba(15, 143, 193, 1)",shadowBlur:10},areaStyle:{color:"rgba(15, 143, 193,0.5)"},symbolSize:8}]})},change_query_draw:function(t,e){this.$echarts.init(document.getElementById("num_right")).setOption({title:{text:"实例详情",textStyle:{color:"#847B7B",fontSize:20},top:0,left:0},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},axisTick:{show:!0},axisLabel:{show:!1},data:e},yAxis:{type:"value",axisLine:{show:!1},axisLabel:{show:!1},splitLine:{lineStyle:{color:"#192E3E",width:2}},splitArea:{areaStyle:{color:["rgba(189, 195, 39,1)"]}}},series:[{type:"line",smooth:!0,data:t,itemStyle:{color:"#FFC30D",borderColor:"#000",shadowColor:"rgba(255, 195, 13, 1)",shadowBlur:10},areaStyle:{color:"rgba(189, 195, 39,0.5)"},symbolSize:8}]})},get_instance_detail:function(){this.$http.get("/acmeCloud/slowQuery/instance/toptimesum?hostIp="+this.$route.query.ip+"&instancePort="+this.$route.query.port+"&displayNum=20&startTime="+this.get_day(-7)+" "+this.zero+"&endTime="+this.get_day(0)+" "+this.zero).then(function(t){var e=t.body;0==e.status&&(this.instance_list=e.data)})}}},ra={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slowQuery common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("ul",{staticClass:"nav nav-tabs active-ul common_ul",staticStyle:{"margin-top":"30px"}},[a("li",{staticClass:"active"},[a("a",{attrs:{href:"#total_time","data-toggle":"tab"},on:{click:function(e){t.get_count("toptimesum")}}},[t._v("总时间")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#total","data-toggle":"tab"},on:{click:function(e){t.get_count("topcount")}}},[t._v("总次数")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#average","data-toggle":"tab"},on:{click:function(e){t.get_count("topavgtime")}}},[t._v("平均时间")])])]),t._v(" "),a("div",{staticClass:"tab-content "},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:"total_time"}},[a("div",{staticClass:"tab-content-item table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[a("tbody",[t._m(2),t._v(" "),t._l(t.instance_list,function(e){return a("tr",{key:e.sample},[a("td",[t._v(t._s(t._f("toValue")(e.time)))]),t._v(" "),a("td",[t._v(t._s(e.count))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.pct)))]),t._v(" "),a("td",[t._v(t._s(e.db))]),t._v(" "),a("td",[t._v(t._s(e.user))]),t._v(" "),a("td",{staticStyle:{width:"10%","max-width":"150px",overflow:"hidden"}},[a("router-link",{attrs:{to:{path:"instanceslowquery",query:{instanceName:t.$route.query.instanceName,sql:e.sample,dbName:e.db,port:t.$route.query.port,checkSum:e.checksum,hostip:t.$route.query.ip}}}},[t._v("\n                  "+t._s(e.sample)+"\n                ")])],1),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.max_time)))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.min_time)))]),t._v(" "),a("td",[t._v(t._s(e.host))])])})],2)])])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"total"}},[a("div",{staticClass:"tab-content-item table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[a("tbody",[t._m(3),t._v(" "),t._l(t.topcount_list,function(e){return a("tr",[a("td",[t._v(t._s(t._f("toValue")(e.time)))]),t._v(" "),a("td",[t._v(t._s(e.count))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.pct)))]),t._v(" "),a("td",[t._v(t._s(e.db))]),t._v(" "),a("td",[t._v(t._s(e.user))]),t._v(" "),a("td",{staticStyle:{width:"10%","max-width":"150px",overflow:"hidden"}},[a("router-link",{attrs:{to:{path:"instanceslowquery",query:{instanceName:t.$route.query.instanceName,sql:e.sample,dbName:e.db,port:t.$route.query.port,checkSum:e.checksum,hostip:t.$route.query.ip}}}},[t._v("\n                 "+t._s(e.sample)+"\n               ")])],1),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.max_time)))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.min_time)))]),t._v(" "),a("td",[t._v(t._s(e.host))])])})],2)])])]),t._v(" "),t._m(4),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"average"}},[a("div",{staticClass:"tab-content-item table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[a("tbody",[t._m(5),t._v(" "),t._l(t.top_avg_list,function(e){return a("tr",[a("td",[t._v(t._s(t._f("toValue")(e.time)))]),t._v(" "),a("td",[t._v(t._s(e.count))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.pct)))]),t._v(" "),a("td",[t._v(t._s(e.db))]),t._v(" "),a("td",[t._v(t._s(e.user))]),t._v(" "),a("td",{staticStyle:{width:"10%","max-width":"150px",overflow:"hidden"}},[a("router-link",{attrs:{to:{path:"instanceslowquery",query:{instanceName:t.$route.query.instanceName,sql:e.sample,dbName:e.db,port:t.$route.query.port,checkSum:e.checksum,hostip:t.$route.query.ip}}}},[t._v("\n                 "+t._s(e.sample)+"\n               ")])],1),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.max_time)))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.min_time)))]),t._v(" "),a("td",[t._v(t._s(e.host))])])})],2)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v(" 慢查询")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg",staticStyle:{"margin-top":"30px"}},[e("p",{staticClass:"common_title_size"},[this._v("分类信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("总时间")]),t._v(" "),a("th",[t._v("总次数")]),t._v(" "),a("th",[t._v("平均时间")]),t._v(" "),a("th",[t._v("数据库")]),t._v(" "),a("th",[t._v("用户名")]),t._v(" "),a("th",[t._v("SQL 样本")]),t._v(" "),a("th",[t._v("最大时间")]),t._v(" "),a("th",[t._v("最小时间")]),t._v(" "),a("th",[t._v("访问来源主机")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("总时间")]),t._v(" "),a("th",[t._v("总次数")]),t._v(" "),a("th",[t._v("平均时间")]),t._v(" "),a("th",[t._v("数据库")]),t._v(" "),a("th",[t._v("用户名")]),t._v(" "),a("th",[t._v("SQL 样本")]),t._v(" "),a("th",[t._v("最大时间")]),t._v(" "),a("th",[t._v("最小时间")]),t._v(" "),a("th",[t._v("访问来源主机")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab-pane fade",attrs:{id:"data_base"}},[e("div",{staticClass:"tab-content-item"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("总时间")]),t._v(" "),a("th",[t._v("总次数")]),t._v(" "),a("th",[t._v("平均时间")]),t._v(" "),a("th",[t._v("数据库")]),t._v(" "),a("th",[t._v("用户名")]),t._v(" "),a("th",[t._v("SQL 样本")]),t._v(" "),a("th",[t._v("最大时间")]),t._v(" "),a("th",[t._v("最小时间")]),t._v(" "),a("th",[t._v("访问来源主机")])])}]};var ca=a("VU/8")(oa,ra,!1,function(t){a("fK6m")},null,null).exports,_a={data:function(){return{cluster_checksum:[]}},mounted:function(){this.get_check_num()},filters:{toValue:function(t){return Math.ceil(t)}},methods:{get_check_num:function(){this.$route.query.clusterName?this.$http.get("/acmeCloud/slowQuery/checksum/cluster?clusterName="+this.$route.query.clusterName+"&checkSum="+this.$route.query.checksum).then(function(t){var e=t.body;0==e.status&&(this.cluster_checksum=e.data)}):this.$http.get("/acmeCloud/slowQuery/checksum/instance?instanceName="+this.$route.query.instanceName+"&checkSum="+this.$route.query.checksum).then(function(t){var e=t.body;0==e.status&&(this.instance_checksum=e.data)})}}},da={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checksum common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"common_table table table-striped"},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},t._l(t.cluster_checksum,function(e){return a("tr",[a("th",[a("router-link",{attrs:{to:{path:"instanceslowquery",query:{instanceName:e.instance_name,sql:t.$route.query.sql,checkSum:t.$route.query.checksum,hostip:t.$route.query.clusterName,port:t.$route.query.port}}}},[t._v("\n            "+t._s(e.instance_name)+"\n          ")])],1),t._v(" "),a("th",[t._v(t._s(t._f("toValue")(e.sum_time)))]),t._v(" "),a("th",[t._v(t._s(t._f("toValue")(e.min_time)))]),t._v(" "),a("th",[t._v(t._s(t._f("toValue")(e.max_time)))]),t._v(" "),a("th",[t._v(t._s(e.count))]),t._v(" "),a("th",[t._v(t._s(e.db))]),t._v(" "),a("th",[t._v(t._s(e.user))])])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v("慢查询")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("参数实例")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("实例名称")]),t._v(" "),a("th",[t._v("总时间")]),t._v(" "),a("th",[t._v("最小时间")]),t._v(" "),a("th",[t._v("最大时间")]),t._v(" "),a("th",[t._v("执行次数")]),t._v(" "),a("th",[t._v("DB")]),t._v(" "),a("th",[t._v("USER")])])])}]};var ua=a("VU/8")(_a,da,!1,function(t){a("RfoP")},null,null).exports,va={data:function(){return{message_tips:"",common_tips:"",common_status_list:[{value:1,label:"待分析"},{value:2,label:"分析中"},{value:3,label:"待上线"},{value:4,label:"已上线"},{value:5,label:"重分析"},{value:6,label:"已解决"}],common_status:"待分析",info_list:[],history_list:[],comments_list:[],data_ins:{checksum_info:{db:[],examin_sum:[],examin_max:[],examin_min:[]},instance_info:{host_name:"",cluster_name:{},instance_role:""},query_review_info:{check_sum:[],first_seen:[],last_seen:[]}},explain_list:[],message:"",host_name:[],remnant:150}},filters:{toValue:function(t){return Math.ceil(t)}},mounted:function(){this.get_instance_info(),this.get_comments_list(),this.get_explain(),this.get_history()},methods:{descInput:function(){var t=this.message.length;this.remnant=150-t},post_comments:function(){var t=this;if(""==t.common_status&&(t.common_tips="评论状态不能为空"),"待分析"==t.common_status&&(t.common_status=1),t.message||(t.message_tips="评论不能为空"),t.message&&t.common_status){var e=new Object;e.cluster_name=this.data_ins.instance_info.cluster_name,e.instance_name=this.$route.query.instanceName,e.checksum=this.$route.query.checkSum,e.sample=this.$route.query.sql,e.status=this.common_status,e.comments=this.message,this.$http.post("/acmeCloud/slowQuery/checksum/commentadd?",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status?(t.get_comments_list(),t.message=""):alert("评论失败 请稍后重试")})}},get_explain:function(){this.$route.query.dbName?this.$http.get("/acmeCloud/slowQuery/checksum/explain?instancePort="+this.$route.query.port+"&sqlSample="+this.$route.query.sql+"&dbName="+this.$route.query.dbName+"&hostIp="+this.$route.query.hostip).then(function(t){var e=t.body;0==e.status&&(this.explain_list=e.data)}):this.$http.get("/acmeCloud/slowQuery/checksum/explain?instancePort="+this.$route.query.port+"&sqlSample="+this.$route.query.sql+"&dbName=&hostIp="+this.$route.query.hostip).then(function(t){var e=t.body;0==e.status&&(this.explain_list=e.data)})},get_comments_list:function(){var t=this;t.$http.get("/acmeCloud/slowQuery/checksum/comments?checkSum="+this.$route.query.checkSum).then(function(e){var a=e.body;0==a.status&&(t.comments_list=a.data)})},get_instance_info:function(){this.$http.get("/acmeCloud/slowQuery/checksum/instance?instanceName="+this.$route.query.instanceName+"&checkSum="+this.$route.query.checkSum).then(function(t){var e=t.body;0==e.status&&(this.data_ins=e.data)})},get_history:function(){this.$http.get("/acmeCloud/slowQuery/checksum/history?hostIp="+this.$route.query.hostip+"&instancePort="+this.$route.query.port+"&checkSum="+this.$route.query.checkSum).then(function(t){var e=t.body;0==e.status?this.history_list=e.data.checksum_history_list:this.history_list.length})}}},ma={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"instanceslowquery common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("慢查询")]),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" > ")]),t._v(" "),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:{path:"clusterlist"}}},[t._v("慢查询列表")])],1),t._v(" "),a("span",{staticClass:"arrow"},[t._v(" >")]),t._v(" "),a("span",{staticClass:"titleUrl"},[t._v("慢查询详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"hostdetailsMain",staticStyle:{"padding-right":"20px"}},[a("table",[a("tr",{staticStyle:{"line-height":"50px"}},[a("th",{staticStyle:{color:"#797777","font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("主机名：")]),t._v(t._s(t.data_ins.instance_info.host_name))]),t._v(" "),t.$route.query.dbName?a("th",[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v("数据库名称：")]),t._v(t._s(t.data_ins.checksum_info.db))]):a("th",{staticStyle:{height:"50px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","max-width":"200px"}},[a("span",{staticStyle:{color:"#000","font-weight":"400"}},[t._v(" SQL样本:")]),t._v("\n          "+t._s(t.$route.query.sql))])]),t._v(" "),a("tr",{staticStyle:{"line-height":"50px"}},[a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("用户名：")]),t._v(t._s(t.data_ins.checksum_info.user))]),t._v(" "),a("th",{staticStyle:{width:"31%","font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("访问来源： ")]),t._v(t._s(t.data_ins.checksum_info.host)+"\n        ")])])])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"common_table table table-striped "},[t._m(2),t._v(" "),a("tbody",{staticClass:"common_table_tr"},[0==t.explain_list.length?a("tr",[a("td",{attrs:{colspan:"10"}},[t._v("暂无数据")])]):t._l(t.explain_list,function(e){return a("tr",[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.table))]),t._v(" "),a("td",[t._v(t._s(e.select_type))]),t._v(" "),a("td",[t._v(t._s(e.select_type))]),t._v(" "),a("td",[t._v(t._s(e.ref))]),t._v(" "),a("td",[t._v(t._s(e.possible_keys))]),t._v(" "),a("td",[t._v(t._s(e.rows))]),t._v(" "),a("td",[t._v(t._s(e.extra))]),t._v(" "),a("td",[t._v(t._s(e.key))]),t._v(" "),a("td",[t._v(t._s(e.key_len))])])})],2)])]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"hostdetailsMain"},[a("table",[a("tr",{staticStyle:{"line-height":"50px"}},[a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("实例名称：")]),t._v(" "),a("router-link",{attrs:{to:{path:"exampledetail",query:{name:t.$route.query.instanceName}}}},[t._v("\n            "+t._s(t.$route.query.instanceName)+"\n          ")])],1),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("集群名称： ")]),t._v(" "),a("router-link",{attrs:{to:{path:"clusterinformation",query:{name:t.data_ins.instance_info.cluster_name}}}},[t._v("\n            "+t._s(t.data_ins.instance_info.cluster_name)+"\n          ")])],1),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("主机名称： ")]),t._v(" "),a("router-link",{attrs:{to:{path:"hostdetails",query:{hostName:t.data_ins.instance_info.host_name}}}},[t._v("\n            "+t._s(t.data_ins.instance_info.host_name)+"\n          ")])],1),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("实例角色： ")]),t._v(t._s(t.data_ins.instance_info.instance_role)+"\n        ")])]),t._v(" "),a("tr",{staticStyle:{"line-height":"50px"}},[a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("该慢查询个数：")]),t._v(t._s(t.data_ins.checksum_info.count))]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("checksum： ")]),t._v(t._s(t.data_ins.query_review_info.check_sum)+"\n        ")]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("首次出现： ")]),t._v(t._s(t.data_ins.query_review_info.first_seen)+"\n        ")]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("最后出现： ")]),t._v(t._s(t.data_ins.query_review_info.last_seen)+"\n        ")])]),t._v(" "),a("tr",{staticStyle:{"line-height":"50px"}},[a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("总执行时间(秒)： ")]),t._v(t._s(t._f("toValue")(t.data_ins.checksum_info.sum_time)))]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("平均执行时间(秒)： ")]),t._v(t._s(t._f("toValue")(t.data_ins.checksum_info.pct_time))+"\n        ")]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("最大执行时间(秒)： ")]),t._v(t._s(t._f("toValue")(t.data_ins.checksum_info.max_time))+"\n        ")]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("最小执行时间(秒)： ")]),t._v(t._s(t._f("toValue")(t.data_ins.checksum_info.min_time))+"\n        ")])]),t._v(" "),a("tr",{staticStyle:{"line-height":"50px"}},[a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("总扫描行数：")]),t._v(t._s(t.data_ins.checksum_info.examin_sum))]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("平均扫描行数： ")]),t._v(t._s(t._f("toValue")(t.data_ins.checksum_info.examin_pct))+"\n        ")]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("最小扫描行数： ")]),t._v(t._s(t._f("toValue")(t.data_ins.checksum_info.examin_min))+"\n        ")]),t._v(" "),a("th",{staticStyle:{"font-weight":"400"}},[a("span",{staticStyle:{color:"#000"}},[t._v("最大扫描行数： ")]),t._v(t._s(t._f("toValue")(t.data_ins.checksum_info.examin_max))+"\n        ")])])])]),t._v(" "),t._m(4),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"common_table table table-striped "},[t._m(5),t._v(" "),a("tbody",{staticClass:"common_table_tr"},[0==t.history_list.length?a("tr",[a("td",{staticStyle:{"font-weight":"bold","font-size":"20px","text-align":"center"},attrs:{colspan:"8"}},[t._v("暂无数据")])]):t._l(t.history_list,function(e){return a("tr",[a("td",[t._v(t._s(e.date))]),t._v(" "),a("td",[t._v(t._s(e.ts_cnt))]),t._v(" "),a("td",[t._v(t._s(t._f("toValue")(e.query_time_avg)))]),t._v(" "),a("td",[t._v(t._s(e.query_time_sum))]),t._v(" "),a("td",[t._v(t._s(e.lock_time_sum))]),t._v(" "),a("td",[t._v(t._s(e.rows_sent_sum))]),t._v(" "),a("td",[t._v(t._s(e.rows_examined_sum))])])})],2)])]),t._v(" "),t._m(6),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"common_table table table-striped "},[t._m(7),t._v(" "),a("tbody",{staticClass:"common_table_tr"},[a("tr",{directives:[{name:"show",rawName:"v-show",value:0==t.comments_list.length,expression:"comments_list.length==0"}]},[a("td",{staticStyle:{"font-weight":"bold",color:"#9e9e9e","text-align":"center","font-size":"22px"},attrs:{colspan:"3"}},[t._v("暂无评论")])]),t._v(" "),t._l(t.comments_list,function(e,s){return a("tr",[a("td",[t._v(t._s(s+1))]),t._v(" "),1==e.status?a("td",[t._v("待分析")]):2==e.status?a("td",[t._v("分析中")]):3==e.status?a("td",[t._v("待上线")]):4==e.status?a("td",[t._v("已上线")]):5==e.status?a("td",[t._v("重分析")]):6==e.status?a("td",[t._v("已解决")]):t._e(),t._v(" "),a("td",[t._v(t._s(e.comments))])])})],2)])]),t._v(" "),t._m(8),t._v(" "),a("div",{staticClass:"hostdetailsMain",staticStyle:{padding:"30px"}},[a("table",[a("tbody",[a("tr",[a("th",{staticStyle:{width:"100px"}},[t._v("状态：")]),t._v(" "),a("th",[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.common_status,callback:function(e){t.common_status=e},expression:"common_status"}},t._l(t.common_status_list,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:""==t.common_status,expression:"common_status==''"}],staticStyle:{color:"red"}},[t._v(t._s(t.common_tips))])],1)]),t._v(" "),a("tr",[a("th",{staticStyle:{display:"inline-block","line-height":"70px"}},[t._v("评论信息：")]),t._v(" "),a("th",[a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.message,expression:"message",modifiers:{trim:!0}}],staticClass:"comment-texteara",staticStyle:{margin:"20px auto 0",height:"150px","font-size":"14px",width:"100%"},attrs:{placeholder:"请填写评论信息",maxlength:"150"},domProps:{value:t.message},on:{input:[function(e){e.target.composing||(t.message=e.target.value.trim())},t.descInput],blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("th",[a("span",{directives:[{name:"show",rawName:"v-show",value:""==t.message,expression:"message==''"}],staticStyle:{color:"red"}},[t._v(t._s(t.message_tips))])])]),t._v(" "),a("tr",[a("th"),a("th",[a("span",{staticClass:"blue-btn",on:{click:function(e){t.post_comments()}}},[t._v("提交")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[t._v(" 0/"+t._s(t.remnant)+"字")])]),t._v(" "),a("th",{staticStyle:{width:"100px"}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("SLOW QUERY信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("执行计划")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("TABLE")]),t._v(" "),a("th",[t._v("TYPE")]),t._v(" "),a("th",[t._v("SELECT-TYPE")]),t._v(" "),a("th",[t._v("REF")]),t._v(" "),a("th",[t._v("POSSIBLE_KEYS")]),t._v(" "),a("th",[t._v("ROWS")]),t._v(" "),a("th",[t._v("EXERA")]),t._v(" "),a("th",[t._v("KEY")]),t._v(" "),a("th",[t._v("KEY-LEN")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("统计信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("历史趋势")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("日期")]),t._v(" "),a("th",[t._v("个数")]),t._v(" "),a("th",[t._v("平均查询时间")]),t._v(" "),a("th",[t._v("总查询时间")]),t._v(" "),a("th",[t._v("总LOCK时间")]),t._v(" "),a("th",[t._v("总传送行数")]),t._v(" "),a("th",[t._v("总扫描行数")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("评论历史")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("ID")]),this._v(" "),e("th",[this._v("状态")]),this._v(" "),e("th",[this._v("评论")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("添加评论")])])}]};var pa=a("VU/8")(va,ma,!1,function(t){a("v1XD")},null,null).exports,ha=a("Z5gw"),fa={data:function(){return{data_all:"",failedList:"",progress:"",successnum:"",totalnum:""}},mounted:function(){this.get_detail(),this.failedListAll(),this.getInterval()},methods:{getInterval:function(){var t=this,e=setInterval(function(){t.get_detail(),t.entryRate(),t.entrySuccessnum(),t.entryTotalnum(),t.failedListAll(),1!=t.data_all.entry_status&&2!=t.data_all.entry_status||clearInterval(e)},2e3)},get_detail:function(){this.$http.get("/acmeCloud/host/entry/successandrunning?entryId="+this.$route.query.id).then(function(t){var e=t.body;0==e.status&&(this.data_all=e.data,this.host_list&&this.host_list.replace(/,/g,"\n"))})},failedListAll:function(){this.$http.get("/acmeCloud/host/entry/failed?entryId="+this.$route.query.id).then(function(t){var e=t.body;0==e.status&&(this.failedList=e.data,this.host_list&&this.host_list.replace(/,/g,"\n"))})},entryRate:function(){this.$http.get("/acmeCloud/host/entry/rate?entryId="+this.$route.query.id).then(function(t){var e=t.body;0==e.status&&(this.progress=e.data.sucess_rate)})},entryRetry:function(){this.$http.get("/acmeCloud/host/entry/retry?entryId="+this.$route.query.id).then(function(t){var e=t.body;0==e.status&&(this.failedList=e.data,this.data_all="",this.get_detail(),this.failedListAll(),this.getInterval())})},entrySuccessnum:function(){this.$http.get("/acmeCloud/host/entry/successnum?entryId="+this.$route.query.id).then(function(t){var e=t.body;0==e.status&&(this.successnum=e.data)})},entryTotalnum:function(){this.$http.get("/acmeCloud/host/entry/totalnum?entryId="+this.$route.query.id).then(function(t){var e=t.body;0==e.status&&(this.totalnum=e.data)})}}},ga={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"entryDetails common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("录入中心")]),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[a("router-link",{attrs:{to:"/info/entryList"}},[t._v("录入列表")])],1),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[t._v("录入详情")])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"marginTopBox detailsMain"},[a("div",{staticClass:"mainList"},[t._v("\n      任务描述："+t._s(t.data_all.entry_title)+"\n    ")]),t._v(" "),a("div",{staticClass:"detailsCon"},[a("table",[a("tr",[a("td",[t._v("状态：\n            "),0==t.data_all.entry_status?a("span",{staticStyle:{color:"#000"}},[t._v("正在录入")]):t._e(),t._v(" "),1==t.data_all.entry_status?a("span",{staticStyle:{color:"red"}},[t._v("录入失败")]):t._e(),t._v(" "),2==t.data_all.entry_status?a("span",{staticStyle:{color:"green"}},[t._v("录入成功")]):t._e()]),t._v(" "),a("td",[a("span",[t._v("更新时间："+t._s(t.data_all.update_time))])])])])]),t._v(" "),a("div",{staticClass:"detailsIP"},[a("div",{staticClass:"ipTitle"},[t._v("IP地址信息")]),t._v(" "),a("div",{staticClass:"ipText"},[a("textarea",{staticStyle:{"background-color":"#fff","text-align":"left"},attrs:{disabled:"disabled",readonly:"readonly",name:"",id:"txtArea",cols:"60",rows:"5"}},[t._v(t._s(t.data_all.host_list)+"\n        ")])])])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"marginTopBox entryLog"},[a("div",{staticClass:"logTitle"},[a("ul",[a("li",[0==t.data_all.entry_status?a("span",{staticStyle:{color:"#000"}},[t._v("正在录入")]):t._e(),t._v(" "),1==t.data_all.entry_status?a("span",{staticStyle:{color:"red"}},[t._v("录入失败")]):t._e(),t._v(" "),2==t.data_all.entry_status?a("span",{staticStyle:{color:"green"}},[t._v("录入成功")]):t._e()]),t._v(" "),a("li",[t._v(t._s(t.successnum)+"/"+t._s(t.totalnum))])])]),t._v(" "),a("div",{staticClass:"progressBar"},[a("div",{staticClass:"progress progress-striped",attrs:{id:"bar"}},[a("div",{staticClass:"progress-bar progress-bar-info",style:"width:"+t.progress,attrs:{role:"progressbar","aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}},[a("span",{staticClass:"sr-only"},[t._v("完成（信息）")])])]),t._v(" "),a("div",{staticClass:"faildBtn"},[2==t.data_all.entry_status?a("button",{staticStyle:{background:"#D2CECE"},attrs:{disabled:"disabled"}},[t._v("失败重试")]):t._e(),t._v(" "),0==t.data_all.entry_status?a("button",{staticStyle:{background:"#D2CECE"},attrs:{disabled:"disabled"}},[t._v("失败重试")]):t._e(),t._v(" "),1==t.data_all.entry_status?a("button",{on:{click:function(e){t.entryRetry()}}},[t._v("失败重试")]):t._e()])]),t._v(" "),a("div",{staticClass:"statusInformation"},[a("div",{staticClass:"logSuccess"},[a("div",{staticClass:"successTitle"},[t._v("\n          录入列表：\n        ")]),t._v(" "),a("div",{staticClass:"successList"},t._l(t.data_all.hosts_detail,function(e){return a("ul",[0==e.entry_status?a("li",{staticStyle:{color:"#000"}},[""!=e.host_ip?a("span",[t._v(t._s(e.host_ip))]):t._e(),a("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(e.entry_message))])]):t._e(),t._v(" "),2==e.entry_status?a("li",{staticStyle:{color:"green"}},[""!=e.host_ip?a("span",[t._v(t._s(e.host_ip))]):t._e(),a("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(e.entry_message))])]):t._e()])}))]),t._v(" "),a("div",{staticClass:"logFails"},[a("div",{staticClass:"failsTitle"},[t._v("\n          录入失败：\n        ")]),t._v(" "),a("div",{staticClass:"failsList"},t._l(t.failedList.hosts_detail,function(e){return a("ul",[1==e.entry_status?a("li",{staticStyle:{color:"red"}},[a("p",[a("span",[t._v(t._s(e.host_ip))]),a("span",{staticStyle:{"margin-left":"20px"}},[t._v(t._s(e.entry_message))])])]):t._e()])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("日志信息")])])}]};var ba=a("VU/8")(fa,ga,!1,function(t){a("s4/S")},null,null).exports,ya={data:function(){return{entry_list:[],total:0,current_page:1,current:1}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.current_page=this.current,this.$emit("pagechange",this.current)),window.scrollTo(0,0),this.$http.get("/acmeCloud/host/entry/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.current_page,this.display;this.$http.get("/acmeCloud/host/entry/list?current_page="+this.current_page+"&page_size="+this.display).then(function(t){var e=t.body;0==e.status&&(this.entry_list=e.data,document.documentElement.scrollTop=document.body.scrollTop=0)})}}},Ca={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"entryList common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table",staticStyle:{"table-layout":"fixed"}},[t._m(2),t._v(" "),a("tbody",t._l(t.entry_list,function(e){return a("tr",{key:e.entry_title},[a("th",[t._v(t._s(e.entry_title))]),t._v(" "),a("th",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.host_list,placement:"top"}},[a("p",{staticStyle:{width:"80%",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(" "+t._s(e.host_list))])])],1),t._v(" "),0==e.entry_status?a("th",[t._v("正在录入")]):t._e(),t._v(" "),1==e.entry_status?a("th",{staticStyle:{color:"red"}},[t._v("录入失败")]):t._e(),t._v(" "),2==e.entry_status?a("th",{staticStyle:{color:"green"}},[t._v("录入成功")]):t._e(),t._v(" "),a("th",[t._v(t._s(e.create_time))]),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"entryDetails",query:{id:e.entry_id}}}},[t._v("\n            详情\n          ")])],1)])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{key:e.text,class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("录入中心")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("录入列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("录入列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("任务描述")]),t._v(" "),a("th",[t._v("IP列表")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("创建日期")]),t._v(" "),a("th",[t._v("操作")])])])}]};var ka=a("VU/8")(ya,Ca,!1,function(t){a("+URT")},null,null).exports,wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alarm common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"marginTopBox entryMain marginTopBox"},[a("div",{staticClass:"blue-banner",staticStyle:{"line-height":"40px"}},[t._m(4),t._v(" "),a("div",{staticClass:"tab-blue",staticStyle:{"margin-left":"100px"}},[a("form",[a("table",{staticClass:"table table-striped common_table"},[a("thead",[a("tr",[a("th",[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("报警项名称")])],1),t._v(" "),a("th",[t._v("预警阈值")]),t._v(" "),a("th",[t._v("报警阈值")]),t._v(" "),a("th",[t._v("报警项说明")])])]),t._v(" "),a("tbody",t._l(t.alert_confs,function(e){return a("tr",{key:e.content},[a("th",[a("el-checkbox",{model:{value:e.enable,callback:function(a){t.$set(e,"enable",a)},expression:"item.enable"}},[t._v(t._s(e.name))])],1),t._v(" "),a("th",[t._v("\n                "+t._s(e.fatal)+"\n              ")]),t._v(" "),a("th",[t._v("\n                "+t._s(e.warn)+"\n              ")]),t._v(" "),a("th",[t._v("\n                "+t._s(e.content)+"\n              ")])])}))])])])])]),t._v(" "),t._m(5),t._v(" "),a("div",{staticClass:"marginTopBox entryMain marginTopBox"},[a("div",{staticClass:"blue-banner",staticStyle:{"line-height":"40px"}},[t._m(6),t._v(" "),a("div",{staticClass:"tab-blue",staticStyle:{"margin-left":"100px"}},t._l(t.contact_type,function(e){return a("el-checkbox",{key:e.key,model:{value:e.enable,callback:function(a){t.$set(e,"enable",a)},expression:"item.enable"}},[t._v(t._s(e.key))])}))])]),t._v(" "),t._m(7),t._v(" "),a("div",{staticClass:"marginTopBox entryMain marginTopBox"},[a("el-transfer",{attrs:{data:t.data},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("h3",{staticClass:"common_title"},[this._v("报警中心")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("IP地址信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"marginTopBox entryMain marginTopBox"},[a("div",{staticClass:"blue-banner",staticStyle:{display:"flex","line-height":"40px"}},[a("div",{staticClass:"entryTitle"},[a("span",[t._v("规则类型：")])]),t._v(" "),a("div",{staticClass:"tab-blue"},[a("ul",{staticClass:"nav nav-tabs",staticStyle:{height:"40px"}},[a("li",{staticClass:"active"},[a("a",{attrs:{href:"#host","data-toggle":"tab"}},[t._v("\n           Host\n         ")])]),t._v(" "),a("li",{},[a("a",{attrs:{href:"#MySQL_Standard","data-toggle":"tab"}},[t._v("\n             MySQL-Standard\n           ")])]),t._v(" "),a("li",{},[a("a",{attrs:{href:"#MySQL_Replication","data-toggle":"tab"}},[t._v("\n             MySQL-Replication\n           ")])]),t._v(" "),a("li",{},[a("a",{attrs:{href:"#pxc","data-toggle":"tab"}},[t._v("\n           PXC\n         ")])])])])]),t._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active blue-banner",staticStyle:{display:"flex"},attrs:{id:"host"}},[a("div",{staticClass:"entryTitle"},[a("span",[t._v("IP地址：")])]),t._v(" "),a("div",[a("textarea",{staticStyle:{border:"none"},attrs:{cols:"44",rows:"7",placeholder:"多个ip请换行"}})]),t._v(" "),a("div",{staticClass:"ipFormat"},[t._v("\n          支持以下格式输入"),a("br"),t._v("\n          127.0.0.1"),a("br"),t._v("\n          127.0.0.[1-10]"),a("br"),t._v("\n          127.0.0.[1,2,5]\n        ")])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"MySQL_Standard"}},[t._v("\n        MySQL_StandardMySQL_StandardMySQL_StandardMySQL_Standard\n      ")]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"MySQL_Replication"}},[t._v("\n        MySQL_ReplicationMySQL_ReplicationMySQL_ReplicationMySQL_ReplicationMySQL_Replication\n      ")]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"pxc"}},[t._v("\n        pxcpxcpxcpxcpxcpxcpxc\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("规则列表")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"entryTitle"},[e("span",[this._v("规则列表：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("接收方式")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"entryTitle"},[e("span",[this._v("接收方式：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("接收人")])])}]};var xa=a("VU/8")({data:function(){return{data:this.generateData(),value1:[],contact_way:"",contact_type:[{label:"dingding",key:"钉钉",enable:!1},{label:"text",key:"短信",enable:!1},{label:"wecheat",key:"微信",enable:!1},{label:"email",key:"邮件",enable:!1}],checkAll:!1,isIndeterminate:!0,alert_confs:[{name:"磁盘报警",content:"解释说明",type:0,dimension:"disk",metric:"used_percent",fatal:90,warn:80,judge_rule:">",readonly:!1,enable:!0},{name:"pxc报警",content:"解释说明",type:0,dimension:"pxc",metric:"wsrep_local_state",fatal:2,judge_rule:"=",readonly:!0,enable:!1}]}},mounted:function(){},methods:{handleCheckAllChange:function(t){this.alert_confs.forEach(function(e,a){e.enable=t})},generateData:function(){var t=[];return[{account_id:"",account_name:"aaa",tel:"",email:"",role_id:"",role_name:"",role_name_alias:"",wechat:"",dingding:""},{account_id:"",account_name:"bbb",tel:"",email:"",role_id:"",role_name:"",role_name_alias:"",wechat:"",dingding:""}].forEach(function(e,a,s){t.push({key:a,label:e.account_name})}),t}}},wa,!1,function(t){a("CdQK")},null,null).exports,Sa={data:function(){return{account_id:this.$cookies.get("account_id"),account_name:"",tel:"",email:"",role_id:"",role_name:"",role_name_alias:"",upUser:"",upAccountId:"",upRole_id:"",upUserName:"",upEmail:"",upTel:"",oldPassword:"",newPassword:"",confirmNewPassword:""}},mounted:function(){this.getAccountInfo(this.account_id)},methods:{getAccountInfo:function(t){var e="?account_id="+t;this.$http.get("/acmeCloud/account/info"+e).then(function(t){var e=t.body;0==e.status&&(this.account_id=e.data.account_id,this.account_name=e.data.account_name,this.tel=e.data.tel,this.email=e.data.email,this.role_id=e.data.role_id,this.role_name=e.data.role_name,this.role_name_alias=e.data.role_name_alias)})},upThisUser:function(){this.upAccountId=this.account_id,this.upRole_id=this.role_id,this.upUserName=this.account_name,this.upTel=this.tel,this.upEmail=this.email},updateModify:function(){var t={account_id:this.upAccountId,tel:this.upTel,email:this.upEmail,account_name:this.upUserName,role_id:this.upRole_id};this.$http.post("/acmeCloud/account/modify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.getAccountInfo(this.account_id)):alert("修改失败，请咨询DBA或者管理员!")},function(t){})},updateUserPassword:function(){var t={account_id:this.account_id,old_password:this.oldPassword,new_password:this.newPassword};this.$http.post("/acmeCloud/account/passwordmodify",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.oldPassword="",this.newPassword="",this.confirmNewPassword=""):alert("修改失败，请咨询DBA或者管理员!")},function(t){})},blurFn:function(){var t=this.newPassword,e=this.confirmNewPassword;""==t?(ts1.innerHTML="内容不能为空！",ts1.style.color="red"):/^([\w\.\_]|[\u4e00-\u9fa5]){6,15}$/.test(t)?(ts1.innerHTML="",ts1.style.color="green"):(ts1.innerHTML="格式错误，应输入6-15位字符！",ts1.style.color="red",this.newPassword=""),document.getElementById("configPwd").onblur=function(){""==e?(ts2.innerHTML="内容不能为空",ts2.style.color="red"):e==t?(ts2.innerHTML="",ts2.style.color="green"):(ts2.innerHTML="密码需保持一致",ts2.style.color="red",this.confirmNewPassword="")}}}},Aa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"personalInformation common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"userMain"},[a("table",[a("tr",[a("td",[t._v("用户姓名："+t._s(t.account_name))]),t._v(" "),a("td",[t._v("角色："),a("span",[t._v(t._s(t.role_name_alias))])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{"font-size":"12px",padding:"6px"},attrs:{"data-toggle":"modal","data-target":"#myModal"},on:{click:function(e){t.upThisUser()}}},[t._v("编辑\n          ")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"padding-top":"12px"}},[t._v("电话："+t._s(t.tel))]),t._v(" "),a("td",{staticStyle:{"padding-top":"12px"}},[t._v("Email："+t._s(t.email))]),t._v(" "),t._m(2)])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content",staticStyle:{height:"380px",padding:"10px"}},[t._m(3),t._v(" "),a("div",{staticClass:"modal-body",staticStyle:{height:"240px"}},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.upUserName,expression:"upUserName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"3~16位，可包含中文、字母、数字"},domProps:{value:t.upUserName},on:{input:function(e){e.target.composing||(t.upUserName=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("电话")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.upTel,expression:"upTel",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入有效电话"},domProps:{value:t.upTel},on:{input:function(e){e.target.composing||(t.upTel=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("div",{staticClass:"look"})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.upEmail,expression:"upEmail",modifiers:{trim:!0}}],attrs:{type:"email",placeholder:"请输入有效邮箱"},domProps:{value:t.upEmail},on:{input:function(e){e.target.composing||(t.upEmail=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("div",{staticClass:"look"})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.updateModify()}}},[t._v("提交更改\n            ")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal2",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel2","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(4),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",{staticStyle:{width:"15%"}},[t._v("原密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],attrs:{type:"password",placeholder:"请输入原始密码"},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",{staticStyle:{width:"15%"}},[t._v("新密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],attrs:{type:"password",placeholder:"请输入新的密码",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.newPassword},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look",attrs:{id:"ts1"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",{staticStyle:{width:"15%"}},[t._v("确认密码：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmNewPassword,expression:"confirmNewPassword"}],attrs:{type:"password",placeholder:"与新密码需保持一致",id:"configPwd",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.confirmNewPassword},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.confirmNewPassword=e.target.value)}}}),t._v(" "),a("div",{staticClass:"look",attrs:{id:"ts2"}})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.updateUserPassword}},[t._v("\n              提交更改\n            ")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("用户管理")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("基本信息")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("button",{staticClass:"btn btn-primary btn-lg",staticStyle:{"margin-top":"12px","font-size":"12px",padding:"6px"},attrs:{"data-toggle":"modal","data-target":"#myModal2"}},[this._v("修改密码\n          ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[this._v("修改用户信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel2"}},[this._v("修改用户密码")]),this._v(" "),e("span",{attrs:{id:"submitTips"}})])}]};var Na=a("VU/8")(Sa,Aa,!1,function(t){a("25O2")},null,null).exports,La={data:function(){return{saveRoleId:3,saveEmail:"",saveTel:"",saveName:"",savePasswd:"",userList:[],role_id:"",account_id:this.$cookies.get("account_id")}},mounted:function(){this.getAccountInfo(this.account_id)},methods:{getAccountInfo:function(t){var e="?account_id="+t;this.$http.get("/acmeCloud/account/info"+e).then(function(t){var e=t.body;0==e.status&&(this.account_id=e.data.account_id,this.account_name=e.data.account_name,this.tel=e.data.tel,this.email=e.data.email,this.role_id=e.data.role_id,this.role_name=e.data.role_name,this.role_name_alias=e.data.role_name_alias)})},blurFn:function(){var t=document.getElementsByTagName("input");t[0].onblur=function(){""==t[0].value?(newTS0.innerHTML="内容不能为空",newTS0.style.color="#F15533"):/^[\da-zA-Z_\u4e00-\u9f5a]{3,16}$/.test(t[0].value)?(newTS0.innerHTML="",newTS0.style.color="green"):(newTS0.innerHTML="格式错误",newTS0.style.color="#F15533",t[0].value="")},t[1].onblur=function(){""==t[1].value?(newTS1.innerHTML="内容不能为空",newTS1.style.color="#F15533"):/^([\w\.\_]|[\u4e00-\u9fa5]){6,15}$/.test(t[1].value)?(newTS1.innerHTML="",newTS1.style.color="green"):(newTS1.innerHTML="格式错误",newTS1.style.color="#F15533",t[1].value="")},t[2].onblur=function(){""==t[2].value?(newTS2.innerHTML="内容不能为空",newTS2.style.color="#F15533"):/^[01]\d{10}$/.test(t[2].value)?(newTS2.innerHTML="",newTS2.style.color="green"):(newTS2.innerHTML="格式错误",newTS2.style.color="#F15533",t[2].value="")},t[3].onblur=function(){""==t[3].value?(newTS3.innerHTML="内容不能为空",newTS3.style.color="#F15533"):/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t[3].value)?(newTS3.innerHTML="",newTS3.style.color="green"):(newTS3.innerHTML="格式错误",newTS3.style.color="#F15533",t[3].value="")}},addNewUser:function(){var t=document.getElementsByTagName("input");if(""==t[0].value||""==t[1].value||""==t[2].value||""==t[3].value)return newTS4.innerHTML="请完善您的添加信息",void(newTS4.style.color="#F15533");newTS4.innerHTML="";var e={account_name:this.saveName,account_password:this.savePasswd,tel:this.saveTel,email:this.saveEmail,role_id:this.saveRoleId};this.$http.post("/acmeCloud/account/add",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("添加成功!"),this.$router.push({path:"/info/userList"})):alert("添加失败，请咨询DBA或者管理员！!")},function(t){})}}},Ma={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addUser common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),1==t.role_id||2==t.role_id?a("div",{staticClass:"adduserBox"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"form-group"},[a("span",[t._v("用户名")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.saveName,expression:"saveName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"3~16位，可包含中文、字母、数字"},domProps:{value:t.saveName},on:{blur:[function(e){return e.preventDefault(),t.blurFn(e)},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.saveName=e.target.value.trim())}}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"},attrs:{id:"newTS0"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.savePasswd,expression:"savePasswd"}],attrs:{type:"password",placeholder:"6~15位，不能含有空格",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.savePasswd},on:{blur:function(e){return e.preventDefault(),t.blurFn(e)},input:function(e){e.target.composing||(t.savePasswd=e.target.value)}}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"},attrs:{id:"newTS1"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("联系方式")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.saveTel,expression:"saveTel",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入有效联系电话"},domProps:{value:t.saveTel},on:{blur:[function(e){return e.preventDefault(),t.blurFn(e)},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.saveTel=e.target.value.trim())}}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"},attrs:{id:"newTS2"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("邮箱")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.saveEmail,expression:"saveEmail",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入有效邮箱"},domProps:{value:t.saveEmail},on:{blur:[function(e){return e.preventDefault(),t.blurFn(e)},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.saveEmail=e.target.value.trim())}}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"},attrs:{id:"newTS3"}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("span",[t._v("角色")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.saveRoleId,expression:"saveRoleId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.saveRoleId=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:2}},[t._v("管理员")]),t._v(" "),a("option",{domProps:{value:3}},[t._v("普通账号")])])]),t._v(" "),a("div",{staticClass:"registerBtn"},[a("input",{staticClass:"add",attrs:{type:"button",value:"添加"},on:{click:function(e){t.addNewUser()}}}),t._v(" "),a("span",{staticStyle:{width:"20%"},attrs:{id:"newTS4"}})])])]):t._e(),t._v(" "),3==t.role_id?a("div",{staticClass:"tips"},[a("p",[t._v("您暂无权限添加用户")])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("用户管理")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("添加用户")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("添加用户")])])}]};var Ta=a("VU/8")(La,Ma,!1,function(t){a("O11o")},null,null).exports,Ea={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"roles common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("用户管理")]),a("span",{staticClass:"arrow"},[t._v(" > ")]),a("span",{staticClass:"titleUrl"},[t._v("权限说明")])])]),t._v(" "),a("div",{staticClass:"common_title_blue_bg"},[a("p",{staticClass:"common_title_size"},[t._v("权限说明")])]),t._v(" "),a("div",{staticClass:"roleMain"},[a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("超级管理员")]),t._v(" "),a("th",[t._v("管理员")]),t._v(" "),a("th",[t._v("普通账号")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("修改角色")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th"),t._v(" "),a("th")]),t._v(" "),a("tr",[a("td",[t._v("添加用户")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th")]),t._v(" "),a("tr",[a("td",[t._v("用户管理")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("主机录入")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("主机管理")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("MySQL管理")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("慢查询")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("系统巡检")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("备份")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("还原")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("监控")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("报警")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("数据同步")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[t._v("数据迁移")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")]),t._v(" "),a("th",[t._v("✔")])])])])])])}]};var Ia=a("VU/8")({},Ea,!1,function(t){a("G4Al")},null,null).exports,$a=a("KnoH"),Pa={0:"通过",1:"失败"},Ua={data:function(){return{active:0,architecture_type:0,nameList_type:0,isShow:!0,taskIsShow:!0,creatshrink1:!0,creatshrink2:!0,creatshrink3:!0,taskshrink1:!0,taskshrink2:!0,taskshrink3:!0,taskshrink4:!0,taskName:"",sourceType:0,srcInstance:"",srcIp:"",srcPort:"",srcUser:"",srcPass:"",binlogFile:"",binlogPos:"",dst_type:0,dstInstance:"",dstUser:"",dstPass:"",db_type:0,dstIP:"",dstPort:"",srcName:[{instance_name:""}],dstName:[{instance_name:""}],tunnelName:"",gateCluster:"",gatedbUser:"",gatedbPass:"",clusterName:[{cluster_name:""}],arkgate_parallel_workers:5,arkgate_worker_queue_length:1e4,arkgate_replication_source:1,arkgate_json_full_image:1,arkgate_binlog_expire_hours:168,arkgate_delete_chunk_size:5e3,arkgate_delete_workers:5,type:0,lists:[{dbname:"",table:"",type:this.type}],ip:"",path:"",threadNum:8,startId:1,limitQueryRows:4e3,bufferSize:8e3,doubleActive:0,biz_conflict_api:"",execMode:0,isOffAndOn:[{value:1,label:"ON"},{value:0,label:"OFF"}],srcList:[{instance_name:""}],renameList:[{task_name:this.tunnelName,original_db:"",original_table:"",new_db:"",new_table:""}],columnList:[{dbname:"",tablename:"",column_names:"",task_name:this.tunnelName}],ddlList:[{task_name:this.tunnelName,dbname:"",tablename:"",optype:"",action:""}],tunnelList:[{src_type:0,instance_name:"",port:"",ip:""}],YX:[{text:"ALTER TABLE",ZY:[{text:"ADD INDEX"},{text:"DROP INDEX "},{text:"CHANGE"},{text:"ADD COLUMN"},{text:"DROP COLUMN "},{text:"MODIFY"}]},{text:"CREATE TABLE",ZY:[]},{text:"TRUNCATE TABLE",ZY:[]},{text:"DROP TABLE",ZY:[]}],A:"",a0:[""],src_type:0,value5:[],resultLists:[{check_item:"",check_content:"",check_status:""}],resultItem:"",tunnerIndex:0,isSubmit:!1}},filters:{tocheckStatus:function(t){return Pa[t]||""}},mounted:function(){var t=0,e=document.getElementsByName("li");for(t=0;t<e.length;t++)e[t].onclick=function(){for(t=0;t<e.length;t++)e[t].classList.remove("li");this.classList.add("li")};var a=0,s=document.getElementsByName("liInput");for(a=0;a<s.length;a++)s[a].onclick=function(){for(a=0;a<s.length;a++)s[a].classList.remove("liInput");this.classList.add("liInput")};var i=0,n=document.getElementsByName("li_source");for(i=0;i<n.length;i++)n[i].onclick=function(){for(i=0;i<n.length;i++)n[i].classList.remove("li_source");this.classList.add("li_source")};var l=0,o=document.getElementsByName("heightSource"+this.tunnerIndex);for(l=0;l<o.length;l++)o[l].onclick=function(){for(l=0;l<o.length;l++)o[l].classList.remove("heightSource");this.classList.add("heightSource")};this.getOptionName(),this.getClusterName()},updated:function(){for(var t=document.getElementsByName("liType"),e=0;e<t.length;e++)t[e].onclick=function(){for(e=0;e<t.length;e++)t[e].classList.remove("liType");this.classList.add("liType")};var a=0,s=document.getElementsByName("liStructure");for(a=0;a<s.length;a++)s[a].onclick=function(){for(a=0;a<s.length;a++)s[a].classList.remove("liStructure");this.classList.add("liStructure")};var i=0,n=document.getElementsByName("heightSource"+this.tunnerIndex);for(i=0;i<n.length;i++)n[i].onclick=function(){for(i=0;i<n.length;i++)n[i].classList.remove("heightSource");this.classList.add("heightSource")};var l=0,o=document.getElementsByName("liNamelist");for(l=0;l<o.length;l++)o[l].onclick=function(){for(l=0;l<o.length;l++)o[l].classList.remove("liNamelist");this.classList.add("liNamelist")};var r=0,c=document.getElementsByName("liHandle");for(r=0;r<c.length;r++)c[r].onclick=function(){for(r=0;r<c.length;r++)c[r].classList.remove("liHandle");this.classList.add("liHandle")}},computed:{selection:function(){for(var t=0;t<this.YX.length;t++)if(this.YX[t].text==this.A)return this.YX[t].ZY}},methods:{indexSelect:function(t,e){for(var a=t.target.value,s=0;s<this.YX.length;s++)if(this.YX[s].text==a){this.a0[e]=s;break}this.ddlList[e].action=""},getOptionName:function(){this.$http.get("/arkgate/instancelist").then(function(t){var e=t.body;0==e.status&&(this.srcName=e.data,this.dstName=e.data,this.srcName&&this.srcName.length>0&&(this.srcInstance=this.srcName[0].instance_name),this.dstName&&this.dstName.length>0&&(this.dstInstance=this.dstName[0].instance_name))})},getClusterName:function(){this.$http.get("/arkgate/gatecluster").then(function(t){var e=t.body;0==e.status&&(this.clusterName=e.data)})},getGatepara:function(t){var e="?instance_name="+t;this.$http.get("/arkgate/gatesrclist"+e).then(function(t){var e=t.body;0==e.status&&(this.srcList=e.data)})},checkbeforecommit:function(){if(this.renameList.length>0)for(var t=0;t<this.renameList.length;t++)this.renameList[t].task_name=this.tunnelName;if(this.columnList.length>0)for(t=0;t<this.columnList.length;t++)this.columnList[t].task_name=this.tunnelName;if(this.ddlList.length>0)for(t=0;t<this.ddlList.length;t++)this.ddlList[t].task_name=this.tunnelName;if(this.tunnelList.length>0)for(t=0;t<this.tunnelList.length;t++)this.tunnelList[t].port?this.tunnelList[t].port=parseInt(this.tunnelList[t].port):this.tunnelList[t].port=null;var e={src_dst_info:{task_name:this.taskName,src_type:parseInt(this.sourceType),src_instance:this.srcInstance,src_ip:this.srcIp,src_port:parseInt(this.srcPort),src_user:this.srcUser,src_pass:this.srcPass,binlog_file:this.binlogFile,binlog_pos:parseInt(this.binlogPos),dst_type:parseInt(this.dst_type),db_type:parseInt(this.db_type),dst_instance:this.dstInstance,dst_user:this.dstUser,dst_pass:this.dstPass,dst_ip:this.dstIP,dst_port:parseInt(this.dstPort)},gate_info:{tunnel:this.tunnelName,gate_cluster:this.gateCluster,gatedb_user:this.gatedbUser,gatedb_pass:this.gatedbPass,gate_parameter:{arkgate_parallel_workers:parseInt(this.arkgate_parallel_workers),arkgate_worker_queue_length:parseInt(this.arkgate_worker_queue_length),arkgate_replication_source:parseInt(this.arkgate_replication_source),arkgate_json_full_image:parseInt(this.arkgate_json_full_image),arkgate_binlog_expire_hours:parseInt(this.arkgate_binlog_expire_hours),arkgate_delete_chunk_size:parseInt(this.arkgate_delete_chunk_size),arkgate_delete_workers:parseInt(this.arkgate_delete_workers)},filter:this.lists,src_slave:this.tunnelList},etl_info:{ip:this.ip,path:this.path,task_name:this.tunnelName,etl_parameter:{task_name:this.tunnelName,thread_num:parseInt(this.threadNum),start_id:parseInt(this.startId),limit_query_rows:parseInt(this.limitQueryRows),buffer_size:parseInt(this.bufferSize),double_active:this.doubleActive,exec_mode:this.execMode,biz_conflict_api:this.biz_conflict_api},rename:this.renameList,filter_col:this.columnList,filter_opt:this.ddlList}};this.$http.post("/arkgate/checkbeforecommit",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;if(0==e.status&&(this.resultLists=e.data,this.resultLists.length>0))for(var a=0;a<this.resultLists.length;a++){if(1===this.resultLists[a].check_status){this.isSubmit=!1;break}this.isSubmit=!0}},function(t){})},commitTask:function(){if(this.isSubmit=!1,this.renameList.length>0)for(var t=0;t<this.renameList.length;t++)this.renameList[t].task_name=this.tunnelName;if(this.columnList.length>0)for(t=0;t<this.columnList.length;t++)this.columnList[t].task_name=this.tunnelName;if(this.ddlList.length>0)for(t=0;t<this.ddlList.length;t++)this.ddlList[t].task_name=this.tunnelName;if(this.tunnelList.length>0)for(t=0;t<this.tunnelList.length;t++)this.tunnelList[t].port?this.tunnelList[t].port=parseInt(this.tunnelList[t].port):this.tunnelList[t].port=null;var e={src_dst_info:{task_name:this.taskName,src_type:parseInt(this.sourceType),src_instance:this.srcInstance,src_ip:this.srcIp,src_port:parseInt(this.srcPort),src_user:this.srcUser,src_pass:this.srcPass,binlog_file:this.binlogFile,binlog_pos:parseInt(this.binlogPos),dst_type:parseInt(this.dst_type),db_type:parseInt(this.db_type),dst_instance:this.dstInstance,dst_user:this.dstUser,dst_pass:this.dstPass,dst_ip:this.dstIP,dst_port:parseInt(this.dstPort)},gate_info:{tunnel:this.tunnelName,gate_cluster:this.gateCluster,gatedb_user:this.gatedbUser,gatedb_pass:this.gatedbPass,gate_parameter:{arkgate_parallel_workers:parseInt(this.arkgate_parallel_workers),arkgate_worker_queue_length:parseInt(this.arkgate_worker_queue_length),arkgate_replication_source:parseInt(this.arkgate_replication_source),arkgate_json_full_image:parseInt(this.arkgate_json_full_image),arkgate_binlog_expire_hours:parseInt(this.arkgate_binlog_expire_hours),arkgate_delete_chunk_size:parseInt(this.arkgate_delete_chunk_size),arkgate_delete_workers:parseInt(this.arkgate_delete_workers)},filter:this.lists,src_slave:this.tunnelList},etl_info:{ip:this.ip,path:this.path,task_name:this.tunnelName,etl_parameter:{task_name:this.tunnelName,thread_num:parseInt(this.threadNum),start_id:parseInt(this.startId),limit_query_rows:parseInt(this.limitQueryRows),buffer_size:parseInt(this.bufferSize),double_active:this.doubleActive,exec_mode:this.execMode,biz_conflict_api:this.biz_conflict_api},rename:this.renameList,filter_col:this.columnList,filter_opt:this.ddlList}};this.$http.post("/arkgate/commit",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?this.$router.replace({path:"synchronDetails?task_id="+e.data}):this.$notify.error({title:"提交失败",message:"请联系管理员或DBA"})},function(t){})},addInput:function(){var t={type:this.filterType,dbname:"",table:""};this.lists.push(t)},delInput:function(t){this.lists.splice(t,1)},addRename:function(){var t={original_db:"",original_table:"",new_db:"",new_table:"",task_name:this.tunnelName};this.renameList.push(t)},delRename:function(t){this.renameList.splice(t,1)},addColumn:function(){var t={dbname:"",tablename:"",column_names:"",task_name:this.tunnelName};this.columnList.push(t)},delColumn:function(t){this.columnList.splice(t,1)},addDDL:function(){var t={dbname:"",tablename:"",optype:"",action:"",task_name:this.tunnelName};this.ddlList.push(t),this.a0.push("")},delDDL:function(t){this.ddlList.splice(t,1),this.a0.splice(t,1)},delTunnel:function(t){this.tunnelList.splice(t,1)},addTunnel:function(){this.tunnelList.push({src_type:0,instance_name:"",instance_port:"",instance_ip:""}),this.tunnerIndex++},prev:function(){--this.active,this.active<0&&(this.active=0),window.scrollTo(0,0)},next:function(){this.active++>3&&(this.active=0),window.scrollTo(0,0)},nextCheck:function(){this.active++>3&&(this.active=0),window.scrollTo(0,0),this.checkbeforecommit()}}},za={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"createSynchronization common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"createStep marginTopBox"},[s("el-steps",{attrs:{active:t.active,simple:""}},[s("el-step",{attrs:{title:"源库及目的库"}}),t._v(" "),s("el-step",{attrs:{title:"通道配置"}}),t._v(" "),s("el-step",{attrs:{title:"任务配置"}}),t._v(" "),s("el-step",{attrs:{title:"预检查"}})],1),t._v(" "),0===t.active?s("div",{staticClass:"library"},[t._m(2),t._v(" "),s("div",{staticClass:"libraryCon"},[s("table",[s("tr",[t._m(3),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.taskName,expression:"taskName",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text",maxlength:"20",placeholder:"请输入任务名称，最大长度为20位字符"},domProps:{value:t.taskName},on:{input:function(e){e.target.composing||(t.taskName=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"taskName"}})])]),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[s("ul",{staticClass:"instanceBox"},[s("li",{staticClass:"liInput",staticStyle:{"border-right":"1px solid #fff",width:"50%"},attrs:{name:"liInput"},on:{click:function(e){t.sourceType=0}}},[t._v("已录入实例\n                ")]),t._v(" "),s("li",{staticStyle:{width:"50%"},attrs:{name:"liInput"},on:{click:function(e){t.sourceType=1}}},[t._v("未录入实例")])])])]),t._v(" "),0==t.sourceType?s("tr",[t._m(5),t._v(" "),s("td",[s("el-select",{staticStyle:{position:"relative",top:"2px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:function(e){t.getGatepara(t.srcInstance)}},model:{value:t.srcInstance,callback:function(e){t.srcInstance=e},expression:"srcInstance"}},t._l(t.srcName,function(t,e){return s("el-option",{key:e,attrs:{label:t.instance_name,value:t.instance_name}})})),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"nameTip"}})],1)]):t._e(),t._v(" "),1==t.sourceType?s("tr",[t._m(6),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.srcIp,expression:"srcIp"}],staticClass:"input",attrs:{type:"text",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.srcIp},on:{input:function(e){e.target.composing||(t.srcIp=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"insTip"}})])]):t._e(),t._v(" "),1==t.sourceType?s("tr",[t._m(7),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.srcPort,expression:"srcPort"}],staticClass:"input",attrs:{type:"number",placeholder:"3306",oninput:"if(value.length>4)value=value.slice(0,4)"},domProps:{value:t.srcPort},on:{input:function(e){e.target.composing||(t.srcPort=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"insTips"}})])]):t._e(),t._v(" "),s("tr",[t._m(8),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.srcUser,expression:"srcUser"}],staticClass:"input",attrs:{type:"text",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.srcUser},on:{input:function(e){e.target.composing||(t.srcUser=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"numberTip"}})])]),t._v(" "),s("tr",[t._m(9),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.srcPass,expression:"srcPass"}],staticClass:"input",attrs:{type:"password",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.srcPass},on:{input:function(e){e.target.composing||(t.srcPass=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"pasTip"}})])]),t._v(" "),s("tr",[t._m(10),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.binlogFile,expression:"binlogFile"}],staticClass:"input",attrs:{type:"text",placeholder:"mysql-bin.000001",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.binlogFile},on:{input:function(e){e.target.composing||(t.binlogFile=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"binlogTip"}})])]),t._v(" "),s("tr",[t._m(11),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.binlogPos,expression:"binlogPos"}],staticClass:"input",attrs:{type:"text",placeholder:"194",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.binlogPos},on:{input:function(e){e.target.composing||(t.binlogPos=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"binlogTips"}})])])])]),t._v(" "),t._m(12),t._v(" "),s("div",{staticClass:"libraryTab"},[s("table",[s("tr",[t._m(13),t._v(" "),s("td",[s("div",{staticStyle:{position:"relative",top:"-3px"}},[s("ul",{staticClass:"sqlliType"},[s("li",{staticClass:"li",staticStyle:{"border-right":"1px solid #fff",cursor:"pointer"},attrs:{name:"li"},on:{click:function(e){t.db_type=0}}},[t._v("\n                    MySQL\n                  ")]),t._v(" "),s("li",{staticStyle:{"border-right":"1px solid #fff","pointer-events":"none",background:"rgb(209, 209, 209)"},on:{click:function(e){t.db_type=1}}},[t._v("\n                    Kafka\n                  ")]),t._v(" "),s("li",{staticStyle:{"border-right":"1px solid #fff","pointer-events":"none",background:"rgb(209, 209, 209)"},on:{click:function(e){t.db_type=2}}},[t._v("Redis\n                  ")]),t._v(" "),s("li",{staticStyle:{"border-right":"1px solid #fff","pointer-events":"none",background:"rgb(209, 209, 209)"},on:{click:function(e){t.db_type=3}}},[t._v("ES\n                  ")]),t._v(" "),s("li",{staticStyle:{"pointer-events":"none",background:"rgb(209, 209, 209)"},on:{click:function(e){t.db_type=4}}},[t._v("\n                    Oracle\n                  ")])])])])]),t._v(" "),0==t.db_type?s("tr",[t._m(14),t._v(" "),s("td",[s("ul",{staticClass:"sourceBox"},[s("li",{staticClass:"li_source",staticStyle:{"border-right":"1px solid #fff",width:"50%"},attrs:{name:"li_source"},on:{click:function(e){t.dst_type=0}}},[t._v("已录入实例\n                ")]),t._v(" "),s("li",{staticStyle:{width:"50%"},attrs:{name:"li_source"},on:{click:function(e){t.dst_type=1}}},[t._v("未录入实例")])])])]):t._e(),t._v(" "),0==t.dst_type&&0==t.db_type?s("tr",[t._m(15),t._v(" "),s("td",[s("el-select",{staticStyle:{position:"relative",top:"2px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.dstInstance,callback:function(e){t.dstInstance=e},expression:"dstInstance"}},t._l(t.dstName,function(t,e){return s("el-option",{key:e,attrs:{label:t.instance_name,value:t.instance_name}})})),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"nameTips"}})],1)]):t._e(),t._v(" "),1==t.dst_type&&0==t.db_type?s("tr",[t._m(16),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dstIP,expression:"dstIP"}],staticClass:"input",attrs:{type:"text",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.dstIP},on:{input:function(e){e.target.composing||(t.dstIP=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"}})])]):t._e(),t._v(" "),1==t.dst_type&&0==t.db_type?s("tr",[t._m(17),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dstPort,expression:"dstPort"}],staticClass:"input",attrs:{type:"number",placeholder:"3306",oninput:"if(value.length>4)value=value.slice(0,4)"},domProps:{value:t.dstPort},on:{input:function(e){e.target.composing||(t.dstPort=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"}})])]):t._e(),t._v(" "),0==t.db_type?s("tr",[t._m(18),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dstUser,expression:"dstUser"}],staticClass:"input",attrs:{type:"text",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.dstUser},on:{input:function(e){e.target.composing||(t.dstUser=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"numberTips"}})])]):t._e(),t._v(" "),0==t.db_type?s("tr",[t._m(19),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dstPass,expression:"dstPass"}],staticClass:"input",attrs:{type:"password",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.dstPass},on:{input:function(e){e.target.composing||(t.dstPass=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"pasTips"}})])]):t._e(),t._v(" "),1==t.db_type?s("tr",[t._m(20),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dstIP,expression:"dstIP"}],staticClass:"input",attrs:{type:"text",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.dstIP},on:{input:function(e){e.target.composing||(t.dstIP=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"ipTips"}})])]):t._e(),t._v(" "),1==t.db_type?s("tr",[t._m(21),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dstPort,expression:"dstPort"}],staticClass:"input",attrs:{type:"number",oninput:"if(value.length>4)value=value.slice(0,4)"},domProps:{value:t.dstPort},on:{input:function(e){e.target.composing||(t.dstPort=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"portTip"}})])]):t._e()])])]):t._e(),t._v(" "),1===t.active?s("div",{staticClass:"config"},[t._m(22),t._v(" "),s("div",{staticClass:"basicConfig"},[s("table",[s("tr",[t._m(23),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tunnelName,expression:"tunnelName"}],staticClass:"input",attrs:{type:"text",maxlength:"20",placeholder:"禁止输入中文，最大长度为20位字符",onkeyup:"this.value=this.value.replace(/[^\\w_]/g,'')"},domProps:{value:t.tunnelName},on:{input:function(e){e.target.composing||(t.tunnelName=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"basicname"}})])]),t._v(" "),s("tr",[t._m(24),t._v(" "),s("td",[s("el-select",{staticStyle:{position:"relative",top:"2px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:t.gateCluster,callback:function(e){t.gateCluster=e},expression:"gateCluster"}},t._l(t.clusterName,function(t,e){return s("el-option",{key:e,attrs:{label:t.cluster_name,value:t.cluster_name}})})),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"basiccolony"}}),t._v(" "),s("p",[t._v("备注：同步工作集群为MySQL数据库集群。")]),t._v(" "),s("p",[t._v("请在选择集群前，请手动安装相关依赖包，具体安装方法，请参阅《Arkcontrol同步服务使用手册》")]),t._v(" "),s("p",[t._v("同时在该集群上缓存同步数据以及同步重要信息。建议该集群为空集群，以避免影响线上业务。")])],1)]),t._v(" "),s("tr",[t._m(25),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gatedbUser,expression:"gatedbUser"}],staticClass:"input",attrs:{type:"text",placeholder:"同步工作集群的访问账号",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.gatedbUser},on:{input:function(e){e.target.composing||(t.gatedbUser=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"basicnumber"}})])]),t._v(" "),s("tr",[t._m(26),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gatedbPass,expression:"gatedbPass"}],staticClass:"input",attrs:{type:"password",placeholder:"同步工作集群的访问密码",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.gatedbPass},on:{input:function(e){e.target.composing||(t.gatedbPass=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"basicpsd"}})])])])]),t._v(" "),s("div",{staticClass:"seniorBox marginTopBox"},[t.isShow?s("span",{on:{click:function(e){t.isShow=!1}}},[t._v("高级配置")]):t._e(),t._v(" "),0==t.isShow?s("span",{on:{click:function(e){t.isShow=!0}}},[t._v("收起配置")]):t._e()]),t._v(" "),0==t.isShow?s("div",{staticClass:"creatMain marginTopBox"},[s("div",{staticClass:"common_title_blue_bg"},[s("p",{staticClass:"common_title_size"},[t._v("通道-参数配置")]),t._v(" "),t.creatshrink1?s("span",{on:{click:function(e){t.creatshrink1=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.creatshrink1?s("span",{on:{click:function(e){t.creatshrink1=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.creatshrink1?s("div",{staticClass:"parameterConfig"},[s("table",[s("tr",[s("td",[t._v("同步线程：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.arkgate_parallel_workers,expression:"arkgate_parallel_workers"}],staticClass:"input",attrs:{type:"number",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.arkgate_parallel_workers},on:{input:function(e){e.target.composing||(t.arkgate_parallel_workers=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"thread"}})])]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft"},[t._v("工作队列长度：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.arkgate_worker_queue_length,expression:"arkgate_worker_queue_length"}],staticClass:"input",attrs:{type:"number",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.arkgate_worker_queue_length},on:{input:function(e){e.target.composing||(t.arkgate_worker_queue_length=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"parlength"}})])]),t._v(" "),s("tr",[s("td",[t._v("源库架构类型：")]),t._v(" "),s("td",[s("ul",{staticClass:"typeTwo",staticStyle:{width:"260px"}},[s("li",{staticClass:"liStructure",staticStyle:{"border-right":"1px solid #fff",width:"50%"},attrs:{name:"liStructure"},on:{click:function(e){t.arkgate_replication_source=1}}},[t._v("原生MySQL\n                  ")]),t._v(" "),s("li",{staticStyle:{width:"50%"},attrs:{name:"liStructure"},on:{click:function(e){t.arkgate_replication_source=2}}},[t._v("阿里云(RDS)")])])])]),t._v(" "),s("tr",[s("td",[t._v("是否包含表结构的全部信息：")]),t._v(" "),s("td",[s("ul",{staticClass:"typeOne"},[s("li",{staticClass:"liType",staticStyle:{"border-right":"1px solid #fff"},attrs:{name:"liType"},on:{click:function(e){t.arkgate_json_full_image=1}}},[t._v("包含\n                  ")]),t._v(" "),s("li",{attrs:{name:"liType"},on:{click:function(e){t.arkgate_json_full_image=0}}},[t._v("不包含")])]),t._v(" "),s("span",{staticStyle:{position:"relative",display:"inline-block","margin-top":"5px","margin-left":"10px","font-size":"12px"}},[t._v("默认包含，用于同步到MySQL场景，不包含适用于HBase、ES等场景")])])]),t._v(" "),s("tr",[s("td",[t._v("数据保留时长(小时)：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.arkgate_binlog_expire_hours,expression:"arkgate_binlog_expire_hours"}],staticClass:"input",attrs:{type:"number",placeholder:"输入范围：[1-1000]",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.arkgate_binlog_expire_hours},on:{input:function(e){e.target.composing||(t.arkgate_binlog_expire_hours=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"partime"}})])]),t._v(" "),s("tr",[s("td",[t._v("删除数据分配大小(行数)：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.arkgate_delete_chunk_size,expression:"arkgate_delete_chunk_size"}],staticClass:"input",attrs:{type:"number",placeholder:"输入范围：[1-1000000]",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.arkgate_delete_chunk_size},on:{input:function(e){e.target.composing||(t.arkgate_delete_chunk_size=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"parline"}})])]),t._v(" "),s("tr",[s("td",[t._v("删除数据线程数：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.arkgate_delete_workers,expression:"arkgate_delete_workers"}],staticClass:"input",attrs:{type:"number",placeholder:"输入范围：[1-999]",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.arkgate_delete_workers},on:{input:function(e){e.target.composing||(t.arkgate_delete_workers=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"parthread"}})])])])]):t._e(),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("通道-过滤配置")]),t._v(" "),t.creatshrink2?s("span",{on:{click:function(e){t.creatshrink2=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.creatshrink2?s("span",{on:{click:function(e){t.creatshrink2=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.creatshrink2?s("div",{staticClass:"filterSetting"},[s("p",{staticStyle:{"margin-bottom":"20px"}},[t._v("白名单：只同步符合要求的表数据。黑名单：忽略符合要求的表数据。两者只能配置一种")]),t._v(" "),s("table",[s("tr",[s("td",{staticClass:"tdLeft"},[t._v("类型：")]),t._v(" "),s("td",[s("ul",[s("li",{staticClass:"liNamelist",staticStyle:{"border-right":"1px solid #fff"},attrs:{name:"liNamelist"},on:{click:function(e){t.type=0}}},[t._v("黑名单\n                  ")]),t._v(" "),s("li",{attrs:{name:"liNamelist"},on:{click:function(e){t.type=1}}},[t._v("白名单")])])])])]),t._v(" "),s("table",{staticClass:"filterAdd"},[t._m(27),t._v(" "),t._l(t.lists,function(e,a){return s("tr",{key:a},[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.dbname,expression:"list.dbname"}],attrs:{type:"text",placeholder:"database name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.dbname},on:{input:function(a){a.target.composing||t.$set(e,"dbname",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.table,expression:"list.table"}],attrs:{type:"text",placeholder:"table name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.table},on:{input:function(a){a.target.composing||t.$set(e,"table",a.target.value)}}})]),t._v(" "),s("td",[s("button",{on:{click:function(e){t.delInput(a)}}},[t._v("删除")])])])})],2),t._v(" "),s("button",{staticClass:"addbtnList",on:{click:function(e){t.addInput()}}},[t._v("添加")])]):t._e(),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("通道-数据源高可用配置")]),t._v(" "),t.creatshrink3?s("span",{on:{click:function(e){t.creatshrink3=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.creatshrink3?s("span",{on:{click:function(e){t.creatshrink3=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.creatshrink3?s("div",{staticClass:"heightConfig"},[s("p",[t._v("备注：数据源高可用配置，用于当同步源数据库出现宕机后，或者别的原因导致不可用的时候，如果配置了高可用，通道可以自动的切换到可用的从库，继续同步，确保同步正常。")]),t._v(" "),t._l(t.tunnelList,function(e,a){return s("div",{key:a,staticClass:"addConfigBox"},[s("div",{staticClass:"addBoxlist"},[s("table",{staticClass:"filterAdd"},[s("tr",[t._m(28,!0),t._v(" "),s("td",[s("ul",{staticClass:"sourceBox"},[s("li",{staticClass:"heightSource",staticStyle:{"border-right":"1px solid #fff",width:"50%"},attrs:{name:"heightSource"+a},on:{click:function(s){e.src_type=0,t.tunnerIndex=a}}},[t._v("已录入实例\n                      ")]),t._v(" "),s("li",{staticStyle:{width:"50%"},attrs:{name:"heightSource"+a},on:{click:function(s){e.src_type=1,t.tunnerIndex=a}}},[t._v("未录入实例")])])])]),t._v(" "),0==e.src_type?s("tr",[t._m(29,!0),t._v(" "),s("td",[s("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.instance_name,callback:function(a){t.$set(e,"instance_name",a)},expression:"tunnel.instance_name"}},t._l(t.srcList,function(t,e){return s("el-option",{key:e,attrs:{label:t.instance_name,value:t.instance_name}})}))],1)]):t._e(),t._v(" "),1==e.src_type?s("tr",[t._m(30,!0),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.ip,expression:"tunnel.ip"}],staticClass:"input",attrs:{type:"text",placeholder:"请输入实例的IP地址",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.ip},on:{input:function(a){a.target.composing||t.$set(e,"ip",a.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"}})])]):t._e(),t._v(" "),1==e.src_type?s("tr",[t._m(31,!0),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.port,expression:"tunnel.port"}],staticClass:"input",attrs:{type:"number",placeholder:"3306",oninput:"if(value.length>4)value=value.slice(0,4)"},domProps:{value:e.port},on:{input:function(a){a.target.composing||t.$set(e,"port",a.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"}})])]):t._e()])]),t._v(" "),s("div",{staticClass:"delBoxlist"},[s("button",{on:{click:function(e){t.delTunnel(a)}}},[t._v("删除")])])])}),t._v(" "),s("button",{attrs:{id:"addKu"},on:{click:function(e){t.addTunnel()}}},[t._v("添加源从库")])],2):t._e()]):t._e()]):t._e(),t._v(" "),2===t.active?s("div",{staticClass:"taskConfig"},[t._m(32),t._v(" "),s("div",{staticClass:"taskBasic"},[s("table",[s("tr",[t._m(33),t._v(" "),s("td",[t._v("\n              "+t._s(t.tunnelName)+"\n            ")])])])]),t._v(" "),s("div",{staticClass:"taskBox"},[t.taskIsShow?s("span",{on:{click:function(e){t.taskIsShow=!1}}},[t._v("高级配置")]):t._e(),t._v(" "),0==t.taskIsShow?s("span",{on:{click:function(e){t.taskIsShow=!0}}},[t._v("收起配置")]):t._e()]),t._v(" "),0==t.taskIsShow?s("div",{staticClass:"taskInformation marginTopBox"},[s("div",{staticClass:"common_title_blue_bg"},[s("p",{staticClass:"common_title_size"},[t._v("任务高级信息")]),t._v(" "),t.taskshrink1?s("span",{on:{click:function(e){t.taskshrink1=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.taskshrink1?s("span",{on:{click:function(e){t.taskshrink1=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.taskshrink1?s("div",{staticClass:"heightConfigOne"},[s("table",[s("tr",[s("td",{staticClass:"tdLeft"},[t._v("工作线程：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.threadNum,expression:"threadNum"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.threadNum},on:{input:function(e){e.target.composing||(t.threadNum=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"heightThread"}})])]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft"},[t._v("开始位置：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.startId,expression:"startId"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.startId},on:{input:function(e){e.target.composing||(t.startId=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"heightBegin"}})])]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft"},[t._v("工作步长：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.limitQueryRows,expression:"limitQueryRows"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.limitQueryRows},on:{input:function(e){e.target.composing||(t.limitQueryRows=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"heightLength"}})])]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft"},[t._v("缓存大小：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.bufferSize,expression:"bufferSize"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.bufferSize},on:{input:function(e){e.target.composing||(t.bufferSize=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"heightSize"}})])]),t._v(" "),s("tr",[s("td",[t._v("双活开关：")]),t._v(" "),s("td",[s("el-select",{staticStyle:{width:"15%"},model:{value:t.doubleActive,callback:function(e){t.doubleActive=e},expression:"doubleActive"}},t._l(t.isOffAndOn,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft",staticStyle:{position:"relative",top:"-3px"}},[t._v("出错处理：")]),t._v(" "),s("td",[s("div",{staticStyle:{position:"relative",top:"-3px"}},[s("ul",{staticClass:"sqlliType"},[s("li",{staticClass:"liHandle",staticStyle:{"border-right":"1px solid #fff",width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.execMode=0}}},[t._v("跳过\n                    ")]),t._v(" "),s("li",{staticStyle:{"border-right":"1px solid #fff",width:"30%"},attrs:{name:"liHandle"},on:{click:function(e){t.execMode=1}}},[t._v("覆盖执行\n                    ")]),t._v(" "),s("li",{staticStyle:{width:"30%","border-right":"1px solid #fff"},attrs:{name:"liHandle"},on:{click:function(e){t.execMode=2}}},[t._v("\n                      API模式\n                    ")]),t._v(" "),s("li",{staticStyle:{width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.execMode=3}}},[t._v("退出")])])])])]),t._v(" "),2==t.execMode?s("tr",[s("td",{staticClass:"tdLeft"},[t._v("API：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.biz_conflict_api,expression:"biz_conflict_api"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.biz_conflict_api},on:{input:function(e){e.target.composing||(t.biz_conflict_api=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"}})])]):t._e()])]):t._e(),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("规则配置-表重命名配置")]),t._v(" "),t.taskshrink2?s("span",{on:{click:function(e){t.taskshrink2=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.taskshrink2?s("span",{on:{click:function(e){t.taskshrink2=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.taskshrink2?s("div",{staticClass:"ruleConfig"},[s("table",{staticClass:"filterAdd"},[t._m(34),t._v(" "),t._l(t.renameList,function(e,a){return s("tr",{key:a},[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.original_db,expression:"rename.original_db"}],attrs:{type:"text",placeholder:"database name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.original_db},on:{input:function(a){a.target.composing||t.$set(e,"original_db",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.original_table,expression:"rename.original_table"}],attrs:{type:"text",placeholder:"table name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.original_table},on:{input:function(a){a.target.composing||t.$set(e,"original_table",a.target.value)}}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center","font-size":"14px","font-weight":"bold"}},[t._v("=>")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_db,expression:"rename.new_db"}],attrs:{type:"text",placeholder:"database name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.new_db},on:{input:function(a){a.target.composing||t.$set(e,"new_db",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_table,expression:"rename.new_table"}],attrs:{type:"text",placeholder:"table name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.new_table},on:{input:function(a){a.target.composing||t.$set(e,"new_table",a.target.value)}}})]),t._v(" "),s("td",[s("button",{on:{click:function(e){t.delRename(a)}}},[t._v("删除")])])])})],2),t._v(" "),s("button",{staticClass:"addbtnList",on:{click:function(e){t.addRename()}}},[t._v("添加")])]):t._e(),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("规则配置-列过滤")]),t._v(" "),t.taskshrink3?s("span",{on:{click:function(e){t.taskshrink3=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.taskshrink3?s("span",{on:{click:function(e){t.taskshrink3=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.taskshrink3?s("div",{staticClass:"columnFilter"},[s("p",[t._v("备注：多个列名，请按逗号分格")]),t._v(" "),s("table",{staticClass:"filterAdd"},[t._m(35),t._v(" "),t._l(t.columnList,function(e,a){return s("tr",{key:a},[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.dbname,expression:"column.dbname"}],attrs:{type:"text",placeholder:"database name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.dbname},on:{input:function(a){a.target.composing||t.$set(e,"dbname",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tablename,expression:"column.tablename"}],attrs:{type:"text",placeholder:"table name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.tablename},on:{input:function(a){a.target.composing||t.$set(e,"tablename",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.column_names,expression:"column.column_names"}],attrs:{type:"text",placeholder:"多个列名，请按逗号分格",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.column_names},on:{input:function(a){a.target.composing||t.$set(e,"column_names",a.target.value)}}})]),t._v(" "),s("td",[s("button",{on:{click:function(e){t.delColumn(a)}}},[t._v("删除")])])])})],2),t._v(" "),s("button",{staticClass:"addbtnList",on:{click:function(e){t.addColumn()}}},[t._v("添加")])]):t._e(),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("规则配置-DDL过滤")]),t._v(" "),t.taskshrink4?s("span",{on:{click:function(e){t.taskshrink4=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.taskshrink4?s("span",{on:{click:function(e){t.taskshrink4=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.taskshrink4?s("div",{staticClass:"DDLFilter"},[s("table",{staticClass:"filterAdd"},[t._m(36),t._v(" "),t._l(t.ddlList,function(e,a){return s("tr",{key:a},[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.dbname,expression:"ddl.dbname"}],staticClass:"input",attrs:{type:"text",placeholder:"database name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.dbname},on:{input:function(a){a.target.composing||t.$set(e,"dbname",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tablename,expression:"ddl.tablename"}],staticClass:"input",attrs:{type:"text",placeholder:"table name",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:e.tablename},on:{input:function(a){a.target.composing||t.$set(e,"tablename",a.target.value)}}})]),t._v(" "),s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.optype,expression:"ddl.optype"}],staticClass:"select",on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"optype",a.target.multiple?s:s[0])},function(e){t.indexSelect(e,a)}]}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("---请选择---")]),t._v(" "),t._l(t.YX,function(e,a){return s("option",{key:a,domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)]),t._v(" "),t.a0[a]+""!=""?s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.action,expression:"ddl.action"}],staticClass:"select",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"action",a.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("---请选择---")]),t._v(" "),t._l(t.YX[t.a0[a]].ZY,function(e){return s("option",{key:e.text,domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)]):s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.action,expression:"ddl.action"}],staticClass:"select",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"action",a.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("---请选择---")])])]),t._v(" "),s("td",[s("button",{on:{click:function(e){t.delDDL(a)}}},[t._v("删除")])])])})],2),t._v(" "),s("button",{staticClass:"addbtnList",on:{click:function(e){t.addDDL()}}},[t._v("添加")])]):t._e()]):t._e()]):t._e(),t._v(" "),3===t.active?s("div",{staticClass:"preexamination"},[t._m(37),t._v(" "),s("div",{staticClass:" table-responsive common_table_wrap"},[s("table",{staticClass:"table table-striped common_table"},[t._m(38),t._v(" "),s("tbody",t._l(t.resultLists,function(e,a){return s("tr",{key:a},[s("th",[t._v(t._s(e.check_item))]),t._v(" "),s("th",[t._v(t._s(e.check_content))]),t._v(" "),0==e.check_status?s("th",{staticStyle:{color:"green"}},[t._v(t._s(t._f("tocheckStatus")(e.check_status)))]):t._e(),t._v(" "),1==e.check_status?s("th",[s("span",{staticClass:"btn btn-primary btn-lg",staticStyle:{"font-size":"12px",background:"none",border:"none",color:"red",padding:"0px","border-radius":"0px"},attrs:{"data-toggle":"modal","data-target":"#myModal"},on:{click:function(a){t.resultItem=e}}},[t._v("\n              "+t._s(t._f("tocheckStatus")(e.check_status)))])]):t._e(),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"myModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{width:"750px"}},[t._m(39,!0),t._v(" "),s("div",{staticClass:"modal-body"},[t._m(40,!0),t._v(" "),s("div",{staticClass:"contentBox"},[s("table",[s("tr",[s("td",{staticClass:"faileTitle"},[t._v("检查项：")]),t._v(" "),s("td",[t._v(t._s(t.resultItem.check_item))])]),t._v(" "),s("tr",[s("td",{staticClass:"faileTitle"},[t._v("检查内容：")]),t._v(" "),s("td",[t._v(t._s(t.resultItem.check_content))])])])]),t._v(" "),t._m(41,!0),t._v(" "),s("div",{staticClass:"resultBox"},[s("table",[s("tr",[s("td",{staticClass:"faileTitle"},[t._v("检查结果：")]),t._v(" "),0==t.resultItem.check_status?s("td",{staticStyle:{color:"green"}},[t._v(t._s(t._f("tocheckStatus")(t.resultItem.check_status)))]):t._e(),t._v(" "),1==t.resultItem.check_status?s("td",{staticStyle:{color:"red"}},[t._v(t._s(t._f("tocheckStatus")(t.resultItem.check_status)))]):t._e()]),t._v(" "),s("tr",[s("td",{staticClass:"faileTitle"},[t._v("失败原因：")]),t._v(" "),s("td",[t._v(t._s(t.resultItem.reason))])]),t._v(" "),s("tr",[s("td",{staticClass:"faileTitle"},[t._v("解决方法：")]),t._v(" "),s("td",[t._v(t._s(t.resultItem.solution))])])])])]),t._v(" "),t._m(42,!0)])])])])}))])])]):t._e(),t._v(" "),s("div",{staticClass:"stepBtn marginTopBox"},[1==t.active||2==t.active||3==t.active?s("el-button",{on:{click:t.prev}},[t._v("上一步")]):t._e(),t._v(" "),0==t.active||1==t.active?s("el-button",{on:{click:t.next}},[t._v("下一步")]):t._e(),t._v(" "),2==t.active?s("el-button",{on:{click:t.nextCheck}},[t._v("预检查")]):t._e(),t._v(" "),3==t.active&&t.isSubmit?s("el-button",{on:{click:function(e){t.commitTask()}}},[t._v("提交")]):t._e()],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("数据同步")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("创建同步")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("创建同步")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("数据源信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("任务名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例来源：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例地址：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例端口：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("数据库账号：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("数据库密码：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("Binlog起始文件：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("Binlog起始位置：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("目的库信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft",staticStyle:{position:"relative",top:"-3px"}},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("目的端类型：\n            ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例来源：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例地址：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例端口：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("数据库账号：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("数据库密码：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("IP地址：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("端口：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("通道-基本配置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("通道名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft",staticStyle:{position:"relative",top:"-52px"}},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("同步工作集群：\n            ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("数据库账号：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("数据库密码：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("数据库名称")]),this._v(" "),e("td",[this._v("表名称")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例来源：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例名称：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例地址：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tdLeft"},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}},[this._v("*")]),this._v("实例端口：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("任务基本信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"30%"}},[e("span",{staticStyle:{color:"red","margin-right":"5px","font-size":"12px"}}),this._v(" 通道名称：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{width:"19%"}},[t._v("数据库名称(源库)：")]),t._v(" "),a("td",{staticStyle:{width:"19%"}},[t._v("表名称(源库)：")]),t._v(" "),a("td",{staticStyle:{width:"10%"}}),t._v(" "),a("td",{staticStyle:{width:"19%"}},[t._v("数据库名称(目的库)")]),t._v(" "),a("td",{staticStyle:{width:"19%"}},[t._v("表名称(目的库)")]),t._v(" "),a("td",{staticStyle:{width:"10%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("数据库名称：")]),this._v(" "),e("td",[this._v("表名称：")]),this._v(" "),e("td",[this._v("列名称列表（源库）")]),this._v(" "),e("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("库名称：")]),t._v(" "),a("td",[t._v("表名称：")]),t._v(" "),a("td",[t._v("DDL类型")]),t._v(" "),a("td",[t._v("DDL具体类型")]),t._v(" "),a("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("预检查信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("检查项")]),this._v(" "),e("th",[this._v("检查内容")]),this._v(" "),e("th",[this._v("检查结果")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                      ×\n                    ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[this._v("\n                      预检查结果\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("检查内容")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("检查结果")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"}},[this._v("关闭\n                    ")])])}]};var Ra=a("VU/8")(Ua,za,!1,function(t){a("Cwwp")},null,null).exports,Da={0:"同步正常",1:"Arkgate延迟",2:"ETL延迟",3:"Arkgate出错",4:"ETL出错",5:"Arkgate停止同步",6:"获取状态异常",7:"Arkget和ETL延迟",8:"ETL停止",9:"备用节点正常",10:"备用节点不可用"},qa={data:function(){return{total:0,currentPage:1,current:1,tasklist:[]}},filters:{toTaskStatus:function(t){return Da[t]||""}},mounted:function(){this.setCurrent(1)},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.currentPage=this.current,this.$emit("pagechange",this.current)),window.scrollTo(0,0),this.$http.get("/arkgate/taskcount").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.currentPage,this.display;this.$http.get("/arkgate/tasklist?current_page="+this.currentPage+"&page_size="+this.display).then(function(t){var e=t.body;0==e.status?(this.tasklist=e.data,document.documentElement.scrollTop=document.body.scrollTop=0):this.$notify({message:"获取同步列表失败"})})}}},Ba={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"synchronList common_bg"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:" table-responsive common_table_wrap"},[a("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),a("tbody",t._l(t.tasklist,function(e){return a("tr",[a("th",[t._v(t._s(e.task_name))]),t._v(" "),a("th",[t._v(t._s(e.tunnel))]),t._v(" "),a("th",[t._v(t._s(e.src_ip))]),t._v(" "),a("th",[t._v(t._s(e.src_port))]),t._v(" "),a("th",[t._v(t._s(e.dst_ip))]),t._v(" "),a("th",[t._v(t._s(e.dst_port))]),t._v(" "),a("th",[a("router-link",{attrs:{to:{path:"synchronDetails",query:{task_id:e.task_id}}}},[t._v("\n            详情\n          ")])],1)])}))])]),t._v(" "),a("div",{staticClass:"paging"},[a("span",{staticClass:"pagination"},[t._v("共有"+t._s(t.total)+"条, 每页显示："+t._s(t.display)+"条")]),t._v(" "),a("ul",{staticClass:"pagination",staticStyle:{float:"right"}},[a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" «  ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(1)}}},[t._v(" «  ")])]),t._v(" "),a("li",{class:{disabled:1==t.current}},[1==t.current?a("a",{attrs:{href:"javascript:;"}},[t._v(" ‹")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current-1)}}},[t._v(" ‹")])]),t._v(" "),t._l(t.grouplist,function(e){return a("li",{class:{active:t.current==e.val}},[t.current==e.val?a("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.text))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.setCurrent(e.val)}}},[t._v(t._s(e.text))])])}),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v("›")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.current+1)}}},[t._v("›")])]),t._v(" "),a("li",{class:{disabled:t.current==t.page}},[t.current==t.page?a("a",{attrs:{href:"javascript:;"}},[t._v(" » ")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.setCurrent(t.page)}}},[t._v(" » ")])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_bg"},[e("p",{staticClass:"common_title"},[e("a",{staticClass:"first_title"},[this._v("数据同步")]),e("span",{staticClass:"arrow"},[this._v(" > ")]),e("span",{staticClass:"titleUrl"},[this._v("同步列表")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg"},[e("p",{staticClass:"common_title_size"},[this._v("同步列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("任务名称")]),t._v(" "),a("th",[t._v("通道名称")]),t._v(" "),a("th",[t._v("源库地址")]),t._v(" "),a("th",[t._v("源库端口")]),t._v(" "),a("th",[t._v("目的库地址")]),t._v(" "),a("th",[t._v("目的库端口")]),t._v(" "),a("th",[t._v("操作")])])])}]};var Qa=a("VU/8")(qa,Ba,!1,function(t){a("K8yz")},null,null).exports,ja={0:"正常",1:"Arkgate延迟",2:"ETL延迟",3:"Arkgate出错",4:"ETL出错",5:"Arkgate停止同步",6:"获取状态异常"},Fa={0:"MySQL",1:"Kafka",2:"Redis",3:"ES",4:"Oracle"},Ga={0:"黑名单",1:"白名单"},Oa={0:"同步正常",1:"Arkgate延迟",2:"ETL延迟",3:"Arkgate出错",4:"ETL出错",5:"Arkgate停止同步",6:"获取状态异常",7:"Arkget和ETL延迟",8:"ETL停止",9:"备用节点正常",10:"备用节点不可用"},Za={0:"normal",1:"warning",2:"error"},Ya={data:function(){return{task_id:"",shrink1:!0,shrink2:!0,shrink3:!0,shrink4:!0,isUpConfigValue:-1,upConfigValue:"",isUpNamelist:-1,upNamelist1:"",upNamelist2:"",upNamelist3:"",whiteListIndex:-1,hCon_type:0,nameListAdd:{dbname:"",table:"",type:0},renameList:[{original_db:"",original_table:"",new_db:"",new_table:""}],columnList:[{dbname:"",tablename:"",column_names:""}],ddlList:[{dbname:"",tablename:"",optype:"",action:""}],task_name:"",tunnel:"",task_status:"",task_delay:"",gate_cluster:"",task_error_msg:"",task_error_time:"",src_instance:"",src_ip:"",src_port:0,binlog_file:"",binlog_pos:"",src_type:"",dst_instance:"",dst_ip:"",dst_port:0,dst_type:"",db_type:"",gatecluster:"",gate_ip:"",gate_port:"",gatedb_user:"",gatedb_pass:"",nameLists:[{dbname:"",table:"",type:0}],infoList:[{config_item:"",config_value:"",value_scope:"",parameter_name:""}],slaveLists:[{instance_name:"",ip:"",port:"",role:"",status:""}],logLists:[{msg:"",status:"",date:""}],thread_num:"",start_id:"",limit_query_rows:"",buffer_size:"",double_active:"",exec_mode:"",biz_conflict_api:"",isOffAndOn:[{value:1,label:"ON"},{value:0,label:"OFF"}],renameLists:[{original_db:"",original_table:"",new_db:"",new_table:""}],colLists:[{dbname:"",tablename:"",column_names:""}],optLists:[{dbname:"",tablename:"",optype:"",action:""}],instanceName:"",addInstanceList:[{instance_name:""}],YX:[{text:"ALTER TABLE",ZY:[{text:"ADD INDEX"},{text:"DROP INDEX "},{text:"CHANGE"},{text:"ADD COLUMN"},{text:"DROP COLUMN "},{text:"MODIFY"}]},{text:"CREATE TABLE",ZY:[]},{text:"TRUNCATE TABLE",ZY:[]},{text:"DROP TABLE",ZY:[]}],a0:[""],addsrcInstance:"",add_ip:"",addPort:"",delInstanceName:"",errorMsg:"",stopErrorMsg:"",stopShow:!1,startShow:!0,switchInstance:"",switchIP:"",switchPort:"",switchRole:"",switchStatus:"",startname:""}},filters:{toStatus:function(t){return ja[t]||""},todbType:function(t){return Fa[t]||""},tonameStatus:function(t){return Ga[t]||""},toslaveStatus:function(t){return Oa[t]||""},tologStatus:function(t){return Za[t]||""},toMsg:function(t){var e=t;return e.length>60&&(e=e.substring(0,60)+"..."),e}},directives:{focus:{inserted:function(t){t.focus()}}},mounted:function(){this.$route.query.task_id&&(this.task_id=this.$route.query.task_id);var t=0,e=document.getElementsByName("heightSource");for(t=0;t<e.length;t++)e[t].onclick=function(){for(t=0;t<e.length;t++)e[t].classList.remove("heightSource");this.classList.add("heightSource")};this.getLog(this.task_id),this.getTaskdetail(this.task_id),this.getGatepara(this.task_id),this.curgatesrc(this.task_id);for(var a=0;a<this.YX.length;a++)for(var s=0;s<this.ddlList.length;s++)this.YX[a].text==this.ddlList[s].optype&&(this.a0[s]=a);this.a0.push("");s=0;var i=document.getElementsByName("liHandle");for(s=0;s<i.length;s++)i[s].onclick=function(){for(s=0;s<i.length;s++)i[s].classList.remove("liHandle");this.classList.add("liHandle")}},update:function(){},methods:{indexSelect:function(t,e){for(var a=t.target.value,s=0;s<this.YX.length;s++)if(this.YX[s].text==a){this.a0[e]=s,this.ddlList[e].action="";break}},getTaskdetail:function(t){var e="?task_id="+t;this.$http.get("/arkgate/taskdetail"+e).then(function(t){var e=t.body;if(0==e.status){this.task_name=e.data.src_dst_info.task_name,this.tunnel=e.data.src_dst_info.tunnel,this.task_status=e.data.src_dst_info.task_status,this.task_delay=e.data.src_dst_info.task_delay,this.gate_cluster=e.data.src_dst_info.gate_cluster,this.task_error_msg=e.data.src_dst_info.task_error_msg,this.task_error_time=e.data.src_dst_info.task_error_time,this.src_instance=e.data.src_dst_info.src_instance,this.src_ip=e.data.src_dst_info.src_ip,this.src_port=e.data.src_dst_info.src_port,this.binlog_file=e.data.src_dst_info.binlog_file,this.binlog_pos=e.data.src_dst_info.binlog_pos,this.src_type=e.data.src_dst_info.src_type,this.dst_instance=e.data.src_dst_info.dst_instance,this.dst_ip=e.data.src_dst_info.dst_ip,this.dst_port=e.data.src_dst_info.dst_port,this.db_type=e.data.src_dst_info.db_type,this.dst_type=e.data.src_dst_info.dst_type,this.gatecluster=e.data.gate_info.gatecluster,this.gate_ip=e.data.gate_info.gate_ip,this.gate_port=e.data.gate_info.gate_port,this.gatedb_user=e.data.gate_info.gatedb_user,this.nameLists=e.data.gate_info.filter,this.thread_num=e.data.etl_info.etl_parameter.thread_num,this.start_id=e.data.etl_info.etl_parameter.start_id,this.limit_query_rows=e.data.etl_info.etl_parameter.limit_query_rows,this.buffer_size=e.data.etl_info.etl_parameter.buffer_size,this.double_active=e.data.etl_info.etl_parameter.double_active,this.exec_mode=e.data.etl_info.etl_parameter.exec_mode,this.biz_conflict_api=e.data.etl_info.etl_parameter.biz_conflict_api;var a=e.data.etl_info.rename,s=e.data.etl_info.filter_col,i=e.data.etl_info.filter_opt;e.data.gate_info.filter;if(i){this.ddlList=i;for(var n=0;n<this.YX.length;n++)for(var l=0;l<this.ddlList.length;l++)if(this.YX[n].text==this.ddlList[l].optype){this.a0[l]=n;break}}if(a){this.renameList=a;for(n=0;n<this.YX.length;n++)for(l=0;l<this.renameList.length;l++)if(this.YX[n].text==this.renameList[l].optype){this.a0[l]=n;break}}if(s){this.columnList=s;for(n=0;n<this.YX.length;n++)for(l=0;l<this.columnList.length;l++)if(this.YX[n].text==this.columnList[l].optype){this.a0[l]=n;break}}this.a0.push("")}},function(t){})},getGatepara:function(t){var e="?task_id="+t;this.$http.get("/arkgate/gatepara"+e).then(function(t){var e=t.body;0==e.status&&(this.infoList=e.data)})},savePar:function(){if(this.infoList.length>0)for(var t=0;t<this.infoList.length;t++)this.infoList[t].config_value&&(this.infoList[t].config_value=parseInt(this.infoList[t].config_value));var e={task_id:this.task_id,parameter:this.infoList};this.$http.post("/arkgate/modifygatepara",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.$notify({message:"修改保存成功",type:"success"}),this.getGatepara(this.task_id),this.isUpConfigValue=-1):this.$notify.error({title:"保存失败",message:"请联系管理员或DBA"})},function(t){})},curgatesrc:function(t){var e="?task_id="+t;this.$http.get("/arkgate/curgatesrc"+e).then(function(t){var e=t.body;0==e.status&&(this.slaveLists=e.data)},function(t){})},saveSwitchsrc:function(){var t={task_id:this.task_id,instance_name:this.switchInstance,port:this.switchPort,ip:this.switchIP,role:this.switchRole,status:parseInt(this.switchStatus),src_list:this.slaveLists};this.$http.post("/arkgate/switchsrc",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.getTaskdetail(this.task_id),this.$notify({message:"实例名切换成功",type:"success"})):this.$notify.error({message:"实例名切换失败"})},function(t){})},getLog:function(t){var e="?task_id="+t;this.$http.get("/arkgate/expireinfo"+e).then(function(t){var e=t.body;0==e.status&&(this.logLists=e.data)},function(t){})},saveAdd:function(){this.nameLists||(this.nameLists=new Array),""!=this.nameListAdd.dbname?""!=this.nameListAdd.table?(this.nameLists.push(this.nameListAdd),this.nameListAdd={dbname:"",table:"",type:0}):this.$notify.error({message:"表名称不能为空"}):this.$notify.error({message:"数据库不能为空"})},delNameList:function(t){this.nameLists.splice(t,1)},saveModify:function(){if(this.nameLists.length>0)for(var t=0;t<this.nameLists.length;t++)this.nameLists[t].type&&(this.nameLists[t].type=parseInt(this.nameLists[t].type));var e={task_id:this.task_id,filter:this.nameLists};this.$http.post("/arkgate/modifyfilter",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.$notify({message:"保存成功",type:"success"}),this.isUpNamelist=-1,this.getTaskdetail(this.task_id)):this.$notify.error({message:"保存失败，请稍后再试"})},function(t){})},delAll:function(){var t={task_id:this.task_id,filter:[]};this.$http.post("/arkgate/modifyfilter",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?this.$notify({message:"删除所有成功",type:"success"}):this.$notify.error({message:"删除所有失败，请稍后再试"})},function(t){})},getInstance_name:function(t){var e="?task_id="+t;this.$http.get("/arkgate/gatesrclist"+e).then(function(t){var e=t.body;0==e.status&&(this.addInstanceList=e.data)})},addsrc:function(){var t={task_id:this.task_id,instance_name:this.addsrcInstance,ip:this.add_ip,port:parseInt(this.addPort),src_type:this.hCon_type};this.$http.post("/arkgate/addsrc",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.getTaskdetail(this.task_id),this.curgatesrc(this.task_id),this.$notify({message:"添加成功",type:"success"})):this.$notify.error({message:"添加失败"})},function(t){})},delsrc:function(t){var e={task_id:this.task_id,instance_name:this.delInstanceName};this.$http.post("/arkgate/delsrc",x()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.$notify({message:"删除成功",type:"success"}),this.curgatesrc(this.task_id),this.getTaskdetail(this.task_id)):this.$notify.error({message:"删除失败"})},function(t){})},startgate:function(){var t={task_id:this.task_id};this.$http.post("/arkgate/startgate",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.$notify({message:"启动成功",type:"success"}),this.startShow=!1,this.stopShow=!0,this.curgatesrc(this.task_id),this.getTaskdetail(this.task_id)):this.$notify.error({message:"启动失败"})},function(t){})},stopgate:function(){var t={task_id:this.task_id};this.$http.post("/arkgate/stopgate",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?(this.$notify({message:"停止成功",type:"success"}),this.startShow=!0,this.stopShow=!1,this.curgatesrc(this.task_id),this.getTaskdetail(this.task_id)):this.$notify.error({message:this.stopErrorMsg=e.data.msg})},function(t){})},etlparameter:function(){var t={task_id:this.task_id,thread_num:parseInt(this.thread_num),start_id:parseInt(this.start_id),limit_query_rows:parseInt(this.limit_query_rows),buffer_size:parseInt(this.buffer_size),double_active:parseInt(this.double_active),exec_mode:parseInt(this.exec_mode),biz_conflict_api:this.biz_conflict_api};this.$http.post("/arkgate/etlparameter",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.getTaskdetail(this.task_id),this.$notify({message:"保存成功",type:"success"})):this.$notify.error({message:"保存失败"})},function(t){})},saveRename:function(){var t={task_id:this.task_id,rename:this.renameList};this.$http.post("/arkgate/rename",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.getTaskdetail(this.task_id),this.$notify({message:"保存成功",type:"success"})):this.$notify.error({message:"保存失败"})},function(t){})},saveCol:function(){var t={task_id:this.task_id,filtercol:this.columnList};this.$http.post("/arkgate/filtercol",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.getTaskdetail(this.task_id),this.$notify({message:"保存成功",type:"success"})):this.$notify.error({message:"保存失败"})},function(t){})},saveDDL:function(){var t={task_id:this.task_id,ddlfilter:this.ddlList};this.$http.post("/arkgate/ddlfilter",x()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(this.getTaskdetail(this.task_id),this.$notify({message:"保存成功",type:"success"})):this.$notify.error({message:"保存失败"})},function(t){})},addRenameList:function(){this.renameList.push({original_db:"",original_table:"",new_db:"",new_table:""})},delRenameList:function(t){this.renameList.splice(t,1)},addColumn:function(){this.columnList.push({dbname:"",tablename:"",column_names:""})},delColumn:function(t){this.columnList.splice(t,1)},addDDL:function(){this.ddlList.push({dbname:"",tablename:"",optype:"",action:""}),this.a0.push("")},delDDL:function(t){this.ddlList.splice(t,1),this.a0.splice(t,1)}}},Ja={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"synchronDetails common_bg"},[s("div",{staticClass:"common_title_bg"},[s("p",{staticClass:"common_title"},[s("a",{staticClass:"first_title"},[t._v("数据同步")]),s("span",{staticClass:"arrow"},[t._v(" > ")]),s("span",{staticClass:"titleUrl"},[s("router-link",{attrs:{to:"/info/synchronList"}},[t._v("同步列表")])],1),s("span",{staticClass:"arrow"},[t._v(" > ")]),s("span",{staticClass:"titleUrl"},[t._v("同步详情")])])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"basicInformation"},[s("table",{staticClass:"tableOne"},[s("tr",[s("td",[s("span",[t._v("同步任务名称：")]),t._v(t._s(t.task_name))]),t._v(" "),s("td",[s("span",[t._v("通道名称：")]),t._v(t._s(t.tunnel))]),t._v(" "),0==t.task_status?s("td",{staticStyle:{color:"green"}},[s("span",[t._v("通道状态：")]),t._v(t._s(t._f("toStatus")(t.task_status)))]):t._e(),t._v(" "),1==t.task_status?s("td",{staticStyle:{color:"orangered"}},[s("span",[t._v("通道状态：")]),t._v(t._s(t._f("toStatus")(t.task_status)))]):t._e(),t._v(" "),2==t.task_status?s("td",{staticStyle:{color:"orangered"}},[s("span",[t._v("通道状态：")]),t._v(t._s(t._f("toStatus")(t.task_status)))]):t._e(),t._v(" "),3==t.task_status?s("td",{staticStyle:{color:"red"}},[s("span",[t._v("通道状态：")]),t._v(t._s(t._f("toStatus")(t.task_status)))]):t._e(),t._v(" "),4==t.task_status?s("td",{staticStyle:{color:"red"}},[s("span",[t._v("通道状态：")]),t._v(t._s(t._f("toStatus")(t.task_status)))]):t._e(),t._v(" "),5==t.task_status?s("td",{staticStyle:{color:"red"}},[s("span",[t._v("通道状态：")]),t._v(t._s(t._f("toStatus")(t.task_status)))]):t._e(),t._v(" "),6==t.task_status?s("td",{staticStyle:{color:"red"}},[s("span",[t._v("通道状态：")]),t._v(t._s(t._f("toStatus")(t.task_status)))]):t._e()]),t._v(" "),s("tr",[s("td",[s("span",[t._v("同步延迟时间(秒)：")]),t._v(t._s(t.task_delay))]),t._v(" "),s("td",[s("span",[t._v("同步工作集群：")]),t._v(t._s(t.gate_cluster))]),t._v(" "),s("td",[s("span",[t._v("任务出错时间：")]),t._v(t._s(t.task_error_time))])]),t._v(" "),s("tr",[s("td",[s("span",{staticStyle:{float:"left"}},[t._v("任务异常信息：")]),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.task_error_msg,placement:"bottom-start"}},[s("p",{staticStyle:{float:"left"}},[t._v(t._s(t._f("toMsg")(t.task_error_msg)))])])],1)])])]),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("源库信息")]),t._v(" "),t.shrink1?s("span",{on:{click:function(e){t.shrink1=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.shrink1?s("span",{on:{click:function(e){t.shrink1=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.shrink1?s("div",{staticClass:"libraryInformation"},[s("table",[s("tr",[s("td",[s("span",[t._v("实例名称：")]),t._v(t._s(t.src_instance))]),t._v(" "),s("td",[s("span",[t._v("数据库地址：")]),t._v(t._s(t.src_ip))]),t._v(" "),s("td",[s("span",[t._v("数据库端口：")]),t._v(t._s(t.src_port))])]),t._v(" "),s("tr",[s("td",[s("span",[t._v("Binlog起始文件：")]),t._v(t._s(t.binlog_file))]),t._v(" "),s("td",[s("span",[t._v("Binlog起始位置：")]),t._v(t._s(t.binlog_pos))])])])]):t._e(),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("目的库信息")]),t._v(" "),t.shrink2?s("span",{on:{click:function(e){t.shrink2=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.shrink2?s("span",{on:{click:function(e){t.shrink2=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.shrink2?s("div",{staticClass:"objectiveInformation"},[s("table",[s("tr",[s("td",[s("span",[t._v("实例名称：")]),t._v(t._s(t.dst_instance))]),t._v(" "),s("td",[s("span",[t._v("数据库地址：")]),t._v(t._s(t.dst_ip))]),t._v(" "),s("td",[s("span",[t._v("数据库端口：")]),t._v(t._s(t.dst_port))])]),t._v(" "),s("tr",[s("td",[s("span",[t._v("实例类型：")]),t._v(t._s(t._f("todbType")(t.db_type)))])])])]):t._e(),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("通道信息")]),t._v(" "),t.shrink3?s("span",{on:{click:function(e){t.shrink3=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.shrink3?s("span",{on:{click:function(e){t.shrink3=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.shrink3?s("div",{staticClass:"passageInformation marginTopBox"},[s("div",{staticClass:"tabChange"},[t._m(1),t._v(" "),s("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[s("div",{staticClass:"tab-pane fade in active",attrs:{id:"pass1"}},[s("table",[s("tr",[s("td",[s("span",[t._v("同步工作集群：")]),t._v(t._s(t.gate_cluster))])]),t._v(" "),s("tr",[s("td",[s("span",[t._v("数据库地址：")]),t._v(t._s(t.gate_ip))])]),t._v(" "),s("tr",[s("td",[s("span",[t._v("数据库端口：")]),t._v(t._s(t.gate_port))])]),t._v(" "),s("tr",[s("td",[s("span",[t._v("数据库账号：")]),t._v(t._s(t.gatedb_user))])])])]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"pass2"}},[s("p",{staticStyle:{"margin-left":"10px"}},[t._v("白名单：只同步符合要求的表数据。")]),t._v(" "),s("p",{staticStyle:{"margin-left":"10px"}},[t._v("黑名单：忽略符合要求的表数据。")]),t._v(" "),s("p",{staticStyle:{"margin-left":"10px"}},[t._v("白名单优先于黑名单")]),t._v(" "),s("p",{staticStyle:{color:"red"}},[t._v("* 由于新增和修改操作影响比较重大，需要保存后才会生效")]),t._v(" "),s("div",{staticClass:" table-responsive common_table_wrap"},[s("table",{staticClass:"table table-striped common_table"},[t._m(2),t._v(" "),s("tbody",t._l(t.nameLists,function(e,a){return s("tr",[t.isUpNamelist!=a?s("th",[t._v(t._s(e.dbname))]):t._e(),t._v(" "),t.isUpNamelist==a?s("th",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.dbname,expression:"list.dbname"}],attrs:{type:"text",placeholder:"%dba%"},domProps:{value:e.dbname},on:{input:function(a){a.target.composing||t.$set(e,"dbname",a.target.value)}}})]):t._e(),t._v(" "),t.isUpNamelist!=a?s("th",[t._v(t._s(e.table))]):t._e(),t._v(" "),t.isUpNamelist==a?s("th",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.table,expression:"list.table"}],attrs:{type:"text",placeholder:"%abc%"},domProps:{value:e.table},on:{input:function(a){a.target.composing||t.$set(e,"table",a.target.value)}}})]):t._e(),t._v(" "),t.isUpNamelist!=a?s("th",[0==e.type?s("span",[t._v("黑名单")]):t._e(),t._v(" "),1==e.type?s("span",[t._v("白名单")]):t._e()]):t._e(),t._v(" "),t.isUpNamelist==a?s("th",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"list.type"}],attrs:{name:"",id:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"type",a.target.multiple?s:s[0])}}},[s("option",{domProps:{value:0}},[t._v("黑名单")]),t._v(" "),s("option",{domProps:{value:1}},[t._v("白名单")])])]):t._e(),t._v(" "),s("th",{staticClass:"operation"},[t.isUpNamelist!=a?s("a",{on:{click:function(s){t.isUpNamelist=a,t.upNamelist1=e.dbname,t.upNamelist2=e.table,t.upNamelist3=e.type}}},[t._v("修改")]):t._e(),t._v(" "),t.isUpNamelist==a?s("a",{staticStyle:{"margin-left":"10px",position:"relative",top:"5px"},on:{click:function(a){t.isUpNamelist=-1,e.dbname=t.upNamelist1,e.table=t.upNamelist2,e.type=t.upNamelist3}}},[t._v("取消")]):t._e(),t._v(" "),t.isUpNamelist!=a?s("a",{staticClass:"btn btn-primary btn-lg",staticStyle:{color:"red","margin-left":"10px",background:"none","font-size":"12px","border-radius":"0px",border:"none"},attrs:{"data-toggle":"modal","data-target":"#myModal6"},on:{click:function(e){t.whiteListIndex=a}}},[t._v("删除")]):t._e(),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal6",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel6","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(3,!0),t._v(" "),s("div",{staticClass:"modal-body"},[t._v("您确定删除选中的名单吗?")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.delNameList(t.whiteListIndex)}}},[t._v("确定\n                            ")])])])])])])])}))])]),t._v(" "),s("div",{staticClass:"passBtn"},[s("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"passbutton1","data-toggle":"modal","data-target":"#myModal2"}},[t._v("新增\n              ")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"savaBtn","data-toggle":"modal","data-target":"#myModal0"}},[t._v("保存\n              ")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"passbutton2","data-toggle":"modal","data-target":"#myModal3"}},[t._v("删除所有\n              ")]),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal2",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel2","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{height:"430px",padding:"10px"}},[t._m(4),t._v(" "),s("div",{staticClass:"modal-body",staticStyle:{height:"290px"}},[s("form",{attrs:{action:""}},[s("div",{staticClass:"form-group"},[s("span",[t._v("数据库名称：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.nameListAdd.dbname,expression:"nameListAdd.dbname"}],attrs:{type:"text",placeholder:"数据库名称，支持%模式"},domProps:{value:t.nameListAdd.dbname},on:{input:function(e){e.target.composing||t.$set(t.nameListAdd,"dbname",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("span",[t._v("表名称：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.nameListAdd.table,expression:"nameListAdd.table"}],attrs:{type:"text",placeholder:"表名称，支持%模式"},domProps:{value:t.nameListAdd.table},on:{input:function(e){e.target.composing||t.$set(t.nameListAdd,"table",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("span",[t._v("过滤类型：")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.nameListAdd.type,expression:"nameListAdd.type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.nameListAdd,"type",e.target.multiple?a:a[0])}}},[s("option",{domProps:{value:0}},[t._v("黑名单")]),t._v(" "),s("option",{domProps:{value:1}},[t._v("白名单")])])])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.saveAdd()}}},[t._v("添加\n                      ")])])])])]),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal0",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel0","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(5),t._v(" "),s("div",{staticClass:"modal-body",staticStyle:{height:"70px"}},[t._v("您确定保存所有操作的修改吗?")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.saveModify()}}},[t._v("\n                        保存\n                      ")])])])])]),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal3",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel3","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(6),t._v(" "),s("div",{staticClass:"modal-body"},[t._v("您确定删除所有的黑白名单吗?")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.delAll()}}},[t._v("确定")])])])])])])]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"pass3"}},[s("div",{staticClass:" table-responsive common_table_wrap"},[s("table",{staticClass:"table table-striped common_table"},[t._m(7),t._v(" "),s("tbody",t._l(t.infoList,function(e,a){return s("tr",[s("th",[t._v(t._s(e.config_item))]),t._v(" "),t.isUpConfigValue!=a?s("th",[t._v(t._s(e.config_value))]):t._e(),t._v(" "),t.isUpConfigValue==a?s("th",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.config_value,expression:"infos.config_value"}],attrs:{type:"number",id:a,min:"1"},domProps:{value:e.config_value},on:{input:function(a){a.target.composing||t.$set(e,"config_value",a.target.value)}}})]):t._e(),t._v(" "),s("th",[t._v(t._s(e.value_scope))]),t._v(" "),s("th",{staticClass:"operation"},[t.isUpConfigValue!=a?s("a",{on:{click:function(s){t.isUpConfigValue=a,t.upConfigValue=e.config_value}}},[t._v("修改")]):t._e(),t._v(" "),t.isUpConfigValue==a?s("a",{on:{click:function(a){t.isUpConfigValue=-1,e.config_value=t.upConfigValue}}},[t._v("取消")]):t._e()])])}))]),t._v(" "),s("button",{attrs:{id:"saveConfig"},on:{click:function(e){t.savePar()}}},[t._v("保存")])])]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"pass4"}},[s("div",{staticClass:" table-responsive common_table_wrap"},[s("table",{staticClass:"table table-striped common_table"},[t._m(8),t._v(" "),s("tbody",t._l(t.slaveLists,function(e,a){return s("tr",[s("th",[t._v(t._s(e.instance_name))]),t._v(" "),s("th",[t._v(t._s(e.ip))]),t._v(" "),s("th",[t._v(t._s(e.port))]),t._v(" "),s("th",[t._v(t._s(e.role))]),t._v(" "),0==e.status?s("th",{staticStyle:{color:"green"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),1==e.status?s("th",{staticStyle:{color:"orangered"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),2==e.status?s("th",{staticStyle:{color:"orangered"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),3==e.status?s("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),4==e.status?s("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),5==e.status?s("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),6==e.status?s("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),7==e.status?s("th",{staticStyle:{color:"orangered"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),8==e.status?s("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),9==e.status?s("th",{staticStyle:{color:"green"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),10==e.status?s("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("toslaveStatus")(e.status)))]):t._e(),t._v(" "),s("th",{staticClass:"operation"},[9==e.status?s("a",{staticClass:"btn btn-primary btn-lg",staticStyle:{"margin-left":"0px"},attrs:{id:"pass4checkout","data-toggle":"modal","data-target":"#myModal4"},on:{click:function(a){t.switchInstance=e.instance_name,t.switchIP=e.ip,t.switchPort=e.port,t.switchRole=e.port,t.switchStatus=e.status}}},[t._v("切换\n                    ")]):t._e(),t._v(" "),3==e.status||4==e.status||5==e.status||8==e.status?s("a",{staticClass:"btn btn-primary btn-lg",staticStyle:{"margin-left":"0px"},attrs:{id:"pass4Btn","data-toggle":"modal","data-target":"#myModal05"},on:{click:function(a){t.startname=e.instance_name}}},[t._v("启动")]):t._e(),t._v(" "),0==e.status||1==e.status||2==e.status||7==e.status?s("a",{staticClass:"btn btn-primary btn-lg",staticStyle:{"margin-left":"0px"},attrs:{id:"pass5Btn","data-toggle":"modal","data-target":"#myModal06"}},[t._v("停止")]):t._e()]),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal7",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel7","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(9,!0),t._v(" "),s("div",{staticClass:"modal-body",staticStyle:{height:"68px"}},[t._v("您确定删除选中的实例吗?")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.delsrc(t.delInstanceName)}}},[t._v("确定\n                          ")])])])])]),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal05",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel05","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(10,!0),t._v(" "),s("div",{staticClass:"modal-body",staticStyle:{height:"68px"}},[t._v("您确定启动选中的"+t._s(t.startname)+"实例吗?")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.startgate()}}},[t._v("确定\n                          ")])])])])]),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal06",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel06","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{height:"200px"}},[t._m(11,!0),t._v(" "),s("div",{staticClass:"modal-body",staticStyle:{height:"68px"}},[t._v("您确定停止选中的已启动实例吗?")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.stopgate()}}},[t._v("确定\n                          ")])])])])]),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal4",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel4","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{height:"230px"}},[t._m(12,!0),t._v(" "),s("div",{staticClass:"modal-body",staticStyle:{height:"100px"}},[s("form",{attrs:{action:""}},[s("div",{staticClass:"form-group"},[t._v("\n                              您是否确定将该实例("+t._s(t.switchInstance)+")切换为master角色?\n                            ")])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.saveSwitchsrc()}}},[t._v("\n                            确定\n                          ")])])])])])])}))]),t._v(" "),s("div",{staticClass:"addSourceBtn"},[s("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"addBtn","data-toggle":"modal","data-target":"#myModal5"},on:{click:function(e){t.getInstance_name(t.task_id)}}},[t._v("添加源从库\n                ")]),t._v(" "),s("div",{staticClass:"modal fade",staticStyle:{color:"black"},attrs:{id:"myModal5",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel5","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content",staticStyle:{padding:"10px"}},[t._m(13),t._v(" "),s("div",{staticClass:"modal-body"},[s("form",{attrs:{action:""}},[s("div",{staticClass:"form-group"},[s("span",{staticStyle:{float:"left"}},[t._v("实例来源：")]),t._v(" "),s("ul",{staticClass:"sourceBox"},[s("li",{staticClass:"heightSource",staticStyle:{"border-right":"1px solid #fff",width:"50%"},attrs:{name:"heightSource"},on:{click:function(e){t.hCon_type=0}}},[t._v("已录入实例\n                              ")]),t._v(" "),s("li",{staticStyle:{width:"50%"},attrs:{name:"heightSource"},on:{click:function(e){t.hCon_type=1}}},[t._v("未录入实例")])])]),t._v(" "),0==t.hCon_type?s("div",{staticClass:"form-group",staticStyle:{clear:"both"}},[s("span",[t._v("实例名称：")]),t._v(" "),s("el-select",{staticStyle:{position:"relative",top:"2px"},attrs:{filterable:"",placeholder:"请选择实例名称"},model:{value:t.addsrcInstance,callback:function(e){t.addsrcInstance=e},expression:"addsrcInstance"}},t._l(t.addInstanceList,function(t,e){return s("el-option",{key:e,attrs:{label:t.instance_name,value:t.instance_name}})}))],1):t._e(),t._v(" "),1==t.hCon_type?s("div",{staticClass:"form-group",staticStyle:{clear:"both"}},[s("span",[t._v("数据库地址：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.add_ip,expression:"add_ip"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.add_ip},on:{input:function(e){e.target.composing||(t.add_ip=e.target.value)}}})]):t._e(),t._v(" "),1==t.hCon_type?s("div",{staticClass:"form-group",staticStyle:{clear:"both"}},[s("span",[t._v("数据库端口：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addPort,expression:"addPort"}],staticClass:"input",attrs:{type:"number",oninput:"if(value.length>4)value=value.slice(0,4)"},domProps:{value:t.addPort},on:{input:function(e){e.target.composing||(t.addPort=e.target.value)}}})]):t._e()])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.addsrc()}}},[t._v("添加\n                        ")])])])])])])])]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"pass5"}},[s("div",{staticClass:" table-responsive common_table_wrap"},[s("table",{staticClass:"table table-striped common_table"},[t._m(14),t._v(" "),s("tbody",t._l(t.logLists,function(e){return s("tr",[s("th",[t._v(t._s(e.msg))]),t._v(" "),s("th",[t._v(t._s(e.date))]),t._v(" "),0==e.status?s("th",{staticStyle:{color:"green"}},[t._v(t._s(t._f("tologStatus")(e.status)))]):t._e(),t._v(" "),1==e.status?s("th",{staticStyle:{color:"#F17D0F"}},[t._v(t._s(t._f("tologStatus")(e.status)))]):t._e(),t._v(" "),2==e.status?s("th",{staticStyle:{color:"red"}},[t._v(t._s(t._f("tologStatus")(e.status)))]):t._e()])}))])])])])])]):t._e(),t._v(" "),s("div",{staticClass:"common_title_blue_bg marginTopBox"},[s("p",{staticClass:"common_title_size"},[t._v("任务-规则信息")]),t._v(" "),t.shrink4?s("span",{on:{click:function(e){t.shrink4=!1}}},[s("img",{attrs:{src:a("XCu6"),alt:""}})]):t._e(),t._v(" "),0==t.shrink4?s("span",{on:{click:function(e){t.shrink4=!0}}},[s("img",{attrs:{src:a("rOIf"),alt:""}})]):t._e()]),t._v(" "),t.shrink4?s("div",{staticClass:"taskRuleBox marginTopBox"},[s("div",{staticClass:"tabChange"},[t._m(15),t._v(" "),s("div",{staticClass:"tab-content",attrs:{id:"TabContent"}},[s("div",{staticClass:"tab-pane fade in active",attrs:{id:"rule01"}},[s("p",{staticStyle:{color:"red"}},[t._v("* 所有操作修改后点击保存才会生效")]),t._v(" "),s("table",[s("tr",[s("td",{staticClass:"tdLeft"},[t._v("工作线程：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.thread_num,expression:"thread_num"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.thread_num},on:{input:function(e){e.target.composing||(t.thread_num=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"heightThread"}})])]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft"},[t._v("开始位置：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.start_id,expression:"start_id"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.start_id},on:{input:function(e){e.target.composing||(t.start_id=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"heightBegin"}})])]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft"},[t._v("工作步长：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.limit_query_rows,expression:"limit_query_rows"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.limit_query_rows},on:{input:function(e){e.target.composing||(t.limit_query_rows=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"heightLength"}})])]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft"},[t._v("缓存大小：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.buffer_size,expression:"buffer_size"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.buffer_size},on:{input:function(e){e.target.composing||(t.buffer_size=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"},attrs:{id:"heightSize"}})])]),t._v(" "),s("tr",[s("td",[t._v("双活开关：")]),t._v(" "),s("td",[s("el-select",{staticStyle:{width:"15%"},model:{value:t.double_active,callback:function(e){t.double_active=e},expression:"double_active"}},t._l(t.isOffAndOn,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),s("tr",[s("td",{staticClass:"tdLeft",staticStyle:{position:"relative",top:"-3px"}},[t._v("出错处理：")]),t._v(" "),0==t.exec_mode?s("td",[s("div",{staticStyle:{position:"relative",top:"-3px"}},[s("ul",{staticClass:"sqlliType"},[s("li",{staticClass:"liHandle",staticStyle:{"border-right":"1px solid #fff",width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=0}}},[t._v("跳过\n                      ")]),t._v(" "),s("li",{staticStyle:{"border-right":"1px solid #fff",width:"30%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=1}}},[t._v("覆盖执行\n                      ")]),t._v(" "),s("li",{staticStyle:{width:"30%","border-right":"1px solid #fff"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=2}}},[t._v("\n                        API模式\n                      ")]),t._v(" "),s("li",{staticStyle:{width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=3}}},[t._v("退出")])])])]):t._e(),t._v(" "),1==t.exec_mode?s("td",[s("div",{staticStyle:{position:"relative",top:"-3px"}},[s("ul",{staticClass:"sqlliType"},[s("li",{staticStyle:{"border-right":"1px solid #fff",width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=0}}},[t._v("跳过\n                      ")]),t._v(" "),s("li",{staticClass:"liHandle",staticStyle:{"border-right":"1px solid #fff",width:"30%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=1}}},[t._v("覆盖执行\n                      ")]),t._v(" "),s("li",{staticStyle:{width:"30%","border-right":"1px solid #fff"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=2}}},[t._v("\n                        API模式\n                      ")]),t._v(" "),s("li",{staticStyle:{width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=3}}},[t._v("退出")])])])]):t._e(),t._v(" "),2==t.exec_mode?s("td",[s("div",{staticStyle:{position:"relative",top:"-3px"}},[s("ul",{staticClass:"sqlliType"},[s("li",{staticStyle:{"border-right":"1px solid #fff",width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=0}}},[t._v("跳过\n                      ")]),t._v(" "),s("li",{staticStyle:{"border-right":"1px solid #fff",width:"30%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=1}}},[t._v("覆盖执行\n                      ")]),t._v(" "),s("li",{staticClass:"liHandle",staticStyle:{width:"30%","border-right":"1px solid #fff"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=2}}},[t._v("\n                        API模式\n                      ")]),t._v(" "),s("li",{staticStyle:{width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=3}}},[t._v("退出")])])])]):t._e(),t._v(" "),3==t.exec_mode?s("td",[s("div",{staticStyle:{position:"relative",top:"-3px"}},[s("ul",{staticClass:"sqlliType"},[s("li",{staticStyle:{"border-right":"1px solid #fff",width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=0}}},[t._v("跳过\n                      ")]),t._v(" "),s("li",{staticStyle:{"border-right":"1px solid #fff",width:"30%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=1}}},[t._v("覆盖执行\n                      ")]),t._v(" "),s("li",{staticStyle:{width:"30%","border-right":"1px solid #fff"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=2}}},[t._v("\n                        API模式\n                      ")]),t._v(" "),s("li",{staticClass:"liHandle",staticStyle:{width:"20%"},attrs:{name:"liHandle"},on:{click:function(e){t.exec_mode=3}}},[t._v("退出")])])])]):t._e()]),t._v(" "),2==t.exec_mode?s("tr",[s("td",{staticClass:"tdLeft"},[t._v("API：")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.biz_conflict_api,expression:"biz_conflict_api"}],staticClass:"input",attrs:{type:"text",placeholder:"",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},domProps:{value:t.biz_conflict_api},on:{input:function(e){e.target.composing||(t.biz_conflict_api=e.target.value)}}}),t._v(" "),s("span",{staticStyle:{color:"red"}})])]):t._e()]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"saveInfo","data-toggle":"modal","data-target":"#myModal08"}},[t._v("保存\n            ")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"myModal08",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel08","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(16),t._v(" "),s("div",{staticClass:"modal-body"},[t._v("\n                    您确定保存所有修改操作吗？\n                  ")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭\n                    ")]),t._v(" "),s("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.etlparameter()}}},[t._v("\n                      确定\n                    ")])])])])])]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"rule1"}},[s("p",{staticStyle:{color:"red"}},[t._v("* 所有操作修改后点击保存才会生效")]),t._v(" "),s("table",{staticClass:"filterAdd"},[t._m(17),t._v(" "),t._l(t.renameList,function(e,a){return s("tr",[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.original_db,expression:"rename.original_db"}],attrs:{type:"text"},domProps:{value:e.original_db},on:{input:function(a){a.target.composing||t.$set(e,"original_db",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.original_table,expression:"rename.original_table"}],attrs:{type:"text"},domProps:{value:e.original_table},on:{input:function(a){a.target.composing||t.$set(e,"original_table",a.target.value)}}})]),t._v(" "),s("td",{staticStyle:{"padding-left":"3%","font-size":"14px","font-weight":"bold"}},[t._v("=>")]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_db,expression:"rename.new_db"}],attrs:{type:"text"},domProps:{value:e.new_db},on:{input:function(a){a.target.composing||t.$set(e,"new_db",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_table,expression:"rename.new_table"}],attrs:{type:"text"},domProps:{value:e.new_table},on:{input:function(a){a.target.composing||t.$set(e,"new_table",a.target.value)}}})]),t._v(" "),s("td",[s("button",{on:{click:function(e){t.delRenameList(a)}}},[t._v("删除")])])])})],2),t._v(" "),s("button",{staticClass:"addbtnList",on:{click:function(e){t.addRenameList()}}},[t._v("添加")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"addbtnList","data-toggle":"modal","data-target":"#myModal01"}},[t._v("保存\n            ")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"myModal01",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel01","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(18),t._v(" "),s("div",{staticClass:"modal-body"},[t._v("\n                    您确定保存所有修改操作吗？\n                  ")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭\n                    ")]),t._v(" "),s("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.saveRename()}}},[t._v("\n                      确定\n                    ")])])])])])]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"rule2"}},[s("p",{staticStyle:{color:"red"}},[t._v("* 所有操作修改后点击保存才会生效")]),t._v(" "),s("table",{staticClass:"filterAdd"},[t._m(19),t._v(" "),t._l(t.columnList,function(e,a){return s("tr",[s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.dbname,expression:"column.dbname"}],attrs:{type:"text"},domProps:{value:e.dbname},on:{input:function(a){a.target.composing||t.$set(e,"dbname",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tablename,expression:"column.tablename"}],attrs:{type:"text"},domProps:{value:e.tablename},on:{input:function(a){a.target.composing||t.$set(e,"tablename",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.column_names,expression:"column.column_names"}],attrs:{type:"text",title:"多个列名，请按逗号分格"},domProps:{value:e.column_names},on:{input:function(a){a.target.composing||t.$set(e,"column_names",a.target.value)}}})]),t._v(" "),s("td",[s("button",{staticClass:"delCollist",on:{click:function(e){t.delColumn(a)}}},[t._v("删除")])])])})],2),t._v(" "),s("button",{staticClass:"addbtnList",on:{click:function(e){t.addColumn()}}},[t._v("添加")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"addColList","data-toggle":"modal","data-target":"#myModal02"}},[t._v("保存\n            ")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"myModal02",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel02","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(20),t._v(" "),s("div",{staticClass:"modal-body"},[t._v("\n                    您确定保存所有修改操作吗？\n                  ")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭\n                    ")]),t._v(" "),s("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.saveCol()}}},[t._v("\n                      确定\n                    ")])])])])])]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"rule3"}},[s("p",{staticStyle:{color:"red"}},[t._v("* 所有操作修改后点击保存才会生效")]),t._v(" "),s("table",{staticClass:"filterAdd"},[t._m(21),t._v(" "),t._l(t.ddlList,function(e,a){return s("tr",[s("td",{staticStyle:{width:"22%"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.dbname,expression:"ddl.dbname"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.dbname},on:{input:function(a){a.target.composing||t.$set(e,"dbname",a.target.value)}}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tablename,expression:"ddl.tablename"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.tablename},on:{input:function(a){a.target.composing||t.$set(e,"tablename",a.target.value)}}})]),t._v(" "),s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.optype,expression:"ddl.optype"}],staticClass:"select",on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"optype",a.target.multiple?s:s[0])},function(e){t.indexSelect(e,a)}]}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("---请选择---")]),t._v(" "),t._l(t.YX,function(e,a){return s("option",{domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)]),t._v(" "),t.a0[a]+""!=""?s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.action,expression:"ddl.action"}],staticClass:"select",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"action",a.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("---请选择---")]),t._v(" "),t._l(t.YX[t.a0[a]].ZY,function(e){return s("option",{domProps:{value:e.text}},[t._v(t._s(e.text))])})],2)]):s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.action,expression:"ddl.action"}],staticClass:"select",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"action",a.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:"",selected:"",hidden:""}},[t._v("---请选择---")])])]),t._v(" "),s("td",[s("button",{on:{click:function(e){t.delDDL(a)}}},[t._v("删除")])])])})],2),t._v(" "),s("button",{staticClass:"addbtnList",on:{click:function(e){t.addDDL()}}},[t._v("添加")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-lg",attrs:{id:"addDDL","data-toggle":"modal","data-target":"#myModal03"}},[t._v("保存")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"myModal03",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel03","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(22),t._v(" "),s("div",{staticClass:"modal-body"},[t._v("\n                    您确定保存所有修改操作吗？\n                  ")]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭\n                    ")]),t._v(" "),s("button",{staticClass:"btn btn-primary",staticStyle:{"border-radius":"0px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.saveDDL()}}},[t._v("\n                      确定\n                    ")])])])])])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"common_title_blue_bg marginTopBox"},[e("p",{staticClass:"common_title_size"},[this._v("基本信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-tabs common_ul",staticStyle:{height:"40px"},attrs:{id:"myTab"}},[a("li",{staticClass:"active"},[a("a",{attrs:{href:"#pass1","data-toggle":"tab"}},[t._v("同步工作集群")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#pass2","data-toggle":"tab"}},[t._v("黑白名单")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#pass3","data-toggle":"tab"}},[t._v("同步参数配置")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#pass4","data-toggle":"tab"}},[t._v("数据源切换")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#pass5","data-toggle":"tab"}},[t._v("日志信息")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"30%"}},[this._v("数据库名称")]),this._v(" "),e("th",{staticStyle:{width:"30%"}},[this._v("表名称")]),this._v(" "),e("th",{staticStyle:{width:"20%"}},[this._v("过滤类型")]),this._v(" "),e("th",{staticStyle:{width:"20%"}},[this._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel6"}},[this._v("删除名单")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel2"}},[this._v("新增黑白名单")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel0"}},[this._v("保存所有操作修改")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel3"}},[this._v("删除所有的黑名单")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"30%"}},[this._v("配置项")]),this._v(" "),e("th",{staticStyle:{width:"30%"}},[this._v("配置值")]),this._v(" "),e("th",{staticStyle:{width:"20%"}},[this._v("可修改值")]),this._v(" "),e("th",{staticStyle:{width:"20%"}},[this._v("操作")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"20%"}},[t._v("实例名称")]),t._v(" "),s("th",{staticStyle:{width:"20%"}},[t._v("实例地址")]),t._v(" "),s("th",{staticStyle:{width:"10%"}},[t._v("实例端口")]),t._v(" "),s("th",{staticStyle:{width:"15%"}},[t._v("角色\n                    "),s("img",{staticStyle:{"margin-top":"-3px"},attrs:{src:a("05xs"),alt:"",title:"master: 表示从该实例上进行同步数据。\nslave: 表示不从该实例上进行同步数据，该实例作为备用同步源，如果同步发现master出现问题，会自动将可用的slave角色的实例提升为master，确保同步正常正常工作。\n备注：此master 和 slave的角色，与MySQL集群中的master 和 slave角色无任何关系！"}})]),t._v(" "),s("th",{staticStyle:{width:"15%"}},[t._v("状态")]),t._v(" "),s("th",{staticStyle:{width:"20%"}},[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel7"}},[this._v("删除实例")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel05"}},[this._v("启动实例")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel06"}},[this._v("停止已启动实例")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel4"}},[this._v("高可用切换")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel5"}},[this._v("新增数据源从库")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"20%"}},[this._v("内容")]),this._v(" "),e("th",{staticStyle:{width:"20%"}},[this._v("时间")]),this._v(" "),e("th",{staticStyle:{width:"10%"}},[this._v("状态")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs common_ul",staticStyle:{height:"40px"},attrs:{id:"tabCheckout"}},[e("li",{staticClass:"active"},[e("a",{attrs:{href:"#rule01","data-toggle":"tab"}},[this._v("基本信息")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#rule1","data-toggle":"tab"}},[this._v("表重命名")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#rule2","data-toggle":"tab"}},[this._v("列过滤")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#rule3","data-toggle":"tab"}},[this._v("DDL过滤")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                      ×\n                    ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel08"}},[this._v("\n                      基本信息保存\n                    ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{width:"19%"}},[t._v("数据库名称(源库)")]),t._v(" "),a("td",{staticStyle:{width:"19%"}},[t._v("表名称(源库)")]),t._v(" "),a("td",{staticStyle:{width:"10%"}}),t._v(" "),a("td",{staticStyle:{width:"19%"}},[t._v("数据库名称(目的库)")]),t._v(" "),a("td",{staticStyle:{width:"19%"}},[t._v("表名称(目的库)")]),t._v(" "),a("td",{staticStyle:{width:"10%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                      ×\n                    ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel01"}},[this._v("\n                      重命名保存\n                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("数据库名称")]),this._v(" "),e("td",[this._v("表名称")]),this._v(" "),e("td",[this._v("列名称列表（源库）")]),this._v(" "),e("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                      ×\n                    ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel02"}},[this._v("\n                      列过滤保存\n                    ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{width:"22%"}},[t._v("库名称")]),t._v(" "),a("td",{staticStyle:{width:"22%"}},[t._v("表名称")]),t._v(" "),a("td",{staticStyle:{width:"22%"}},[t._v("DDL类型")]),t._v(" "),a("td",{staticStyle:{width:"22%"}},[t._v("DDL具体类型")]),t._v(" "),a("td")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("\n                      ×\n                    ")]),this._v(" "),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel03"}},[this._v("\n                      DDL过滤保存\n                    ")])])}]};var Va=a("VU/8")(Ya,Ja,!1,function(t){a("Nwek")},null,null).exports,Ha={data:function(){return{account_id:"",is_login:this.$cookies.get("is_login")}},mounted:function(){},methods:{tabEn:function(){this.$i18n.locale="en"},tabCn:function(){this.$i18n.locale="cn"},loginOut:function(){this.$http.get("/acmeCloud/signout",{withCredentials:!0}).then(function(t){0==t.body.status&&(window.location.href="/",sessionStorage.clear())})}}},Wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"console_header"},[a("div",{staticClass:"container-fluid",staticStyle:{"padding-left":"0px"}},[a("div",{staticClass:"navbar-header",staticStyle:{height:"56px"}},[t._m(0),t._v(" "),a("span",{staticClass:"navbar-brand",staticStyle:{height:"56px"}},[a("router-link",{attrs:{to:"/info/hostList"}},[a("p",{staticStyle:{"font-size":"20px",color:"white"}},[t._v("Arkcontrol 数据库管理平台"),a("span",{staticStyle:{"font-size":"14px"}},[t._v(" v1.0.0-rc-community")])])])],1)]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",staticStyle:{float:"right"},attrs:{id:"example-navbar-collapse"}},[a("ul",{staticClass:"nav navbar-nav"},[null==t.is_login||0==t.is_login?a("li",{staticClass:"logintext"},[a("router-link",{attrs:{to:"/login"}},[t._v("\n              登录\n            ")])],1):t._e(),t._v(" "),"1"==t.is_login?a("li",{staticClass:"dropdown"},[t._m(1),t._v(" "),a("ul",{staticClass:"dropdown-menu",staticStyle:{width:"100px","margin-left":"-76px","text-align":"center",background:"#395166"}},[a("li",[a("router-link",{attrs:{to:"personalInformation"}},[t._v("\n                  查看用户基本信息\n                ")])],1),t._v(" "),a("li",{on:{click:function(e){t.loginOut()}}},[a("a",[t._v("退出")])])])]):t._e()])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#example-navbar-collapse"}},[e("span",{staticClass:"icon-bar"}),this._v(" "),e("span",{staticClass:"icon-bar"}),this._v(" "),e("span",{staticClass:"icon-bar"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"dropdown-toggle",staticStyle:{height:"56px"},attrs:{href:"#","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e("img",{staticClass:"header_img",attrs:{src:a("h59F")}})])}]};var Xa={data:function(){return{is_login:this.$cookies.get("is_login")}},name:"App",components:{"v-header":a("VU/8")(Ha,Wa,!1,function(t){a("2ybu")},null,null).exports,"v-content":p,"v-rightPage":ha.default},mounted:function(){this.judge()},methods:{judge:function(){var t=location.href.indexOf("/register");0!=this.is_login&&null!=this.is_login||-1!=t||this.$router.push({path:"/login"})},download_show:function(){this.$router.replace({path:"/download"})}}},Ka={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{background:"#232f3f",height:"100%"},attrs:{id:"app"}},[e("v-header"),this._v(" "),e("v-content"),this._v(" "),e("v-rightPage"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var ts=a("VU/8")(Xa,Ka,!1,function(t){a("birR")},null,null).exports;s.default.use(o.a),s.default.use(r.a),s.default.use(_.a),s.default.use(d.a);var es=new o.a({hashbang:!1,history:!0,mode:"history",routes:[{path:"/",component:Ee},{path:"/info",component:ts,children:[{path:"system",component:g},{path:"agentconfigure",component:y},{path:"intoLog",component:k},{path:"installConfiguration",component:N},{path:"mysqlDeploy",component:P},{path:"deploymentList",component:q},{path:"listDetails",component:J},{path:"installNew",component:F},{path:"installdetails",component:T},{path:"hostList",component:Bt},{path:"hostInput",component:zt},{path:"hostdetails",component:It},{path:"management",component:ge},{path:"clusterlist",component:ve},{path:"instancelist",component:_e},{path:"clusterinformation",component:Je},{path:"exampledetail",component:Qe},{path:"parameter",component:Ce},{path:"parameterdetails",component:xe},{path:"parametertemplate",component:Le},{path:"monitoring",component:oe},{path:"monConfiguration",component:ae},{path:"appendAlarm",component:xa},{path:"hostMonitoring",component:ie},{path:"sqlMonitoring",component:ne.default},{path:"slowquery",component:ta},{path:"slowquerylist",component:sa},{path:"clusterinfo",component:la},{path:"queryinstance",component:ca},{path:"instanceslowquery",component:pa},{path:"checksum",component:ua},{path:"inspection",component:Ft},{path:"insConfiguration",component:Jt},{path:"hostInspection",component:Wt},{path:"sqlInspection",component:te},{path:"backup",component:it},{path:"modify",component:We},{path:"backupList",component:ot},{path:"backupDetail",component:Ge},{path:"backupStrategy",component:dt},{path:"restoreTemplateDetails",component:xt},{path:"restoreTemplate",component:kt},{path:"restoreTemplateNew",component:Nt},{path:"deployRestore",component:mt},{path:"restoreList",component:ft},{path:"restoreDetails",component:bt},{path:"user_management",component:X},{path:"personalInformation",component:Na},{path:"addUser",component:Ta},{path:"personalCenter",component:V.default},{path:"userList",component:et},{path:"roles",component:Ia},{path:"help",component:Mt},{path:"content",component:p},{path:"footer",component:u.default},{path:"rightPage",component:ha.default},{path:"entryDetails",component:ba},{path:"entryList",component:ka},{path:"productPlanning",component:$a.default},{path:"createSynchronization",component:Ra},{path:"synchronList",component:Qa},{path:"synchronDetails",component:Va}]},{path:"/login",component:Ee},{path:"/download",component:Pe},{path:"/register",component:Re}]}),as=a("TXmL"),ss=(a("7t+N"),a("qb6w"),a("Bb4J"),a("XLwt")),is=a.n(ss),ns=(a("44HI"),a("C86/"),a("BTaQ")),ls=a.n(ns),os=(a("+skl"),a("mtWM"),a("zL8q")),rs=a.n(os);a("tvR6");s.default.use(as.a),s.default.use(ls.a),s.default.use(rs.a),s.default.config.productionTip=!1,s.default.prototype.$echarts=is.a;var cs=new as.a({locale:"cn",messages:{cn:a("44HI"),en:a("C86/")}});new s.default({el:"#app",router:es,i18n:cs,components:{App:l}}),es.afterEach(function(t,e,a){window.scrollTo(0,0)})},NfTc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAaCAYAAACgoey0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNzdFM0ZCM0FGNTUxMUU4QUQ2QUM2N0UzRUEwRDMxNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNzdFM0ZCNEFGNTUxMUU4QUQ2QUM2N0UzRUEwRDMxNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE3N0UzRkIxQUY1NTExRThBRDZBQzY3RTNFQTBEMzE3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE3N0UzRkIyQUY1NTExRThBRDZBQzY3RTNFQTBEMzE3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+CRu8KQAAArdJREFUeNqs1llIVFEcx3HHJXO0cskWyiyhhwINnIJIIqEIiqLtMXyxByHC6KHoKSjopR7qoeahBbQFoRdDooWMkIw2ok19kEAjSoW0aBmXJm/fE7+Ry2XmLpN/+Axz5965555z/ud/bsiyrAyXKMRi5GEOxjCKAQxiMiPNyHYcr8JOrEc1ilz++xs9eIHbuKMH8xemx1iDTst/dOMy+my/DeEQsnRPV+ajFhMBGv2MsG6QjWP4Yzvf7KfhTDrdgJwA09ONGJrQjqeamhP4hDqPKZoa6jYrWPxAiYbWxCROYrVGogmL/PQ4aBTgCM7rOIR5uIAHOK6Mdw3TcDyNxvcjim86NlN1DWvxBFV+hrrOSi+qbdP0C19t5wZR4TXUV1GP4YC9rsUjfQ+r2CRiPq4jy63HlXoKkxj1uIkRHz1+jJUe1zSk6nGIjxu034JWxzNVYCnK1KPZjpL5AW/RiZoU/fqo+8TdllM7diPfTwGQAvz06PWGZP+11+qNYnr1Eq/xXkvji66ZgWJ5jlLke+TCdnQk2yTGHb/N1NDVeNzwoJajV+zBYTO4znV8xfmjz4hph8rw2B5NnkSSFZBb2IregA0vxzN9v4c+l2tNpct1Jtc6TXgmNiOKd4h7JI3ZEnNxGluwz+P6HlTZl1OrdpmoY8jNXC/DApSoJpv4rmTrdxQdc75Zu1OqGMEmvLIvJ7O5H0BZgOVk5GEbzqDYx243jHLT4zalvD36tKT6VQRGtSGENVcLlTQr9IqU2M8fYhcalcmzbPc0ReQUhnDfPHGLNb3xRq8/pTiLMdu5S8hJvPqYyjI+jQ1fdExFOc5pB7OUvFMvexF0/GeDA2jU6kiWC3NxFF3YG3K8V1dih96hIsrmVDGBLq3luzLhswYUhjxe6E1yLNHSKlKSxVS/B9OseP/irwADAKn7EdAwt61FAAAAAElFTkSuQmCC"},Nwek:function(t,e){},O11o:function(t,e){},QJvT:function(t,e){},RPfo:function(t,e){},RfoP:function(t,e){},SMvU:function(t,e){},TtUI:function(t,e){},TxiT:function(t,e){},V9vv:function(t,e){},VDig:function(t,e){},Vc7X:function(t,e){},X08A:function(t,e){},XCu6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA6UlEQVQ4T83SsUqCYRTG8Z9DUEstNdXiVmMhThUE0iRBIHQH3UI4CQ2SdAXdQQQONkeDghEFrU0NuZYg0uAgxAuvIV9mH7h44J3OOf/zPuc8GTNGZsZ+8wM4QgcvKSVto4DLICG8fmzcSwHZwhN62Bjt4BRX+MQO3v/4yWocsIYDPIwvsYoy3pCPsHHOEprIoYR6SCavcI2TOCXI+YqEUHeLIs5RGZGTgAXcYR/3OMQQFziLU8P0n5jkg2U8YhMNtFHDM3Yx+A8Q8utoIRuLXxEkfSSXO82JizjGCm7QnXSZ+bFySgf/LvsGAjclEhgR9ykAAAAASUVORK5CYII="},Xb2A:function(t,e,a){"use strict";var s=a("kna4"),i=a.n(s),n=a("Y1l/");var l=function(t){a("JRrD")},o=a("VU/8")(i.a,n.a,!1,l,null,null);e.default=o.exports},"Y1l/":function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"personalCenter"})},staticRenderFns:[]};e.a=s},YhmZ:function(t,e){},Z5gw:function(t,e,a){"use strict";var s=a("Jc4h"),i=a.n(s),n=a("mASe");var l=function(t){a("hoZJ")},o=a("VU/8")(i.a,n.a,!1,l,null,null);e.default=o.exports},aSr6:function(t,e){},aW4C:function(t,e){},birR:function(t,e){},ce18:function(t,e){},ed2C:function(t,e){},f8UV:function(t,e){},fD5R:function(t,e){},fK6m:function(t,e){},grfW:function(t,e){},gux6:function(t,e){},h59F:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF8mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMDctMDdUMTc6NTI6MzArMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTA3LTE2VDE2OjAzOjU4KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA3LTE2VDE2OjAzOjU4KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU1ZTc2MWE5LThhMTUtNDNkZC05YmU4LWFmNmQ5YzQ1MzM3NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpjNjVlZTE4MS04NWJjLTQ4MjYtYWM5Ni1jMGZhYjJhODc3YmEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjNjVlZTE4MS04NWJjLTQ4MjYtYWM5Ni1jMGZhYjJhODc3YmEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmM2NWVlMTgxLTg1YmMtNDgyNi1hYzk2LWMwZmFiMmE4NzdiYSIgc3RFdnQ6d2hlbj0iMjAxOC0wNy0wN1QxNzo1MjozMCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjU1ZTc2MWE5LThhMTUtNDNkZC05YmU4LWFmNmQ5YzQ1MzM3NCIgc3RFdnQ6d2hlbj0iMjAxOC0wNy0xNlQxNjowMzo1OCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/pDwDAAAAUJJREFUSIm1k71KA0EURk+WNBZiCislNiLBIqBBS21j4Qv4DqKPo6U2PoEvYCzS+AOpUpjKxr+gnYLFsdkVkd3ZjGY/mGbm3nNg5k5NpSQzwB6wC6yke3fAOXAGvAe71dBqqT2L00trChkh+II6DMCzDNPaaMHxBPAsR7GCJfU1QvCqNvNYScHTrAONstf/kQbQyTsoEsTAgz1Fgpc/CHJ7igTXwHME/Am4ihE8ACcRglPgMfckMKZz6sUEE3ShNmLHNFvL6igAH6U10T95Vj1Qb9SPgOBDvVUP056JBGtqv+Ra8tJX18sEXXX8B3iWsbpTJNhQ3/4Bz/Kmbv4WNNTBFOBZBinz+x/sA+2IuS9LO2VSU+eBG6A5RQHAPdBJgG4FcFJmNwG2KoBn2U6A1QoFrQRYrFCwWAd6gMDnlOF14PIL/vu5zY1/cDEAAAAASUVORK5CYII="},hOTw:function(t,e,a){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"productPlanning common_bg"},[a("div",{staticClass:"common_title_bg"},[a("p",{staticClass:"common_title"},[a("a",{staticClass:"first_title"},[t._v("产品规划")])])]),t._v(" "),a("div",{staticClass:"common_title_blue_bg"},[a("p",{staticClass:"common_title_size"},[t._v("规划详情")])]),t._v(" "),a("div",{staticClass:"planBox"},[a("table",[a("thead",[a("tr",[a("th",[t._v("时间")]),t._v(" "),a("th",[t._v("版本")]),t._v(" "),a("th",[t._v("功能")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("2018-09-26")]),t._v(" "),a("td",[t._v("V0.8")]),t._v(" "),a("td",[t._v("Arkcontrol一期功能")])]),t._v(" "),a("tr",[a("td",[t._v("2018-10-19")]),t._v(" "),a("td",[t._v("V1.0")]),t._v(" "),a("td",[t._v("数据同步功能")])]),t._v(" "),a("tr",[a("td",[t._v("2018-11-02")]),t._v(" "),a("td",[t._v("V1.2")]),t._v(" "),a("td",[t._v("数据迁移功能")])]),t._v(" "),a("tr",[a("td",[t._v("2018-11-09")]),t._v(" "),a("td",[t._v("V1.4")]),t._v(" "),a("td",[t._v("SQL管控")])]),t._v(" "),a("tr",[a("td",[t._v("2018-12-01")]),t._v(" "),a("td",[t._v("V1.6")]),t._v(" "),a("td",[t._v("MySQL 高可用")])]),t._v(" "),a("tr",[a("td",[t._v("2018-12-03")]),t._v(" "),a("td",[t._v("V1.8")]),t._v(" "),a("td",[t._v("接入阿里云")])]),t._v(" "),a("tr",[a("td",[t._v("2018-12-12")]),t._v(" "),a("td",[t._v("V2.0")]),t._v(" "),a("td",[t._v("支持Redis管理")])]),t._v(" "),a("tr",[a("td",[t._v("2019-01")]),t._v(" "),a("td",[t._v("V2.2")]),t._v(" "),a("td",[t._v("接入腾讯云")])]),t._v(" "),a("tr",[a("td",[t._v("2019-01")]),t._v(" "),a("td",[t._v("V2.4")]),t._v(" "),a("td",[t._v("支持Redis Cluster管理")])]),t._v(" "),a("tr",[a("td",[t._v("2019-02")]),t._v(" "),a("td",[t._v("V2.6")]),t._v(" "),a("td",[t._v("接入AWS")])]),t._v(" "),a("tr",[a("td",[t._v("2019-03")]),t._v(" "),a("td",[t._v("V3.0")]),t._v(" "),a("td",[t._v("支持MongoDB")])]),t._v(" "),a("tr",[a("td",[t._v("2019-06")]),t._v(" "),a("td",[t._v("V4.0")]),t._v(" "),a("td",[t._v("支持ES\\PG\\HBase")])])])])])])}]};e.a=s},"hRI+":function(t,e){},hoZJ:function(t,e){},"j+AZ":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAA2UlEQVQ4Ea1TwQ3CMAw8EH/YgIyQDWAE2CBs0A2ADToCK7BBR4AN2g3KBEauHBGhOknbnGRFspzLne2siAgZaKTkmCxlwkRY+sGm6lNkJyJqiMhJNJJT78Qs13JWmXnVsslQ4pWblGW1MPdhb3kH4CZTHLeio5Yt4LOFNLunMqhYYQtgP1GVCiaMbfYZQD+Sf2giUoRvhfAwV+FkbJQL9+D/5oC34xpT2A0rkA/jexoqfAJ4zXRqPeF6ac/+UXwoocILPzAz+O4AVsh7ti0k8MMKnUx1KToA7guC5IGX942hcwAAAABJRU5ErkJggg=="},kna4:function(t,e){},kneN:function(t,e){},lZIL:function(t,e){},mASe:function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"rightPage"})},staticRenderFns:[]};e.a=s},mzkE:function(t,e,a){"use strict";var s=a("ce18"),i=a.n(s),n=a("x7VU");var l=function(t){a("kneN")},o=a("VU/8")(i.a,n.a,!1,l,null,null);e.default=o.exports},"nT+3":function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),i=a.n(s),n=a("7+uW");e.a={data:function(){return{show:!0,last:0,model_path:"路径配置",config_list:[],info_list:[],config_value:!1,model_index:"",backup_item:["backup-item"],show_model:{display:"none"},model_path_new:"",model_path_placehold:""}},directives:{focus:{inserted:function(t,e){e.value&&t.focus()}}},mounted:function(){this.get_backup_config_info()},methods:{delete_config:function(t){},hide_backup:function(){this.show=!1},hide_model:function(){this.show_model={display:"none"}},config_list_delete:function(t,e){var a={config_name:this.config_list[e].config_name,config_value:this.config_list[e].config_list[t]};this.$http.post("/acmeCloud/backup/config/delete",i()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(a){0==a.body.status&&this.config_list[e].config_list.splice(t,1)})},config_list_append:function(){this.config_list[this.model_index].config_list.push(this.model_path_new);var e={config_name:this.config_list[this.model_index].config_name,config_name_alias:this.config_list[this.model_index].config_name_alias,config_value:t.trim(this.model_path_new)};this.$http.post("/acmeCloud/backup/config/add",i()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status&&(this.show_model={display:"none"},this.model_path_new="")})},backup_plus:function(t){this.show_model={display:"block"},this.model_index=t,this.model_path=this.config_list[t].config_name_alias,this.model_path_placehold=this.config_list[t].config_list[0]},plus_config:function(t){this.config_list[t].show=!0,n.default.set(this.config_list)},config_cancel:function(t){this.config_list[t].show=!1,n.default.set(this.config_list)},delete_li:function(t,e){this.config_list[e].config_list.splice(t,1);var a={config_name:this.config_list[e].config_name,config_value:this.config_list[e].config_list[t]};this.$http.post("/acmeCloud/backup/config/delete?",i()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){t.body.status})},get_backup_config_info:function(){this.$http.get("/acmeCloud/backup/config/info").then(function(t){var e=t.body;0==e.status&&(this.config_list=e.data,this.config_list.map(function(t){t.show=!1}))})}}}}).call(e,a("7t+N"))},nbwC:function(t,e){},"or/K":function(t,e,a){t.exports=a.p+"static/img/footer.a25f9e8.png"},qb6w:function(t,e){},rNpX:function(t,e){},rOIf:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA6UlEQVQ4T83TL0tDYRTH8c/Q4J9iGfgixDBkGAwuzTCGwWjzTYhFsexN2MQogqxZFMEJhiUtlpk2LA6DoCCMA/fC5XIvCis75QnPOd/zO8/5PRVTRmXKerMNmEcbq7jCsGjcshFWcI+1pOgLu7jJQ4oAC7hDHRd4wxE+sYHXLCQPmEMXO8kZXX/RwSEGqOEjheQB59jHLZr4SRIj7xot9NDAd9xlASc4xhO2EXNnYxGPWMcl9rKAA5zhGVsYlxgsNtJPNhPNTlMF0W2ETbz/4c5Q8IAlLKeAeN2XAtllrFBZDX/MtpX/9VEnivEnGrguMIwAAAAASUVORK5CYII="},rj1K:function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),i=a.n(s),n={0:"录入成功",1:"失败"};e.a={data:function(){return{agentSshPort_tips:"",agentSshPassword_tips:"",agentSshUser_tips:"",entryTitle_tips:"",host_message_tips:"",is_login:this.$cookies.get("is_login"),offAndOn:!0,isEntrylastlog:!0,agentSshUser:"",agentSshPassword:"",agentSshPort:22,entryTitle:"",hostMessage:"",hostList:[],entrylastlogList:[],total:0,currentPage:1,current:this.currentPage,entryhistorylogList:[],isInfo:-1}},filters:{toHostText:function(t){return n[t]||""}},mounted:function(){this.getEntrylastlog(),this.setCurrent(1);var t=0,e=document.getElementsByName("agentli");for(t=0;t<e.length;t++)e[t].onclick=function(){for(t=0;t<e.length;t++)e[t].classList.remove("agentli");this.classList.add("agentli")}},props:{display:{type:Number,default:10},pagegroup:{type:Number,default:5,coerce:function(t){return(t=t>0?t:5)%2==1?t:t+1}}},computed:{page:function(){return Math.ceil(this.total/this.display)},grouplist:function(){var t=this.page,e=[],a=[],s=Math.floor(this.pagegroup/2),i=this.current;if(t<=this.pagegroup){for(;t--;)e.push({text:this.page-t,val:this.page-t});return e}for(;t--;)e.push(this.page-t);var n=e.indexOf(i);n<s&&(i=i+s-n),this.current>this.page-s&&(i=this.page-s),e=e.splice(i-s-1,this.pagegroup);do{var l=e.shift();a.push({text:l,val:l})}while(e.length);return this.page>this.pagegroup&&(this.current>s+1&&a.unshift({text:"...",val:a[0].val-1}),this.current<this.page-s&&a.push({text:"...",val:a[a.length-1].val+1})),a}},methods:{hostEntry:function(){""==this.hostMessage&&(this.host_message_tips="ip地址不能为空"),""==this.entryTitle&&(this.entryTitle_tips="描述不能为空");var e="";if(this.offAndOn){if(e=0,""==this.agentSshPassword&&(this.agentSshPassword_tips="密码不能为空"),""==this.agentSshUser&&(this.agentSshUser_tips="用户名不能为空"),t(window).scrollTop(0),this.entryTitle&&this.agentSshPassword&&""!=this.agentSshUser&&","!=this.hostMessage){var a={host_list:this.hostMessage,agent_switch:e,agent_ssh_user:this.agentSshUser,agent_ssh_password:this.agentSshPassword,agent_ssh_port:parseInt(this.agentSshPort),entry_title:this.entryTitle};this.post_entry(a)}}else if(e=1,","!=this.hostMessage&&""!=this.entryTitle_tips){var s={host_list:this.hostList,agent_switch:e,agent_ssh_user:this.agentSshUser,agent_ssh_password:this.agentSshPassword,agent_ssh_port:parseInt(this.agentSshPort),entry_title:this.entryTitle};this.post_entry(s)}},post_entry:function(t){this.$http.post("/acmeCloud/host/entry",i()(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;if(0==e.status){e.data;this.$router.replace({path:"entryDetails?id="+e.data})}else 1001==e.status&&alert("ip地址填写有误，请验证!"),2001==e.status&&alert("参数错误"),2002==e.status&&alert("参数为空"),2003==e.status&&alert("解析错误"),2001==e.status&&alert("数据库错误")})},getEntrylastlog:function(t){var e="?entryId="+t;this.$http.get("/acmeCloud/host/entrylastlog"+e).then(function(t){var e=t.body;0==e.status&&(this.entrylastlogList=e.data,this.entryhistorylogList=[])})},getEntrylog:function(){this.$http.get("/acmeCloud/host/entry/total").then(function(t){var e=t.body;0==e.status&&(this.total=e.data)},function(t){});this.currentPage,this.display;this.$http.get("/acmeCloud/host/entryhistorylog?currentPage="+this.currentPage+"&pageSize="+this.display).then(function(t){var e=t.body;0==e.status&&(this.entrylastlogList=[],this.entryhistorylogList=e.data)},function(t){})},setCurrent:function(t){this.current!=t&&t>0&&t<this.page+1&&(this.current=t,this.currentPage=this.current,this.$emit("pagechange",this.current))}}}}).call(e,a("7t+N"))},"ro/C":function(t,e){},"s+BZ":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDREJBOUMwM0FGNTUxMUU4QkQ4REQyODJCRjM2QTgxQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDREJBOUMwNEFGNTUxMUU4QkQ4REQyODJCRjM2QTgxQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkNEQkE5QzAxQUY1NTExRThCRDhERDI4MkJGMzZBODFCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkNEQkE5QzAyQUY1NTExRThCRDhERDI4MkJGMzZBODFCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++sM6QgAAAmVJREFUeNrElztoFEEYx2dzwWjUIj4QEy18HBZnULSJIKbUQgikFKzEzlenRVAjIkEQRLCxULDTIoUoNtqI5OQQRYMvTjBioZ5YCMkZ5HT9DfwPhmX24e5JPvixM7sz89/9vplvZk0YhgZ64Ry8h1aY31oaYxyWaGwvbdFq2HmbShLvMsacgiHTedsFJ+MeBtY1XDep/gh+FRRcBHtUtmOX44RbXEuqL4VmQeFemFP5N3T7GnU7otY2w2xB4WVOuZTk6tD8Xwt8N7vMAtmCCUcD/xM+p/RZo0lYzP+RGJe1BJKsHz453noHT+Ar9GiCDjuTLMjyxafhVYpwWaL3YAzewk69kF2al6EBh2A8dpSc+fgo9MEl+OFpU4O9MJCUq//VrGgZ6qrPwiRchKswrft/4HyccDTG9+FlxCnbYJ/K1r0HoaZY3oYj8C3SZwSuwwo4DlfSXL3O83brnefb5V5rtyBI2Pp2QBPmoD/N1Q14GqGhZ29gsWJq3bs6ab8VE+o7ViTGN2C3ypMZRC1b1f6hbz/Oal9gQOV6xj51Z+3nTpk2W817dqAsO9V8EWF7WHih8nDGPu1200USSFPns5rqIynxLTlt96dNrlHY6GGLJsgJZSSbHL5rycSJXtOYVd+yi7p6LfR5WAXLlZtfwwUlh8cwARWdtey9UajCYSdElU7k6mewEo4pOcRZ1ckB9joYdXWeA7w9tA8pI9nk8EC5+zncVEwDrWOvuNEgeczG+Q4cgA3QExPvQZ+40e9Gp+wjVLKIG/1mTHVQ/EyGL59p37TiZxWnIj9tH2K+2BWfgbt/BRgAgdmRLJkMJ5IAAAAASUVORK5CYII="},"s4/S":function(t,e){},tEEX:function(t,e,a){"use strict";(function(t){var s=a("bOdI"),i=a.n(s),n=a("mvHQ"),l=a.n(n);e.a={data:function(){return{isRouterAlive:!0,cluster_name_model:this.$route.query.name,cluster_name_modify:!1,grade_show:!0,select_options:[{value:1,label:"无需备份"},{value:2,label:"不重要"},{value:3,label:"普通"},{value:4,label:"重要"},{value:5,label:"非常重要"}],change_result:"修改成功",show_alert:!1,change_remark_value:!0,cluster_baseinfo:[],cluster_base_info:[],slowQueryStatistics:[],no_slow_query_echert:null,selected_value:1,remark_info:"",selected_value_text:"无需备份",slow_Statistics:{slow_query_list:{}},info_num:10,zero:"00:00:01",backup_value:!0,show_cluster:"in active",show_topo:""}},directives:{focus:{inserted:function(t){t.focus()}}},created:function(){this.get_data(),this.get_statue()},mounted:function(){},methods:{get_statue:function(){this.$route.query.topology&&(this.show_cluster="",this.show_topo="in active")},change_remark:function(){this.change_remark_value=!this.change_remark_value},remark_modify:function(){var e={cluster_name:this.$route.query.name,remark:t.trim(this.remark_info)};this.$http.post("/acmeCloud/MySQLCluster/remark/modify?",l()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status&&(this.cluster_base_info.remark=t.trim(this.remark_info),this.change_remark_value=!this.change_remark_value,that.show_alert=!0,setTimeout(function(){that.show_alert=!1},1e3))})},change_backup:function(){this.backup_value=!this.backup_value},get_day:function(t){var e=new Date,a=e.getTime()+864e5*t;e.setTime(a);var s=e.getFullYear(),i=e.getMonth(),n=e.getDate();return s+"-"+(i=this.doHandleMonth(i+1))+"-"+(n=this.doHandleMonth(n))},doHandleMonth:function(t){var e=t;return 1==t.toString().length&&(e="0"+t),e},copyArr:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a]);return e},list:function(){return Array.prototype.slice.call(arguments)},reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick(function(){return t.isRouterAlive=!0})},grade_modify:function(){1==this.selected_value?(this.selected_value_text="无需备份",this.cluster_base_info.backup_cycle=0):2==this.selected_value?(this.selected_value_text="不重要",this.cluster_base_info.backup_cycle=7):3==this.selected_value?(this.selected_value_text="普通",this.cluster_base_info.backup_cycle=5):4==this.selected_value?(this.selected_value_text="重要",this.cluster_base_info.backup_cycle=3):5==this.selected_value&&(this.selected_value_text="非常重要",this.cluster_base_info.backup_cycle=1),this.backup_value=!0;var t=this,e={cluster_name:this.$route.query.name,cluster_grade:parseInt(this.selected_value)};this.$http.post("/acmeCloud/MySQLCluster/grade/modify?",l()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status&&(t.show_alert=!0,this.grade_show=!1,setTimeout(function(){t.show_alert=!1},1e3))})},get_slowQuery_Statistics:function(){var t=this;this.$http.get("/acmeCloud/slowQuery/cluster/statistics?clusterName="+this.$route.query.name).then(function(e){var a=e.body;if(0==a.status){t.slow_Statistics=a.data;var s=new Array,n=new Array;t.slow_Statistics?t.slow_Statistics.forEach(function(e,a,l){e.instance_name;e.slow_query_list.forEach(function(e,a,l){var o;n.push(e.time),s.push(e.slow_query_num),t.$echarts.init(document.getElementById("slow_query_cluster_statistics")).setOption({title:{text:"总数据量:",textStyle:{color:"#fff",fontSize:16},left:20,top:10},tooltip:{show:!0},grid:{x:50,y:50},xAxis:(o={boundaryGap:!1,show:!0,type:"category",nameLocation:"start"},i()(o,"boundaryGap",!1),i()(o,"axisLine",{lineStyle:{color:"#000"}}),i()(o,"data",n),i()(o,"nameTextStyle",{color:"#fff",fontSize:18}),o),yAxis:[{type:"value",gridIndex:0,splitLine:{show:!1},axisTick:{show:!1},min:0,max:Math.max.apply(Math,s),axisLine:{lineStyle:{color:"#0c3b71"}},axisLabel:{color:"rgb(170,170,170)",formatter:"{value}"}},{type:"value",gridIndex:0,min:0,max:Math.max.apply(Math,s),splitNumber:12,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.0)","rgba(250,250,250,0.05)"]}}}],series:[{name:"总数据量XQ",data:s,type:"line",smooth:!0,label:{show:!0,color:"#0049B0"},areaStyle:{type:"line"},symbolSize:10,itemStyle:{normal:{label:{show:!0},color:"#00B7EE",borderColor:"#fff"}}}]})})}):t.no_slow_query_echert="暂无数据"}})},cluster_name_modify_sure:function(){var t=this,e={old_cluster_name:t.$route.query.name,new_cluster_name:t.cluster_name_model};t.$http.post("/acmeCloud/MySQLCluster/clusternamemodify?",l()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(e){0==e.body.status&&(t.cluster_name_modify=!1,t.cluster_base_info.cluster_name=t.cluster_name_model,t.$router.go(-1))})},get_data:function(){this.$http.get("/acmeCloud/MySQLCluster/baseinfo?clusterName="+this.$route.query.name).then(function(t){var e=t.body;0==e.status&&(this.cluster_baseinfo=e.data,this.info_num=e.data.length)}),this.$http.get("/acmeCloud/MySQLCluster/clusterinfo?clusterName="+this.$route.query.name).then(function(t){var e=t.body;0==e.status&&(this.cluster_base_info=e.data)})},draw:function(){this.$echarts.init(document.getElementById("warning_1")).setOption({title:{text:"告警总数:",textStyle:{color:"#000",fontSize:14}},color:["#D15ECD","#D15ECD"],series:[{type:"pie",name:"pie1",radius:["55%","70%"],center:["50%","60%"],data:[{value:100,name:"数量",label:{normal:{position:"center",formatter:"{c|{c}} {text|台}",color:"#fff",rich:{c:{fontWeight:"bold",color:"#fff",fontSize:40},text:{color:"#fff"}}}},itemStyle:{normal:{color:"#D15ECD",shadowColor:"#D15ECD",shadowBlur:10}}}]},{type:"pie",name:"pie2",radius:["65%","70%"],center:["50%","60%"],data:[{value:100,name:"数量",label:{normal:{position:"center",formatter:"{c|{c}} {text|台}",color:"#fff",rich:{c:{fontWeight:"bold",color:"#fff",fontSize:40},text:{color:"#fff"}}}},itemStyle:{normal:{color:"#fff",shadowColor:"#fff",shadowBlur:10}}}]}]})}}}}).call(e,a("7t+N"))},tcOW:function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),i=a.n(s),n={0:"否",1:"是"};e.a={data:function(){return{optionsMySql:["MySQL8.0","MySQL5.7","MySQL5.6","MySQL5.5"],templateName:"",remark:"",tepDfList:[],isUpParam:-1,upParamName:"",upParamValue:"",dbType:"",template_type:"",version:"MySQL5.7"}},filters:{toParameName:function(t){var e=t;return e.length>12&&(e=e.substring(0,12)+"..."),e},toParameText:function(t){return n[t]||""},toParameRange:function(t){var e=t;return e.length>20&&(e=e.substring(0,20)+"..."),e}},directives:{focus:{inserted:function(t){t.focus()}}},mounted:function(){this.paramDefaultInfo("MySQL5.7","1")},methods:{paramDefaultInfo:function(t,e){var a="?template_type="+parseInt(1)+"&version="+t;this.$http.get("/acmeCloud/parameter/default"+a).then(function(t){var e=t.body;0==e.status&&(this.tepDfList=e.data)},function(t){})},upParam:function(t,e){this.isUpParam=t,this.upParamValue=e},rvNameAndValue:function(t){this.upParamValue=t},saveParamNameAndVl:function(t,e){this.isUpParam=0;var a={template_id:this.template_id,parameter_name:t,parameter_value:e};this.$http.post("/acmeCloud/parameter/info/single/modify",i()(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){0==t.body.status?(alert("修改成功!"),this.templateInfo(this.template_id)):alert("修改失败!")},function(t){})},getAddTemplate:function(){if(""==this.templateName||""==this.remark)return nameTips.innerHTML="模板名称不能为空",remarkTips.innerHTML="模板描述不能为空",void t(window).scrollTop(0);var e={template_name:this.templateName,remark:this.remark,template_type:1,version:this.version,parameter_info:this.tepDfList};this.$http.post("/acmeCloud/parameter/add",i()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"},emulateJSON:!0}).then(function(t){var e=t.body;0==e.status?this.$router.push({path:"parameter"}):alert(e.msg)},function(t){})},blurFn:function(){var t=document.getElementsByTagName("input");""==t[0].value?(ts0.innerHTML="内容不能为空",ts0.style.color="red"):/^[\da-zA-Z_\u4e00-\u9f5a]{3,8}$/.test(t[0].value)?(ts0.innerHTML="",ts0.style.color="green"):(ts0.innerHTML="格式错误",ts0.style.color="red",t[0].value="")}}}}).call(e,a("7t+N"))},tmuA:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzkwN0Q3M0FGNTUxMUU4OTNFMDkxRUJEQ0I5MUIyRSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzkwN0Q3NEFGNTUxMUU4OTNFMDkxRUJEQ0I5MUIyRSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3OTA3RDcxQUY1NTExRTg5M0UwOTFFQkRDQjkxQjJFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk3OTA3RDcyQUY1NTExRTg5M0UwOTFFQkRDQjkxQjJFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+uwUCPgAAAalJREFUeNq8lj1LA0EQhvc0CtqJCoKohfiBQW1EtBEhYETxd8RCGwvxD/gDUtgoNlapLGy0shNJGj8aiVqoIIiIaAJRBLO+E97g5Nzrsg485OZmLrtzO+/uBdbaWWPMFugx9bUCSAcY4BwX48aTxUCg/FNwFMqR+BSYD91/BbtgDCRBBjyDZdDMnA+DCrL211LAOJixf22fsU761dw7lVOIhWaVAgOgQVX2DSYc1SfADhikfwieQHdN+TIifvt8rkEWfHGm9TR5C0WpwPg0qaAf2FA31cvKgfVbgq28J48DlGWAN3UjQ1FNK8RPOx6+pcA26W+ABfCickoijEcljLUIoS05hHbA2Cj9Dvp5LTRZg7wSywO4ccy2lwIMW45N0s5nRWiTKl5pU9FAk882lXfY5en/P/9FaHvci3yMVJIKSrho8VnBPRhWvX0GGlWObIJDPFhqVAqOuX5xcM1OSqhtpyh9e6X6djVCB3MOHVww1ko/Tv8yfODo2S6Cd0elyQhtrIAR+uvc+vXHQyBrIGdrm8812OZBXT0mXdu2jeiyQMWrvs47+RFgAE9aXr6486M3AAAAAElFTkSuQmCC"},tvR6:function(t,e){},"v+J0":function(t,e){},"v/9F":function(t,e){},v1XD:function(t,e){},vcUa:function(t,e){},vgMR:function(t,e){},wkfO:function(t,e){},x7VU:function(t,e,a){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("div",{staticClass:"footer_main"},[e("img",{attrs:{src:a("or/K"),alt:""}})])])}]};e.a=s},xIOO:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAZCAYAAAAiwE4nAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCNjc4NTMyM0FGNTUxMUU4OEQ1ODk4MUE2Mjc2MDE5NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCNjc4NTMyNEFGNTUxMUU4OEQ1ODk4MUE2Mjc2MDE5NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2Nzg1MzIxQUY1NTExRTg4RDU4OTgxQTYyNzYwMTk2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2Nzg1MzIyQUY1NTExRTg4RDU4OTgxQTYyNzYwMTk2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/5sZIgAAAdtJREFUeNq8ljtLA0EQx/dyFx9g7BUFEW0ExUaUNAqC4qMQLPwAFhZ+BQtBv4CFha2VCJYiKIKKiAQDoiAWKhY+AhZBNBCjyfofmEBcZi+JuWTgB3s7uzO7szO752itN5VSc6BOVU8yYAtcOHD4jYanqi/k544cakHxA3LCJJcjEeLvHI+XhMaEjb53T3C2CC5BVjBCzpbBOH/f8PiMMLYXrBtOteTwCHQVGM3LF1gFtwW6N3Bi2eEzL9rXIYW3CcyCecHIjhHqbrBiiUabEFIxWRzwKfSn+GxDhtGlcjKn0uz84HPUgo4i1WMs0OowLPQ18uRC49dgmHduyiA4BvXFHGZ55SkhpOlKi9ET6oxYA9vCQihDI0bqn1pqNiJFyix8mngAHoXdUDI1gxHQ8c8NJqWbppqS9ISwUa29BmC8hevZ9TtDcrgHrgJw2AdmTIdSSLWlrsoVh/kT0pCqsXjCQ7kQYEg3jIfdkepwAvQHlDSu0ZemM4yhMVCDaMbyvxjTaEwaN4gprSAKGgQdXRBn4KXIJb8L7hUlaQlEQULLkmB9SbaKZanLO2/3eVk81keEM1PSXWrT0eM6BkbBEOj0sfMAzsEh2AdP1pE+258CcV2exHme1e6vAAMAyVYzvN6YPPIAAAAASUVORK5CYII="},yDeO:function(t,e){},"zT7/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAXCAYAAAAV1F8QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCQzMzRUE0M0FGNTUxMUU4OUQ4Q0YzMDRFOEQxMDA4RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCQzMzRUE0NEFGNTUxMUU4OUQ4Q0YzMDRFOEQxMDA4RiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkJDMzNFQTQxQUY1NTExRTg5RDhDRjMwNEU4RDEwMDhGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkJDMzNFQTQyQUY1NTExRTg5RDhDRjMwNEU4RDEwMDhGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+k4nduAAAAd9JREFUeNq0lrsvREEUxu+uRYho7FJ5RoJGQUIhZCPZ0iORKPgPFOIZlYaGRuIvoBA6EQUJBfHIKjYiolBYki1orCDE2/Wdde6a3NyZHdc6yW9n9853z3dn5szc9Zim6TcMow1kGvL4AJsgZrgMD4wiaOs1tJegDLy5NfqkVlNf6nZUvl+YUPSCeAoNTfM2iNpHZBrpj3tQIT6U1/ifyAc19qkT4xFE3C64Le5kU/fO1XcMckF2Gswo9+33t5/YIk8wQZVopi9OQaE4dWGQA0YVlUgVdQZeQXWKTW5FFQiJI2oHTZKnegfT9GQ8aiIPDIEHjVHVikaUZFAi7OHkHWAOLPA1H2hIYXYDvJZRlBMtOQiXuG/WoW8NZIAxhdFqot74xyInO3cQBkGzIlEXKAAfkv4Rym1t2AMQAOUOi3kCWhWLHeIT4ErSvyueDGTUIBFmgSeF0SO32ZK+Q8voGRwpjPpAnWJDLnMJ+x36w8lTBvO3z+uzrrkBSTfJJd/P985LtOPWdqCPGUBH0bWGCZ0aXlAESjjJsEIfFI26QaWGSRwE+MYc0Ak2FPpn1iWNSnjz6UQMNIIWDe2ecIokXhMxRSHYoxjsgAsN7Yr9NUHtgP1F9cegPzJT4MW68CXAAI2irHhwGc+QAAAAAElFTkSuQmCC"},zout:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d8fa017f31b2a459a01c.js.map